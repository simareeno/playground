(function(){var e,t,a;a=void 0,e=void 0,t=void 0,function(e){return e.Inn&&e.Inn.i18n&&e.Inn.i18n.__t__?void(a=e.Inn.i18n.__t__):(a=function(t,a,s){var n;return n="","string"!=typeof t||"string"!=typeof a?n:(s="object"==typeof s?s:{},t.indexOf("/")===-1&&(t="4game.com/"+t),"object"!=typeof e.Inn.i18n[t]?("undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("i18n: missing bundle: "+t),n):"string"!=typeof e.Inn.i18n[t][a]?("undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("i18n: missing key: "+a+" in bundle "+t),n):n=e.Inn.i18n[t][a].replace(/\{(\w+)\}|%(\w+)%/g,function(e,t,a){return e in s?s[e]:t in s?s[t]:a in s?s[a]:e}))},((e.Inn||{}).i18n=e.Inn.i18n||{}).__t__=a,void define("i18n_t",[],function(){return a}))}(this),function(e){return e.Inn&&e.Inn.i18n&&e.Inn.i18n.__plural__?void(t=e.Inn.i18n.__plural__):(t=function(e,t,s,n){var i,r;if("string"==typeof t&&"string"==typeof s)return r=a(t,s,n),i=r.split("|"),isNaN(e)||"string"==typeof e&&"0"!==e&&0===parseInt(e,10)?i[0]:"undefined"==typeof window.Inn.i18n.pluralRule?i[0]:i[window.Inn.i18n.pluralRule(e)]},((e.Inn||{}).i18n=e.Inn.i18n||{}).__plural__=t,void define("i18n_plural",[],function(){return t}))}(this),define("jade_templates",function(){return this.jade&&this.jade.templates||{}})}).call(this),this.jade=this.jade||{},this.jade.templates=this.jade.templates||{},function(e){return e.bAccountSecuritySettingsWidget=function(e){var t=[],a=e||{},s=a.modifiers,n=a.linkModifiers,i=a.state,r=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},o=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),o.length&&n.push(o),l=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});s=[],e.border&&s.push("bAccountSecuritySettingsWidget__mBorder"),e.lvl&&s.push("bAccountSecuritySettingsWidget__mSecurityLvl_"+e.lvl),t.push("<div"+jade.attrs({id:e.id,"class":["bAccountSecuritySettingsWidget",s.join(" ")]},{"class":!0,id:!0})+">"),e.status&&(t.push('<div class="bAccountSecuritySettingsWidget__eStatus">'),o({content:e.status.text,type:e.status.type,size:"header"}),t.push("</div>")),e.info&&(t.push('<ul class="bAccountSecuritySettingsWidget__eInfoList">'),function(){var a=e.info;if("number"==typeof a.length)for(var s=0,i=a.length;s<i;s++){var r=a[s];t.push("<li"+jade.attrs({id:r.id,"class":["bAccountSecuritySettingsWidget__eInfo"]},{id:!0})+">"),r.title&&(t.push('<h2 class="bAccountSecuritySettingsWidget__eInfo__eTitle">'),r.href?t.push("<a"+jade.attrs({id:r.linkId,href:r.href,"data-reload-sections":r.reloadSections,"class":["bAccountSecuritySettingsWidget__eLink"]},{id:!0,href:!0,"data-reload-sections":!0})+">"+(null==(jade.interp=r.title)?"":jade.interp)+"</a>"):t.push(null==(jade.interp=r.title)?"":jade.interp),t.push("</h2>")),r.content&&function(){var e=r.content;if("number"==typeof e.length)for(var a=0,s=e.length;a<s;a++){var i=e[a];if(i.list)t.push("<ul"+jade.attrs({id:i.id,"class":["bAccountSecuritySettingsWidget__eInfoList","bAccountSecuritySettingsWidget__eInfoList__mDesc"]},{id:!0})+">"),function(){var e=i.list;if("number"==typeof e.length)for(var a=0,s=e.length;a<s;a++){var n=e[a];t.push('<li class="bAccountSecuritySettingsWidget__eInfo">'+(null==(jade.interp=n)?"":jade.interp)+"</li>")}else{var s=0;for(var a in e){s++;var n=e[a];t.push('<li class="bAccountSecuritySettingsWidget__eInfo">'+(null==(jade.interp=n)?"":jade.interp)+"</li>")}}}.call(this),t.push("</ul>");else{t.push("<p"+jade.attrs({id:i.id,"class":["bAccountSecuritySettingsWidget__eInfo__eDesc"]},{id:!0})+">");var o=i.nodes||[i];(function(){var e=o;if("number"==typeof e.length)for(var a=0,s=e.length;a<s;a++){var i=e[a];i.text?o.length>1?t.push('<span class="bAccountSecuritySettingsWidget__eInfo__eDesc__eTextNode">'+(null==(jade.interp=i.text)?"":jade.interp)+"</span>"):t.push(null==(jade.interp=i.text)?"":jade.interp):i.link&&(n=[],i.dashed&&n.push("bAccountSecuritySettingsWidget__eLink__mDashed"),i.sublink&&n.push("bAccountSecuritySettingsWidget__eLink__mSublink"),t.push("<a"+jade.attrs({id:i.linkId,href:i.href,"data-reload-sections":i.reloadSections,"class":["bAccountSecuritySettingsWidget__eLink",n.join(" ")]},{"class":!0,id:!0,href:!0,"data-reload-sections":!0})+">"+(null==(jade.interp=i.link)?"":jade.interp)+"</a>"))}else{var s=0;for(var a in e){s++;var i=e[a];i.text?o.length>1?t.push('<span class="bAccountSecuritySettingsWidget__eInfo__eDesc__eTextNode">'+(null==(jade.interp=i.text)?"":jade.interp)+"</span>"):t.push(null==(jade.interp=i.text)?"":jade.interp):i.link&&(n=[],i.dashed&&n.push("bAccountSecuritySettingsWidget__eLink__mDashed"),i.sublink&&n.push("bAccountSecuritySettingsWidget__eLink__mSublink"),t.push("<a"+jade.attrs({id:i.linkId,href:i.href,"data-reload-sections":i.reloadSections,"class":["bAccountSecuritySettingsWidget__eLink",n.join(" ")]},{"class":!0,id:!0,href:!0,"data-reload-sections":!0})+">"+(null==(jade.interp=i.link)?"":jade.interp)+"</a>"))}}}).call(this),t.push("</p>")}}else{var s=0;for(var a in e){s++;var i=e[a];if(i.list)t.push("<ul"+jade.attrs({id:i.id,"class":["bAccountSecuritySettingsWidget__eInfoList","bAccountSecuritySettingsWidget__eInfoList__mDesc"]},{id:!0})+">"),function(){var e=i.list;if("number"==typeof e.length)for(var a=0,s=e.length;a<s;a++){var n=e[a];t.push('<li class="bAccountSecuritySettingsWidget__eInfo">'+(null==(jade.interp=n)?"":jade.interp)+"</li>")}else{var s=0;for(var a in e){s++;var n=e[a];t.push('<li class="bAccountSecuritySettingsWidget__eInfo">'+(null==(jade.interp=n)?"":jade.interp)+"</li>")}}}.call(this),t.push("</ul>");else{t.push("<p"+jade.attrs({id:i.id,"class":["bAccountSecuritySettingsWidget__eInfo__eDesc"]},{id:!0})+">");var o=i.nodes||[i];(function(){var e=o;if("number"==typeof e.length)for(var a=0,s=e.length;a<s;a++){var i=e[a];i.text?o.length>1?t.push('<span class="bAccountSecuritySettingsWidget__eInfo__eDesc__eTextNode">'+(null==(jade.interp=i.text)?"":jade.interp)+"</span>"):t.push(null==(jade.interp=i.text)?"":jade.interp):i.link&&(n=[],i.dashed&&n.push("bAccountSecuritySettingsWidget__eLink__mDashed"),i.sublink&&n.push("bAccountSecuritySettingsWidget__eLink__mSublink"),t.push("<a"+jade.attrs({id:i.linkId,href:i.href,"data-reload-sections":i.reloadSections,"class":["bAccountSecuritySettingsWidget__eLink",n.join(" ")]},{"class":!0,id:!0,href:!0,"data-reload-sections":!0})+">"+(null==(jade.interp=i.link)?"":jade.interp)+"</a>"))}else{var s=0;for(var a in e){s++;var i=e[a];i.text?o.length>1?t.push('<span class="bAccountSecuritySettingsWidget__eInfo__eDesc__eTextNode">'+(null==(jade.interp=i.text)?"":jade.interp)+"</span>"):t.push(null==(jade.interp=i.text)?"":jade.interp):i.link&&(n=[],i.dashed&&n.push("bAccountSecuritySettingsWidget__eLink__mDashed"),i.sublink&&n.push("bAccountSecuritySettingsWidget__eLink__mSublink"),t.push("<a"+jade.attrs({id:i.linkId,href:i.href,"data-reload-sections":i.reloadSections,"class":["bAccountSecuritySettingsWidget__eLink",n.join(" ")]},{"class":!0,id:!0,href:!0,"data-reload-sections":!0})+">"+(null==(jade.interp=i.link)?"":jade.interp)+"</a>"))}}}).call(this),t.push("</p>")}}}}.call(this),t.push("</li>")}else{var i=0;for(var s in a){i++;var r=a[s];t.push("<li"+jade.attrs({id:r.id,"class":["bAccountSecuritySettingsWidget__eInfo"]},{id:!0})+">"),r.title&&(t.push('<h2 class="bAccountSecuritySettingsWidget__eInfo__eTitle">'),r.href?t.push("<a"+jade.attrs({id:r.linkId,href:r.href,"data-reload-sections":r.reloadSections,"class":["bAccountSecuritySettingsWidget__eLink"]},{id:!0,href:!0,"data-reload-sections":!0})+">"+(null==(jade.interp=r.title)?"":jade.interp)+"</a>"):t.push(null==(jade.interp=r.title)?"":jade.interp),t.push("</h2>")),r.content&&function(){var e=r.content;if("number"==typeof e.length)for(var a=0,s=e.length;a<s;a++){var i=e[a];if(i.list)t.push("<ul"+jade.attrs({id:i.id,"class":["bAccountSecuritySettingsWidget__eInfoList","bAccountSecuritySettingsWidget__eInfoList__mDesc"]},{id:!0})+">"),function(){var e=i.list;if("number"==typeof e.length)for(var a=0,s=e.length;a<s;a++){var n=e[a];t.push('<li class="bAccountSecuritySettingsWidget__eInfo">'+(null==(jade.interp=n)?"":jade.interp)+"</li>")}else{var s=0;for(var a in e){s++;var n=e[a];t.push('<li class="bAccountSecuritySettingsWidget__eInfo">'+(null==(jade.interp=n)?"":jade.interp)+"</li>")}}}.call(this),t.push("</ul>");else{t.push("<p"+jade.attrs({id:i.id,"class":["bAccountSecuritySettingsWidget__eInfo__eDesc"]},{id:!0})+">");var o=i.nodes||[i];(function(){var e=o;if("number"==typeof e.length)for(var a=0,s=e.length;a<s;a++){var i=e[a];i.text?o.length>1?t.push('<span class="bAccountSecuritySettingsWidget__eInfo__eDesc__eTextNode">'+(null==(jade.interp=i.text)?"":jade.interp)+"</span>"):t.push(null==(jade.interp=i.text)?"":jade.interp):i.link&&(n=[],i.dashed&&n.push("bAccountSecuritySettingsWidget__eLink__mDashed"),i.sublink&&n.push("bAccountSecuritySettingsWidget__eLink__mSublink"),t.push("<a"+jade.attrs({id:i.linkId,href:i.href,"data-reload-sections":i.reloadSections,"class":["bAccountSecuritySettingsWidget__eLink",n.join(" ")]},{"class":!0,id:!0,href:!0,"data-reload-sections":!0})+">"+(null==(jade.interp=i.link)?"":jade.interp)+"</a>"))}else{var s=0;for(var a in e){s++;var i=e[a];i.text?o.length>1?t.push('<span class="bAccountSecuritySettingsWidget__eInfo__eDesc__eTextNode">'+(null==(jade.interp=i.text)?"":jade.interp)+"</span>"):t.push(null==(jade.interp=i.text)?"":jade.interp):i.link&&(n=[],i.dashed&&n.push("bAccountSecuritySettingsWidget__eLink__mDashed"),i.sublink&&n.push("bAccountSecuritySettingsWidget__eLink__mSublink"),t.push("<a"+jade.attrs({id:i.linkId,href:i.href,"data-reload-sections":i.reloadSections,"class":["bAccountSecuritySettingsWidget__eLink",n.join(" ")]},{"class":!0,id:!0,href:!0,"data-reload-sections":!0})+">"+(null==(jade.interp=i.link)?"":jade.interp)+"</a>"))}}}).call(this),t.push("</p>")}}else{var s=0;for(var a in e){s++;var i=e[a];if(i.list)t.push("<ul"+jade.attrs({id:i.id,"class":["bAccountSecuritySettingsWidget__eInfoList","bAccountSecuritySettingsWidget__eInfoList__mDesc"]},{id:!0})+">"),function(){var e=i.list;if("number"==typeof e.length)for(var a=0,s=e.length;a<s;a++){var n=e[a];t.push('<li class="bAccountSecuritySettingsWidget__eInfo">'+(null==(jade.interp=n)?"":jade.interp)+"</li>")}else{var s=0;for(var a in e){s++;var n=e[a];t.push('<li class="bAccountSecuritySettingsWidget__eInfo">'+(null==(jade.interp=n)?"":jade.interp)+"</li>")}}}.call(this),t.push("</ul>");else{t.push("<p"+jade.attrs({id:i.id,"class":["bAccountSecuritySettingsWidget__eInfo__eDesc"]},{id:!0})+">");var o=i.nodes||[i];(function(){var e=o;if("number"==typeof e.length)for(var a=0,s=e.length;a<s;a++){var i=e[a];i.text?o.length>1?t.push('<span class="bAccountSecuritySettingsWidget__eInfo__eDesc__eTextNode">'+(null==(jade.interp=i.text)?"":jade.interp)+"</span>"):t.push(null==(jade.interp=i.text)?"":jade.interp):i.link&&(n=[],i.dashed&&n.push("bAccountSecuritySettingsWidget__eLink__mDashed"),i.sublink&&n.push("bAccountSecuritySettingsWidget__eLink__mSublink"),t.push("<a"+jade.attrs({id:i.linkId,href:i.href,"data-reload-sections":i.reloadSections,"class":["bAccountSecuritySettingsWidget__eLink",n.join(" ")]},{"class":!0,id:!0,href:!0,"data-reload-sections":!0})+">"+(null==(jade.interp=i.link)?"":jade.interp)+"</a>"))}else{var s=0;for(var a in e){s++;var i=e[a];i.text?o.length>1?t.push('<span class="bAccountSecuritySettingsWidget__eInfo__eDesc__eTextNode">'+(null==(jade.interp=i.text)?"":jade.interp)+"</span>"):t.push(null==(jade.interp=i.text)?"":jade.interp):i.link&&(n=[],i.dashed&&n.push("bAccountSecuritySettingsWidget__eLink__mDashed"),i.sublink&&n.push("bAccountSecuritySettingsWidget__eLink__mSublink"),t.push("<a"+jade.attrs({id:i.linkId,href:i.href,"data-reload-sections":i.reloadSections,"class":["bAccountSecuritySettingsWidget__eLink",n.join(" ")]},{"class":!0,id:!0,href:!0,"data-reload-sections":!0})+">"+(null==(jade.interp=i.link)?"":jade.interp)+"</a>"))}}}).call(this),t.push("</p>")}}}}.call(this),t.push("</li>")}}}.call(this),t.push("</ul>")),t.push("</div>")};return l(i),i.additionalInfo&&i.additionalInfo.length&&l({info:i.additionalInfo}),t.join("")},e.bCrossconversion__eItem=function(e){var t=[],a=function(e){this.block,this.attributes||{},this.escaped||{};t.push('<div class="bCrossconversion__eItem"><img'+jade.attrs({src:e.image,alt:"","class":["bCrossconversion__eImage"]},{src:!0,alt:!0})+"/><div"+jade.attrs({"data-link":e.link,"class":["bCrossconversion__eContent"]},{"data-link":!0})+'><div class="bCrossconversion__eCaption">'+jade.escape(null==(jade.interp=e.title)?"":jade.interp)+'</div><div class="bCrossconversion__eTags">'),function(){var a=e.tags;if("number"==typeof a.length)for(var s=0,n=a.length;s<n;s++){var i=a[s];t.push('<div class="bCrossconversion__eTag">'+jade.escape(null==(jade.interp=i)?"":jade.interp)+"</div>")}else{var n=0;for(var s in a){n++;var i=a[s];t.push('<div class="bCrossconversion__eTag">'+jade.escape(null==(jade.interp=i)?"":jade.interp)+"</div>")}}}.call(this),t.push("</div></div></div>")};return a(),t.join("")},e.bDialog_mixin=function(e){var t=[],a=e||{};a.t,a.bSmallButton_mixin;return t.join("")},e.bDropdownMenu_mixin=function(e){var t=[],a=e||{},s=a.data,n=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});t.push("<div"+jade.attrs({"class":["bDropdownMenu",e.options.modifier?e.options.modifier:""]},{"class":!0})+'><ul class="bDropdownMenu__eList">'),function(){var a=e.list;if("number"==typeof a.length)for(var s=0,n=a.length;s<n;s++){var i=a[s];t.push('<li class="bDropdownMenu__eListItem">'),i.link?t.push("<a"+jade.attrs({href:i.link,"class":["bDropdownMenu__eListItem__eLink"]},{href:!0})+">"+jade.escape(null==(jade.interp=i.text)?"":jade.interp)+"</a>"):t.push("<span"+jade.attrs({"data-id":i.id,"class":["bDropdownMenu__eListItem__eLink"]},{"data-id":!0})+">"+jade.escape(null==(jade.interp=i.text)?"":jade.interp)+"</span>"),t.push("</li>")}else{var n=0;for(var s in a){n++;var i=a[s];t.push('<li class="bDropdownMenu__eListItem">'),i.link?t.push("<a"+jade.attrs({href:i.link,"class":["bDropdownMenu__eListItem__eLink"]},{href:!0})+">"+jade.escape(null==(jade.interp=i.text)?"":jade.interp)+"</a>"):t.push("<span"+jade.attrs({"data-id":i.id,"class":["bDropdownMenu__eListItem__eLink"]},{"data-id":!0})+">"+jade.escape(null==(jade.interp=i.text)?"":jade.interp)+"</span>"),t.push("</li>")}}}.call(this),t.push("</ul></div>")};return s&&n(s),t.join("")},e.bGamePanel__allMixins=function(e){var t=[],a=e||{},s=(a.newParams,a.typeModifiers,a.modifiers,a.data),n=a.t,i=a.utils,r=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},o=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});l(e)};t.push("<!-- сама кнопка-->");var l=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),p(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),p(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var p=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),r({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},r=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},d=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&d(s);var r=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},_=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),o.length&&n.push(o),l=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},d=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&d(s);var u=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),d({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},c=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.stages||[],r=a.serviceId||e["Game/current.serviceId"],o=a.stageSize||0;s.length&&(s.length=1);var l=Math.floor(a.progress)||0,p=100-l,l=l+"%",p=p+"%",d="";if("small"==a.size)var d="bUIProgressBar__mType_small";if("pause"==a.state)var d=d+" bUIProgressBar__mState_pause";else if("prepare"==a.state)var d=d+" bUIProgressBar__mState_prepare";else if("repair"==a.state)var d=d+" bUIProgressBar__mState_repair";if(t.push('<div class="bUIProgressBar__eContainer"><div'+jade.attrs({id:a.id,"class":["bUIProgressBar",d]},{"class":!0,id:!0})+'><div class="bUIProgressBar__eInner"><div class="bUIProgressBar__eStageHighlights">'),function(){var e=s;if("number"==typeof e.length)for(var a=0,n=e.length;a<n;a++){var i=e[a];t.push("<i"+jade.attrs({style:"margin-right: -"+i+"%","class":["bUIProgressBar__eStageHighlight"]},{style:!0})+"></i>")}else{var n=0;for(var a in e){n++;var i=e[a];t.push("<i"+jade.attrs({style:"margin-right: -"+i+"%","class":["bUIProgressBar__eStageHighlight"]},{style:!0})+"></i>")}}}.call(this),t.push("</div>"),"small"!=a.size&&t.push('<span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=l)?"":jade.interp)+"</span>"),s.length&&(t.push('<div class="bUIProgressBar__eStages">'),function(){var e=s;if("number"==typeof e.length)for(var n=0,i=e.length;n<i;n++){var r=e[n];t.push("<div"+jade.attrs({style:"left: "+r+"%","class":["bUIProgressBar__eStageShift"]},{style:!0})+'><div class="bUIProgressBar__eStage">'),"small"!=a.size&&t.push("<div"+jade.attrs({style:"left: "+(100+(50-r))+"%","class":["bUIProgressBar__eStageStatus"]},{style:!0})+'><span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=l)?"":jade.interp)+"</span></div>"),t.push("</div></div>")}else{var i=0;for(var n in e){i++;var r=e[n];t.push("<div"+jade.attrs({style:"left: "+r+"%","class":["bUIProgressBar__eStageShift"]},{style:!0})+'><div class="bUIProgressBar__eStage">'),"small"!=a.size&&t.push("<div"+jade.attrs({style:"left: "+(100+(50-r))+"%","class":["bUIProgressBar__eStageStatus"]},{style:!0})+'><span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=l)?"":jade.interp)+"</span></div>"),t.push("</div></div>")}}}.call(this),t.push("</div>")),t.push("<div"+jade.attrs({style:"left: -"+p+";","class":["bUIProgressBar__eTrack"]},{style:!0})+"><div"+jade.attrs({style:"left: "+p+";","class":["bUIProgressBar__eComplete"]},{style:!0})+">"),"small"!=a.size&&t.push('<span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=l)?"":jade.interp)+"</span>"),t.push('</div></div></div></div><div class="bUIProgressBar__eExtra">'),s.length){if(t.push('<div class="bUIProgressBar__eStageInfo"><div'+jade.attrs({style:"width: "+s[0]+"%","class":["bUIProgressBar__eStageInfoCell"]},{style:!0})+'></div><div class="bUIProgressBar__eStageInfoCell"><div class="bUIProgressBar__eStageInfoBubble"><i'+jade.attrs({style:"left: "+s[0]+"%","class":["bUIProgressBar__eStageInfoBubble__eArrow"]},{style:!0})+'></i><div class="bUIProgressBar__eStageInfoBubble__eContent">'),_({content:n("Game-Panel","LiteClientFirstStageHintText",{size:i.getSizeBinaryLocalized(o)}),type:"description-highlight"}),!a.hideHelp){var c=n("Game-Panel","LiteClientDescription."+r),c=c||n("Game-Panel","LiteClientDescription");u({type:"YellowBig",hintContent:c,hintModifiers:"bUIHint__ePopup__mRoundCorners bUIHint__ePopup__mSmall"})}t.push("</div></div></div></div>")}t.push("</div></div>")};s&&c(s);var r=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},_=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),o.length&&n.push(o),l=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},m=function(e){var a=(this.block,this.attributes||{}),s=this.escaped||{},e=e||{};e.target=e.target||"_top";var n="bPseudoButtonLink bPseudoButtonLink_mType_GamePanel";if(e.isBlock)var n=n+" bPseudoButtonLink__mDisplay_Block";e.link?(t.push("<a"+jade.attrs(jade.merge({href:""+e.link,target:""+e.target,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":[n]},a),jade.merge({href:!0,target:!0,"class":!0,"data-reload-sections":!0,id:!0},s,!0))+">"),h(e,!0),t.push("</a>")):h(e,!1)},h=function(e,a){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),s=e.modifiers||"";if(e.isBlock)var s=s+" bPseudoButton__mDisplay_Block";t.push("<span"+jade.attrs({id:!a&&(e.id||!1),style:!!e.minWidth&&"min-width: "+e.minWidth+";","class":["bPseudoButton","bPseudoButton__mType_GamePanel",s]},{"class":!0,id:!0,style:!0})+'><span class="bPseudoButton__eShine"><span class="bPseudoButton__eText">'+(null==(jade.interp=e.text)?"":jade.interp)),e.hoverText&&t.push('<span class="bPseudoButton__eHoverText">'+(null==(jade.interp=e.hoverText)?"":jade.interp)+"</span>"),t.push("</span></span></span>")},b=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});e.action?(t.push("<form"+jade.attrs({action:""+e.action,method:"get",id:e.id||!1,"class":["bSmallButtonForm"]},{action:!0,method:!0,id:!0})+">"),I(e,!0),t.push("</form>")):I(e,!1)},I=function(e,a){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),s=e.modifiers||"";if(e.isBlock)var s=s+" bSmallButton__mDisplay_Block";t.push("<button"+jade.attrs({style:!!e.minWidth&&"min-width: "+e.minWidth+";",id:!a&&(e.id||!1),"class":["bSmallButton",s]},{"class":!0,style:!0,id:!0})+'><span class="bSmallButton__eShine">'+(null==(jade.interp=e.text)?"":jade.interp)+"</span></button>")},g=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{}),s=e.yesText||n("Interface","YesButton"),i=e.noText||n("Interface","NoButton");
t.push("<div"+jade.attrs({"class":["bDialog",e.modifiers||""]},{"class":!0})+">"),a&&a(),t.push("<div"+jade.attrs({id:e.id||!1,"class":["bDialogButtons"]},{id:!0})+'><div class="bDialogButton bDialogButton__mPosition_Left">'),b({text:s,id:e.YesButtonId,modifiers:"",minWidth:"80px"}),t.push('</div><div class="bDialogButton bDialogButton__mPosition_Right">'),b({text:i,id:e.NoButtonId,modifiers:"",minWidth:"80px"}),t.push("</div></div></div>")},d=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&d(s);var u=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),d({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},r=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},o=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});l(e)};t.push("<!-- сама кнопка-->");var l=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),p(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),p(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var p=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),r({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},f=function(){var a=(this.block,this.attributes||{},this.escaped||{},e["L4G.Currency"]);t.push('<span class="bRubleSymbol">'),"RUB"==a?t.push(null==(jade.interp=n("Interface","RoubleSymbol"))?"":jade.interp):"BRL"==a?t.push(jade.escape(null==(jade.interp="R$")?"":jade.interp)):t.push(jade.escape(null==(jade.interp="&euro;")?"":jade.interp)),t.push("</span>")};s&&f();var v=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=e["Game/current.flags"]||{},i=i||e["Game/current.account"],r=e["Game/current.account.status"],l=e["Layout/premiumIsRenewal."+e["Game/current.serviceId"]],p=e["Game/current.premium"],d=e["GameData/services."+e["Game/current.serviceId"]+".premium_enabled"],_=p.premiumPage,c="bPremiumActions",m="ImproveAccount",h=!1,b="pseudo_small",I=!1;if("undefined"!=typeof r)if(3==r){if(s.needSubscription)var g="common"}else if(2==r)var g="premium";else if(1==r)if(s.needSubscription)var g="premium";else var g="common";else var g="basic";if("premium"==g)var h=!0;if(h){var m="ExtendAccountImprovement";if(l)var m="ExtendAccountImprovementAgain"}else var b="small",I=!0;var v="";if(9==e["Game/current.serviceId"])var v="__Aion";if(s.needSubscription)var v="__Subscription";a.modifiers&&(c+=" "+a.modifiers),t.push("<div"+jade.attrs({id:a.id||!1,"class":[c]},{"class":!0,id:!0})+"><div"+jade.attrs({"class":["bPremiumActions__eActionControl",d&&h?"bPremiumActions__eActionControl__mRenewal":""]},{"class":!0})+">"),d?(o({id:"jsBtnBuyPremiumInGamePanel",title:n("Game-Panel",m+v),type:b,shadowed:I,className:"bUIButton__eFrame__mGamePanelPremium",link:"?popupWidget=PremiumUpgradeWidget",dataReloadSections:'PremiumUpgradeWidget: {"target":"#OverlayContent","ns":"popup"}'}),!h&&p.premiumMinPrice&&(t.push("<div"+jade.attrs({id:"gamepanel-premium-min-price","class":["bPremiumActions__eActionControl__eSubInfo",p.isPromoPrice?"bPremiumActions__eActionControl__eSubInfo__mGreen":""]},{"class":!0})+">"+(null==(jade.interp=n("Game-Panel",p.isPromoPrice?"MinPremiumPromoPriceFrom":"MinPremiumPriceFrom"))?"":jade.interp)+"&nbsp;"+jade.escape(null==(jade.interp=p.premiumMinPrice)?"":jade.interp)+"&nbsp;"),f(),t.push("</div>"))):t.push('<div class="bPremiumActions__ePremiumPageLink">'+(null==(jade.interp=p.gamePanelIngamePremium)?"":jade.interp)+"</div>"),t.push("</div>"),d&&h?(t.push('<div class="bPremiumActions__eSubinfo"><span class="bPremiumActions__eSubinfoContent">'+(null==(jade.interp=n("Game-Panel","AutoImprovement"))?"":jade.interp)+'<span class="bPseudoLink bPremiumActions__eSubinfoPseudolink"><span'+jade.attrs({id:"bPremiumActions__eAutoImprovement","data-improvement-state":""+i.subscription.autopay_enabled,"data-improvement-url":"/subscription/setAutopay?serviceAccountId="+i.service_account_id,"class":["bPremiumActions__eSubinfoPseudolinkText"]},{"data-improvement-state":!0,"data-improvement-url":!0})+">"+(null==(jade.interp=n("Game-Panel",i.subscription.autopay_enabled?"AutoImprovementOn":"AutoImprovementOff"))?"":jade.interp)+"</span></span>"),u({id:"",type:"Grey",modifiers:"bPremiumActions__eHelpIcon",hintContent:n("Game-Panel","AutoImprovementHelp"+v)}),t.push("</span></div>")):_&&p.gamePanelPremiumPage&&t.push("<a"+jade.attrs({id:"gamepanel-premium-page-link",href:p.premiumPageLink,"class":["bPremiumActions__ePremiumPageLink"]},{href:!0})+">"+jade.escape(null==(jade.interp=p.gamePanelPremiumPage)?"":jade.interp)+"</a>"),t.push("</div>")},d=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&d(s);var u=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),d({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")};return t.push("<form"+jade.attrs({method:"GET",action:e["Game/current.downloadUrl"],"data-id":e["Game/current.serviceId"],"class":["bGamePanelCommon__eMainSection"]},{method:!0,action:!0,"data-id":!0})+"><div>Плагин не установлен -- workingModeFault.jade</div>"),r(),r({type:"yellow"}),r({type:"black"}),r({type:"big"}),d({content:"bla bla bla",arrow:"right",opened:!1}),t.push("<br/>"),c({progress:46,state:"prepare"}),t.push("<br/>"),c({progress:46}),t.push("<br/>"),c({progress:46,state:"pause"}),t.push("<br/>"),o({title:n("Interface","InstallButton"),className:"jsBtnServiceNoPlugin"}),_({content:"Премиум эккаунт навечно, <em>yeah!</em>"}),_({content:"Обновление установлено",type:"success"}),_({content:"Требуется обновление",type:"warning"}),_({content:"Закончилось место на&nbsp;диске, причем масштабно так закончилось",type:"error"}),_({content:"Идут профилактические работы",type:"maintenance"}),_({content:"Переустанови <a href='#' class='bInfoMessage__eSubInfoLink'>приложение Фогейм</a>, если ошибка повторяется",type:"subinfo"}),_({content:"485 ГБ всего лишь",type:"subinfo",align:"center"}),_({content:"Перейти на страницу игры",href:"../play",type:"success",size:"big"}),_({content:"Перейти на страницу игры",localHref:"true",type:"success",size:"big"}),_({content:"Профилактические работы",type:"maintenance",size:"big"}),_({content:"Аккаунт заблокирован",type:"ban",size:"big"}),t.push('<br/><br/><div style="text-align:center;">'),m({text:n("Interface","InstallButton"),modifiers:""}),t.push('</div><br/><br/><div style="text-align:center;">'),b({text:n("Interface","InstallButton"),modifiers:"",isBlock:!0}),t.push("</div><br/><br/>"),g.call({block:function(){_({content:"Отменить ремонт?",type:"warning"}),_({content:"Проверено 64 %",type:"explain"})}},{id:"testid"}),t.push("<br/><br/>"),v({id:""}),t.push("</form>"),t.join("")},e.bGamePanel__betaTestRequesting=function(e){var t=[],a=e||{},s=(a.newParams,a.t),n=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},i=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),i=[],r=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var r=r+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var r=r+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var r=r+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&i.push(p),o.length&&i.push(o),l=i.join("; "),a.href){var r=r+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",r]},{"class":!0,style:!0})+">"),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var r=r+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},n=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},r=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});o(e)};t.push("<!-- сама кнопка-->");var o=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),l(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),l(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),n({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},p=e["Game/current.betaTestRequestStatus"],d=e["L4G.User/UserData.user"].isAuthed(),_=e["L4G.User/UserData.user.email"],u=e["Game/current.serviceId"],c='AuthPopupWidget:{"target":"#OverlayContent","ns":"popup"}',m='CustomPopupWidget:{"target":"#OverlayContent","ns":"popup"}',h='SetContactWidget:{"target":"#OverlayContent","ns":"popup"}',b='<a href="?popupWidget=SetContactWidget&contactType=1" data-reload-sections=\''+h+"'>",I='<a href="?popupWidget=CustomPopupWidget&popupName=code-activation" data-reload-sections=\''+m+"'>",g='<a href="?popupWidget=AuthPopupWidget&block=login" data-reload-sections=\''+c+"'>",f='<a href="?popupWidget=AuthPopupWidget&block=reg" data-reload-sections=\''+c+"'>",v="</a>",y=s("Game-Panel","CbtApply"),j=s("Game-Panel","CbtApplySuccessTitle"),U=s("Game-Panel","CbtAcceptingApplicationsEnded"),P=s("Game-Panel","CbtUnknownError"),S=s("Game-Panel","CbtUnknownErrorDescription"),C=s("Game-Panel","CbtActivateCode",{linkStart:I,linkEnd:v}),x=s("Game-Panel","CbtDescriptionNoEmail",{emailLinkStart:b,emailLinkEnd:v}),B=s("Game-Panel","CbtDescriptionNoAuth",{authLinkStart:g,authLinkEnd:v,registerLinkStart:f,registerLinkEnd:v});if(t.push("<div"+jade.attrs({"data-id":e["Game/current.serviceId"],"class":["bGamePanelCommon__eMainSection","bGamePanelCommon__eMainSection__mCompactMargin_Middle","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0,"data-id":!0})+'><form class="bGamePanel__eRequestBlock">'),d)if("not_requested"==p)_?(r({title:y,width:"full"}),i({type:"description-centered",content:C})):(r({title:y,width:"full",disabled:!0}),i({type:"description",content:x}));else if("requested"==p){var w=s("Game-Panel","CbtApplySuccessDescription."+u,{email:_}),w=w||s("Game-Panel","CbtApplySuccessDescription",{email:_});i({type:"description",content:j}),i({type:"description",content:w}),i({type:"description-centered",content:C})}else"requesting"==p?r({title:y,width:"full",loading:!0}):"failure"==p?(r({title:y,width:"full"}),t.push('<div style="margin-top: 10px">'),i.call({block:function(){i({content:S,type:"subinfo"})}},{content:P,type:"error"}),t.push("</div>")):"closed"==p&&(r({title:y,width:"full",disabled:!0}),i({type:"description",content:U}),i({type:"description-centered",content:C}));else r({title:y,width:"full",disabled:!0}),i({type:"description",content:B});return t.push("</form></div>"),t.join("")},e.bGamePanel__components=function(e){var t=[],a=e||{},s=(a.typeModifiers,a.modifiers,a.data),n=(a.newParams,a.t),i=(a.utils,function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')}),r=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],r=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var r=r+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var r=r+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var r=r+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),o.length&&n.push(o),l=n.join("; "),a.href){var r=r+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",r]},{"class":!0,style:!0})+">"),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var r=r+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},o=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&o(s);var l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),o({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},i=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},p=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});d(e)};t.push("<!-- сама кнопка-->");var d=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),_(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),_(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var _=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),i({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},u=function(e){var a=(this.block,this.attributes||{}),s=this.escaped||{},e=e||{};e.target=e.target||"_top";var n="bPseudoButtonLink bPseudoButtonLink_mType_GamePanel";if(e.isBlock)var n=n+" bPseudoButtonLink__mDisplay_Block";e.link?(t.push("<a"+jade.attrs(jade.merge({href:""+e.link,target:""+e.target,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":[n]},a),jade.merge({href:!0,target:!0,"class":!0,"data-reload-sections":!0,id:!0},s,!0))+">"),c(e,!0),t.push("</a>")):c(e,!1)},c=function(e,a){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),s=e.modifiers||"";if(e.isBlock)var s=s+" bPseudoButton__mDisplay_Block";t.push("<span"+jade.attrs({id:!a&&(e.id||!1),style:!!e.minWidth&&"min-width: "+e.minWidth+";","class":["bPseudoButton","bPseudoButton__mType_GamePanel",s]},{"class":!0,id:!0,style:!0})+'><span class="bPseudoButton__eShine"><span class="bPseudoButton__eText">'+(null==(jade.interp=e.text)?"":jade.interp)),e.hoverText&&t.push('<span class="bPseudoButton__eHoverText">'+(null==(jade.interp=e.hoverText)?"":jade.interp)+"</span>"),t.push("</span></span></span>")},o=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&o(s);var l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),o({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},m=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});t.push("<button"+jade.attrs({type:"command",id:e.id,"class":["bLinkButton","bLinkButton__mType_"+e.type]},{"class":!0,type:!0,id:!0})+">"+jade.escape(null==(jade.interp=e.title)?"":jade.interp)+"</button>")},i=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},r=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],r=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var r=r+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var r=r+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var r=r+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),o.length&&n.push(o),l=n.join("; "),a.href){var r=r+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",r]},{"class":!0,style:!0})+">"),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var r=r+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},h=function(){var a=(this.block,this.attributes||{},this.escaped||{},e["Game/current.newVersion"]);a&&t.push('<div class="bGamePanelProgress__eVersion">'+jade.escape(null==(jade.interp=n("Game-Panel","InstallingVersion"))?"":jade.interp)+" "+jade.escape(null==(jade.interp=a)?"":jade.interp)+"</div>")},b=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.state||e["GamePanel/state"];t.push('<div class="bGamePanelProgress__eStatus"><span id="jsGamePanel__ProgressBlock__Unpacking" class="bGamePanelProgress__eStatusUnpacking">'+jade.escape(null==(jade.interp=n("Game-Panel","Unpacking"))?"":jade.interp)+"...</span>"),"progress"==s||"pause"==s?(t.push('<span id="jsGamePanel__ProgressBlock__ProgressData" class="bGamePanelProgress__eStatusProgress">'),a.progress&&t.push('<span class="bGamePanelProgress__eStatusProgressPercent"><span id="jsGamePanel__ProgressBlock__DownloadedProgress">'+jade.escape(null==(jade.interp=~~a.progress)?"":jade.interp)+"</span>&thinsp;%,&nbsp;</span>"),t.push('<span id="jsGamePanel__ProgressBlock__Downloaded"></span> '+jade.escape(null==(jade.interp=n("Interface","ConjFrom"))?"":jade.interp)+'&nbsp;<span id="jsGamePanel__ProgressBlock__DownloadSize"></span>,&nbsp;'),"progress"==s?t.push('<span id="jsGamePanel__ProgressBlock__DownloadSpeed"></span>'):"pause"==s&&t.push(jade.escape(null==(jade.interp=n("Game-Panel","Pause"))?"":jade.interp)),
t.push("</span>")):"prepare"==s&&t.push(""+jade.escape(null==(jade.interp=n("Game-Panel","Preparing"))?"":jade.interp)+"&hellip;"),t.push("</div>")},I=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.state||e["GamePanel/state"];t.push('<div class="bGamePanelProgress__eControlsArea"><div class="bGamePanelProgressControlsArea__eFirst">'),m("pause"==s?{id:"jsGamePanel__ProgressBlock__eButton_Resume",type:"resume",title:n("Game-Panel","Resume")}:{id:"jsGamePanel__ProgressBlock__eButton_Pause",type:"pause",title:n("Game-Panel","Stop")}),t.push("</div>"),a.nonCancelable||(t.push('<div class="bGamePanelProgressControlsArea__eSecond">'),m({id:"jsGamePanel__ProgressBlock__eButton_Cancel",type:"cancel",title:n("Game-Panel","Cancel")}),t.push("</div>")),t.push("</div>")},g=e["Game/current.serviceId"],f=e["Game/current.dependencies.error"],v=e["Game/current.dependencies.hasInstallingComponent"],y=e["Layout/current.showPlayed"],j=!v||f,v=v&&!f,U=e["Game/current.dependencies"],P="jsBtnPlayBlocked",S=e[e["Game/current.statusPrefix"]],C=S.info,x=S.status,B=C.progress,w=S.readyStage;if(t.push("<div"+jade.attrs({"class":["bGamePanelCommon__eMainSection","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0})+'><div style="text-align: center; margin-top: 10px; margin-bottom: 10px;">'),p({id:P,disabled:!0,width:"full",title:n("Interface","PlayButton")}),t.push("</div>"),w>0&&~["progress","paused"].indexOf(x)&&(t.push('<div class="bGamePanel__eProgress bGamePanel__eProgress__mTopIndent bGamePanel__eProgress__mBottomIndent">'),h(),b({progress:B}),I({nonCancelable:!0}),t.push("</div>")),f){var k=(e["L4G.Application/error"]||e["L4G.Application/services."+g+".error"]||{}).code||e["L4G.Application/in-status.services."+g+".last_ec"],G=e["GamePanel/supportLink"],T={code:k,wrapStart:'<a target="_blank" href="'+G+'">',wrapEnd:"</a>"};G||(T.wrapStart="",T.wrapEnd=""),r({content:n("Game-Panel",y?"ErrorCodeOccurredOnGameStart":"ErrorCodeOccurred",T),type:"error"})}else v||r({content:n("Game-Panel","ErrorComponentsTitle"),type:"warning"});return v&&r.call({block:function(){r({content:n("Game-Panel","AutoUpdateProgressSubInfo"),type:"subinfo"})}},{content:n("Game-Panel","AutoUpdateComponentsProgressInfo"),type:"progress"}),t.push('<div class="bGamePanel__eErrors">'),f?r(U?y?{content:n("Game-Panel","ErrorComponentsDesc"),type:"subinfo"}:{content:n("Game-Panel","ErrorComponentsInstallFailedDesc"),type:"subinfo"}:{content:n("Game-Panel","ErrorComponentsInstallFailedFullDesc"),type:"subinfo"}):v||r({content:n("Game-Panel","ErrorComponentsDesc"),type:"subinfo"}),t.push("</div>"),U&&(t.push('<ul class="bGamePanelErrors__eList">'),function(){var e=U;if("number"==typeof e.length)for(var a=0,s=e.length;a<s;a++){var i=e[a],r=n("Game-Panel",i.componentId)||i.componentId,o=n("Game-Panel","ComponentDesc"+i.componentId),p="ComponentDesc"+i.componentId!=o;"installed"!==i.status&&(t.push("<li"+jade.attrs({style:"overflow:hidden","class":["bGamePanelErrorsList__eItem",v?"bGamePanelErrorsList__eItem__mAutoInstallable":""]},{"class":!0,style:!0})+">"),1==i.hasInstaller&&j?(p&&(t.push('<div class="bGamePanelErrorsList__eItem__eHelpBtn">'),l({id:"",type:"Grey",hintContent:o,contentRaw:!0}),t.push("</div>")),t.push('<div class="bGamePanelErrorsList__eItem__ePseudoButton">'),u.call({attributes:{"data-component-id":i.componentId,"class":["bGamePanelErrorsList__eLink jsGamePanel__ErrorBlockComponents__eInstallComponent"]},escaped:{"data-component-id":!0,"class":!0}},{link:"#",minWidth:"160px",text:r}),t.push("</div>")):(t.push(jade.escape(null==(jade.interp=r)?"":jade.interp)),p&&(t.push('<div class="bGamePanelErrorsList__eItem__eHelpBtn">'),l({id:"",type:"Grey",hintContent:o,contentRaw:!0}),t.push("</div>"))),t.push("</li>"))}else{var s=0;for(var a in e){s++;var i=e[a],r=n("Game-Panel",i.componentId)||i.componentId,o=n("Game-Panel","ComponentDesc"+i.componentId),p="ComponentDesc"+i.componentId!=o;"installed"!==i.status&&(t.push("<li"+jade.attrs({style:"overflow:hidden","class":["bGamePanelErrorsList__eItem",v?"bGamePanelErrorsList__eItem__mAutoInstallable":""]},{"class":!0,style:!0})+">"),1==i.hasInstaller&&j?(p&&(t.push('<div class="bGamePanelErrorsList__eItem__eHelpBtn">'),l({id:"",type:"Grey",hintContent:o,contentRaw:!0}),t.push("</div>")),t.push('<div class="bGamePanelErrorsList__eItem__ePseudoButton">'),u.call({attributes:{"data-component-id":i.componentId,"class":["bGamePanelErrorsList__eLink jsGamePanel__ErrorBlockComponents__eInstallComponent"]},escaped:{"data-component-id":!0,"class":!0}},{link:"#",minWidth:"160px",text:r}),t.push("</div>")):(t.push(jade.escape(null==(jade.interp=r)?"":jade.interp)),p&&(t.push('<div class="bGamePanelErrorsList__eItem__eHelpBtn">'),l({id:"",type:"Grey",hintContent:o,contentRaw:!0}),t.push("</div>"))),t.push("</li>"))}}}.call(this),t.push("</ul>")),t.push("</div>"),t.join("")},e.bGamePanel__defaultState=function(e){var t=[];return t.push('<div data-js-widgets="block!bGamePanel/bGamePanel__defaultState__server" class="bGamePanel__eDefaultState bGamePanel__eDefaultState__mState_fault bGamePanelCommon__eMainSection"></div>'),t.join("")},e.bGamePanel__depricationNotifierNPAPI=function(e){var t=[],a=e||{},s=a.t,n=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},i=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),i=[],r=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var r=r+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var r=r+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var r=r+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&i.push(p),o.length&&i.push(o),l=i.join("; "),a.href){var r=r+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",r]},{"class":!0,style:!0})+">"),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var r=r+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")};return t.push('<div class="bGamePanel__eDepricationNotifier">'),i.call({block:function(){i({content:s("Game-Panel","DeprecatedNPAPIDescription"),type:"subinfo",style:"margin: 5px 0 0;"}),t.push('<div class="bGamePanel__eDepricationNotifier__eInfoImg bGamePanel__eDepricationNotifier__eInfoImg__mNPAPINotification"></div>'),i({content:s("Game-Panel","DeprecatedNPAPILinkText"),href:s("Game-Panel","DeprecatedNPAPILinkUrl"),type:"subinfo"})}},{content:s("Game-Panel","DeprecatedNPAPITitle"),type:"error"}),t.push("</div>"),t.join("")},e.bGamePanel__error703=function(e){var t=[],a=e||{},s=a.t,n=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},i=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),i=[],r=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var r=r+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var r=r+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var r=r+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&i.push(p),o.length&&i.push(o),l=i.join("; "),a.href){var r=r+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",r]},{"class":!0,style:!0})+">"),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var r=r+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},r=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{}),n=e.yesText||s("Interface","YesButton"),i=e.noText||s("Interface","NoButton");t.push("<div"+jade.attrs({"class":["bDialog",e.modifiers||""]},{"class":!0})+">"),a&&a(),t.push("<div"+jade.attrs({id:e.id||!1,"class":["bDialogButtons"]},{id:!0})+'><div class="bDialogButton bDialogButton__mPosition_Left">'),o({text:n,id:e.YesButtonId,modifiers:"",minWidth:"80px"}),t.push('</div><div class="bDialogButton bDialogButton__mPosition_Right">'),o({text:i,id:e.NoButtonId,modifiers:"",minWidth:"80px"}),t.push("</div></div></div>")},o=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});e.action?(t.push("<form"+jade.attrs({action:""+e.action,method:"get",id:e.id||!1,"class":["bSmallButtonForm"]},{action:!0,method:!0,id:!0})+">"),l(e,!0),t.push("</form>")):l(e,!1)},l=function(e,a){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),s=e.modifiers||"";if(e.isBlock)var s=s+" bSmallButton__mDisplay_Block";t.push("<button"+jade.attrs({style:!!e.minWidth&&"min-width: "+e.minWidth+";",id:!a&&(e.id||!1),"class":["bSmallButton",s]},{"class":!0,style:!0,id:!0})+'><span class="bSmallButton__eShine">'+(null==(jade.interp=e.text)?"":jade.interp)+"</span></button>")},p=e["L4G.Application/in-error.data.Disk"],d=Math.round(parseFloat(e["L4G.Application/in-error.data.NeedMB"])/1024*100)/100,_=s("Game-Panel","Resume"),u=s("Game-Panel","Cancel");return t.push("<div"+jade.attrs({"class":["bGamePanelCommon__eMainSection","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0})+">"),r.call({block:function(){i({content:s("Game-Panel","DiskFullError"),type:"error"}),i({content:s("Game-Panel","Error703DiskFull",{disk:p,needSpace:d}),type:"explain"})}},{yesText:_,noText:u,YesButtonId:"jsGamePanel__ErrorBlock__eButton_ProgressResumeYes",NoButtonId:"jsGamePanel__ErrorBlock__eButton_ProgressResumeNo"}),t.push("</div>"),t.join("")},e.bGamePanel__error725=function(e){var t=[],a=e||{},s=(a.typeModifiers,a.modifiers,a.data),n=a.t,i=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},r=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],r=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var r=r+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var r=r+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var r=r+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),o.length&&n.push(o),l=n.join("; "),a.href){var r=r+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",r]},{"class":!0,style:!0})+">"),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var r=r+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},o=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&o(s);var l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),o({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},p=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});e.action?(t.push("<form"+jade.attrs({action:""+e.action,method:"get",id:e.id||!1,"class":["bSmallButtonForm"]},{action:!0,method:!0,id:!0})+">"),d(e,!0),t.push("</form>")):d(e,!1)},d=function(e,a){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),s=e.modifiers||"";if(e.isBlock)var s=s+" bSmallButton__mDisplay_Block";t.push("<button"+jade.attrs({style:!!e.minWidth&&"min-width: "+e.minWidth+";",id:!a&&(e.id||!1),"class":["bSmallButton",s]},{"class":!0,style:!0,id:!0})+'><span class="bSmallButton__eShine">'+(null==(jade.interp=e.text)?"":jade.interp)+"</span></button>")},_=e["Game/current.serviceId"],u=(e["L4G.Application/error"]||e["L4G.Application/services."+_+".error"]||{}).code||e["L4G.Application/in-status.services."+_+".last_ec"],c=e["GamePanel/supportLink"],m=(e["GamePanel/gamesSupportUrls."+_],e["Game/current.dependencies"]),h=e["Game/current.dependencies.dependencyCheckable"];t.push('<div data-js-widgets="block!bGamePanel/bGamePanel__defaultState__server" class="bGamePanel__eDefaultState bGamePanel__eDefaultState__mState_fault bGamePanelCommon__eMainSection"><div class="bGamePanelDefaultState__eFault">');var b={code:u,wrapStart:'<a target="_blank" href="'+c+'">',wrapEnd:"</a>"};return c||(b.wrapStart="",b.wrapEnd=""),r({content:n("Game-Panel","ErrorCode725Occurred",b),type:"error"}),m?(r({content:n("Game-Panel","ErrorComponentsDesc"),type:"subinfo"}),t.push('<ul class="bGamePanelErrors__eList">'),function(){var a=m;if("number"==typeof a.length)for(var s=0,i=a.length;s<i;s++){var r=a[s],o=n("Game-Panel",r.componentId)||r.componentId,p=n("Game-Panel","ComponentDesc"+r.componentId),d="ComponentDesc"+r.componentId!=p,u=e["GamePanel/componentSupportLinks."+_+"."+o],u=u||e["GamePanel/componentSupportLinks."+o],u=u||c;"installed"!==r.status&&(t.push('<li style="overflow: hidden" class="bGamePanelErrorsList__eItem bGamePanelErrorsList__eItem__mAutoInstallable"><a'+jade.attrs({href:""+u,target:"_blank","class":["bGamePanelErrorsList__eItem__eComponentLink"]},{href:!0,target:!0})+">"+jade.escape(null==(jade.interp=o)?"":jade.interp)+"</a>"),d&&(t.push('<div class="bGamePanelErrorsList__eItem__eHelpBtn">'),l({id:"",type:"Grey",hintContent:p,contentRaw:!0}),t.push("</div>")),t.push("</li>"))}else{var i=0;for(var s in a){i++;var r=a[s],o=n("Game-Panel",r.componentId)||r.componentId,p=n("Game-Panel","ComponentDesc"+r.componentId),d="ComponentDesc"+r.componentId!=p,u=e["GamePanel/componentSupportLinks."+_+"."+o],u=u||e["GamePanel/componentSupportLinks."+o],u=u||c;"installed"!==r.status&&(t.push('<li style="overflow: hidden" class="bGamePanelErrorsList__eItem bGamePanelErrorsList__eItem__mAutoInstallable"><a'+jade.attrs({href:""+u,target:"_blank","class":["bGamePanelErrorsList__eItem__eComponentLink"]},{href:!0,target:!0})+">"+jade.escape(null==(jade.interp=o)?"":jade.interp)+"</a>"),d&&(t.push('<div class="bGamePanelErrorsList__eItem__eHelpBtn">'),l({id:"",type:"Grey",hintContent:p,contentRaw:!0}),t.push("</div>")),t.push("</li>"))}}}.call(this),t.push("</ul>"),h||(r({content:n("Game-Panel","ErrorCode725Resolving"),type:"subinfo"}),t.push('<div class="bGamePanelSettings__eSmallButtonsRow bGamePanelSettings__eSmallButtonsRow__mPosition_Last">'),p({text:n("Game-Panel","ErrorCode725CheckFiles"),id:"jsGamePanel-btnFixGame",modifiers:"jsBtnServiceRepair"}),t.push("</div>"))):(r({content:n("Game-Panel","ErrorCode725Resolved"),type:"subinfo"}),t.push('<div class="bGamePanelSettings__eSmallButtonsRow bGamePanelSettings__eSmallButtonsRow__mPosition_Last">'),p({text:n("Game-Panel","ErrorCode725CheckFiles"),id:"jsGamePanel-btnFixGame",modifiers:"jsBtnServiceRepair"}),t.push("</div>")),t.push("</div></div>"),t.join("")},e.bGamePanel__justInstalled=function(e){var t=[],a=e||{},s=(a.newParams,a.typeModifiers,a.modifiers,a.data),n=a.t,i=a.utils,r=a.plural,o=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),d({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},l=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),o(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),o(e),t.push("</button>"))},p=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});l(e)},d=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},d=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},_=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",p="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var p=p+"True";else var p=p+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",p]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&d({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&d({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&d({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},u=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&u(s);var c=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),u({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},d=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},p=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});l(e)};t.push("<!-- сама кнопка-->");var l=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),o(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),o(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var o=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),d({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},m=function(){var a=(this.block,this.attributes||{},this.escaped||{},e["L4G.Currency"]);t.push('<span class="bRubleSymbol">'),"RUB"==a?t.push(null==(jade.interp=n("Interface","RoubleSymbol"))?"":jade.interp):"BRL"==a?t.push(jade.escape(null==(jade.interp="R$")?"":jade.interp)):t.push(jade.escape(null==(jade.interp="&euro;")?"":jade.interp)),t.push("</span>")};s&&m();var h=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=e["Game/current.flags"]||{},i=i||e["Game/current.account"],r=e["Game/current.account.status"],o=e["Layout/premiumIsRenewal."+e["Game/current.serviceId"]],l=e["Game/current.premium"],d=e["GameData/services."+e["Game/current.serviceId"]+".premium_enabled"],_=l.premiumPage,u="bPremiumActions",h="ImproveAccount",b=!1,I="pseudo_small",g=!1;if("undefined"!=typeof r)if(3==r){if(s.needSubscription)var f="common"}else if(2==r)var f="premium";else if(1==r)if(s.needSubscription)var f="premium";else var f="common";else var f="basic";if("premium"==f)var b=!0;if(b){var h="ExtendAccountImprovement";if(o)var h="ExtendAccountImprovementAgain"}else var I="small",g=!0;var v="";if(9==e["Game/current.serviceId"])var v="__Aion";if(s.needSubscription)var v="__Subscription";a.modifiers&&(u+=" "+a.modifiers),t.push("<div"+jade.attrs({id:a.id||!1,"class":[u]},{"class":!0,id:!0})+"><div"+jade.attrs({"class":["bPremiumActions__eActionControl",d&&b?"bPremiumActions__eActionControl__mRenewal":""]},{"class":!0})+">"),d?(p({id:"jsBtnBuyPremiumInGamePanel",title:n("Game-Panel",h+v),type:I,shadowed:g,className:"bUIButton__eFrame__mGamePanelPremium",link:"?popupWidget=PremiumUpgradeWidget",dataReloadSections:'PremiumUpgradeWidget: {"target":"#OverlayContent","ns":"popup"}'}),!b&&l.premiumMinPrice&&(t.push("<div"+jade.attrs({id:"gamepanel-premium-min-price","class":["bPremiumActions__eActionControl__eSubInfo",l.isPromoPrice?"bPremiumActions__eActionControl__eSubInfo__mGreen":""]},{"class":!0})+">"+(null==(jade.interp=n("Game-Panel",l.isPromoPrice?"MinPremiumPromoPriceFrom":"MinPremiumPriceFrom"))?"":jade.interp)+"&nbsp;"+jade.escape(null==(jade.interp=l.premiumMinPrice)?"":jade.interp)+"&nbsp;"),m(),t.push("</div>"))):t.push('<div class="bPremiumActions__ePremiumPageLink">'+(null==(jade.interp=l.gamePanelIngamePremium)?"":jade.interp)+"</div>"),t.push("</div>"),d&&b?(t.push('<div class="bPremiumActions__eSubinfo"><span class="bPremiumActions__eSubinfoContent">'+(null==(jade.interp=n("Game-Panel","AutoImprovement"))?"":jade.interp)+'<span class="bPseudoLink bPremiumActions__eSubinfoPseudolink"><span'+jade.attrs({id:"bPremiumActions__eAutoImprovement","data-improvement-state":""+i.subscription.autopay_enabled,"data-improvement-url":"/subscription/setAutopay?serviceAccountId="+i.service_account_id,
"class":["bPremiumActions__eSubinfoPseudolinkText"]},{"data-improvement-state":!0,"data-improvement-url":!0})+">"+(null==(jade.interp=n("Game-Panel",i.subscription.autopay_enabled?"AutoImprovementOn":"AutoImprovementOff"))?"":jade.interp)+"</span></span>"),c({id:"",type:"Grey",modifiers:"bPremiumActions__eHelpIcon",hintContent:n("Game-Panel","AutoImprovementHelp"+v)}),t.push("</span></div>")):_&&l.gamePanelPremiumPage&&t.push("<a"+jade.attrs({id:"gamepanel-premium-page-link",href:l.premiumPageLink,"class":["bPremiumActions__ePremiumPageLink"]},{href:!0})+">"+jade.escape(null==(jade.interp=l.gamePanelPremiumPage)?"":jade.interp)+"</a>"),t.push("</div>")},b=e["Game/current.account"],I=e["Game/current.account.status"],g=e["Game/current.account.subscription.has_active"],f=e["Game/current.account.subscription.endtime_unix_ms"],v=(e["Game/current.data"],e["Game/current.premium"]),y=e["Game/current.disableStatus"],j="play"==e["Game/current.actionPage"],U=+new Date,P=U-f<2592e5,S=9==e["Game/current.serviceId"],C=e["Layout/premiumJustBought."+e["Game/current.serviceId"]],x=e["Game/current.flags"]||{},B=!(!x.betaTest||i.toTimestamp(x.betaTest)<i.toTimestamp());if("undefined"!=typeof b){if(3==I){if(x.needSubscription)var w="common"}else if(2==I)var w="premium";else if(1==I)if(x.needSubscription)var w="premium";else var w="common";else var w="basic";if(parseInt(b.service_account_id,10)>0);}if(B&&33==e["Game/current.serviceId"])var w="common";var k="",G=!1,T=v.actionEnabled,L=v.trialLink;if(S)var G=!0,k="__Aion";if(x.needSubscription)var k="__Subscription";var A=e["Layout/finished."+e["Game/current.serviceId"]]||!1;if(t.push("<div"+jade.attrs({"data-id":e["Game/current.serviceId"],"class":["bGamePanelCommon__eMainSection","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0,"data-id":!0})+">"),!y||!y.disabled){var j="play"==e["Game/current.actionPage"];e["Game/current.data.static_install"];_(j?{type:"success",size:"big",underline:!1,content:n("Game-Panel","JustInstalledLink"),localHref:!0,id:"jsBtnJustInstalled"}:{type:"success",size:"big",underline:!1,beforeContent:n("Game-Panel","JustInstalledText"),content:n("Game-Panel","JustInstalledLink"),href:e["Game/current.oppositeUrl"],dataReloadSections:void 0,id:"jsBtnJustInstalled"})}if(j)if(y&&y.disabled)_({type:y.type||"warning",content:y.text,hiding:!0});else{if(t.push('<div class="bGamePanelCommon__eTop">'),"install"!==A)if("common"===w&&G&&!f){var M=k;S&&(M+="__50",T&&(M+="_ver2")),_({type:"success",href:L,target:"_blank",id:"trialDurationInfo",content:n("Game-Panel","AccountIsTrial"+M),hiding:!0})}else if("common"===w&&b&&"undefined"!=typeof b.subscription&&g===!1&&f&&(P||G))_(S&&C?{type:"success",id:"premiumDurationInfo",content:n("Game-Panel","ImprovementJustBought"+k),hiding:!0}:{type:"error",id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpired"+k),hiding:!0});else if("premium"===w&&b&&b.subscription&&b.subscription.has_active){var H=b.subscription.finishTime,E=e["Layout/premiumIsRenewal."+e["Game/current.serviceId"]],F=e["Layout/premiumRenewalDays."+e["Game/current.serviceId"]];if(C){var D="success",R=Math.floor(F/30),N=F%30;if(R){var W=R+" "+r(R,"Interface","MonthPlural");N&&(W+=" "+n("Game-Panel","ImprovementMonthAndDay")+" "+N+" "+r(N,"Interface","DaysPlural"))}else var W=N+" "+r(N,"Interface","DaysPlural");_(S?E?{type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementRenewal"+k),hiding:!0}:{type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementJustBought"+k),hiding:!0}:E?{type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementRenewal"+k)+W,hiding:!0}:{type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementJustBought"+k)+W,hiding:!0})}else if("manyDays"==H.type||"lifeTime"==H.type){var D="confirmed";_({type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresNotSoon"+k)+r(H.daysLeft,"Interface","TimeLeftPlural")+" "+H.daysLeft+" "+r(H.daysLeft,"Interface","DaysPlural"),hiding:!0})}else if("lifeTime"==H.type){var D="confirmed";_({type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresNotSoon"+k)+r(H.daysLeft,"Interface","TimeLeftPlural")+" "+H.daysLeft+" "+r(H.daysLeft,"Interface","DaysPlural"),hiding:!0})}else{var D="warning";"threeDays"==H.type?_({type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresSoon"+k)+r(H.daysLeft,"Interface","TimeLeftPlural")+" "+n("Game-Panel","ImprovementExpiresSoonSummary"+k)+" "+H.daysLeft+" "+r(H.daysLeft,"Interface","DaysPlural"),hiding:!0}):"oneDay"==H.type&&_({type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresVerySoon"+k)+H.timeLeft+" "+H.date,hiding:!0})}}t.push("</div>")}if(j&&(!y||!y.disabled)){if(t.push("<div"+jade.attrs({"class":["bGamePanelCommon__eBottom","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0})+">"),"install"!==A){if(!g&&v&&!P&&v.features&&v.features.length){v.gamePanelRemoveLimitations&&t.push('<h1 class="bGamePanelCommon__eTitleName"> '+jade.escape(null==(jade.interp=v.gamePanelRemoveLimitations)?"":jade.interp)+"</h1>"),t.push('<ul class="bGamePanelCommon__ePremiumFeatures">');var z=0;(function(){var e=v.features;if("number"==typeof e.length)for(var a=0,s=e.length;a<s;a++){var i=e[a];i.showInGamePanel&&(z++,t.push("<li"+jade.attrs({"class":["bGamePanelCommon__ePremiumFeatures__eItem","bGamePanelCommon__ePremiumFeatures__eItem__mIndex"+z]},{"class":!0})+'><i class="bGamePanelCommon__ePremiumFeatures__eItem__eIcon"></i>'+jade.escape(null==(jade.interp=i.text)?"":jade.interp)),i.isNew&&t.push('<div class="bCrossconversion__eTag bCrossconversion__eTag__mGreen">'+jade.escape(null==(jade.interp=n("Interface","NewStatus"))?"":jade.interp)+"</div>"),t.push("</li>"))}else{var s=0;for(var a in e){s++;var i=e[a];i.showInGamePanel&&(z++,t.push("<li"+jade.attrs({"class":["bGamePanelCommon__ePremiumFeatures__eItem","bGamePanelCommon__ePremiumFeatures__eItem__mIndex"+z]},{"class":!0})+'><i class="bGamePanelCommon__ePremiumFeatures__eItem__eIcon"></i>'+jade.escape(null==(jade.interp=i.text)?"":jade.interp)),i.isNew&&t.push('<div class="bCrossconversion__eTag bCrossconversion__eTag__mGreen">'+jade.escape(null==(jade.interp=n("Interface","NewStatus"))?"":jade.interp)+"</div>"),t.push("</li>"))}}}).call(this),t.push("</ul>")}h()}t.push("</div>")}return t.push("</div>"),t.join("")},e.bGamePanel__layout=function(e){var t=[],a=e||{},s=a.t,n="play"==e["Game/current.actionPage"],i="HIDDEN"==e["Game/current.data.status"],r=(e["Game/current.data.static_install"],n?s("Game-Panel","InstallPageLink"):s("Game-Panel","PagePageLink")),o=e["Game/current.environment"],l=o&&"LIVE"!==o?e["Game/current.title"]+" ["+e["Game/current.environment"]+"]":e["Game/current.title"],p="bGamePanel";return n&&(p+=" bGamePanel__mPlayPageShift"),t.push("<section"+jade.attrs({"class":[p+" bGamePanelCommon jsServiceControl jsGamePanel"]},{"class":!0})+'><div class="bGamePanelCommon__eInnerWrapper"><div'+jade.attrs({"class":["bGamePanelCommon__eTitle","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0})+">"),n||i||t.push("<img"+jade.attrs({src:"/c/home/icon-"+e["Game/current.serviceId"]+".png",width:"40",height:"40","class":["bGamePanelCommon__eTitleIcon","jsServiceIcon"]},{src:!0,width:!0,height:!0})+"/>"),t.push('<div class="bGamePanelCommon__eTitleText"><div class="bGamePanelCommon__eTitleName jsServiceTitle">'+(null==(jade.interp=l)?"":jade.interp)+"</div>"),n||t.push('<span class="bGamePanelCommon__eAltSection"><a'+jade.attrs({href:""+e["Game/current.oppositeUrl"],"class":["bGamePanelCommon__eAltSectionLink"]},{href:!0})+">"+(null==(jade.interp=r)?"":jade.interp)+"</a></span>"),t.push('</div></div><section id="bGamePanel__status" data-view-template="bGamePanel__defaultState" class="bPartial"></section><div class="bGamePanel__eSwitchBtn bGamePanel__eSwitchBtn__mType_Common"><div id="jsGamePanel-btnToSettings" class="bGamePanel__eSwitchBtnEdge jsGamePanel__eSwitchBtnEdge"><span class="bGamePanel__eSwitchBtnGradient"></span><div class="bGamePanel__eSwitchBtnBg"><span class="bGamePanel__eSwitchBtnText">'+(null==(jade.interp=s("Game-Panel","Settings"))?"":jade.interp)+"</span></div></div></div></div></section><section"+jade.attrs({"class":[p+" bGamePanelSettings"]},{"class":!0})+'><div class="bGamePanelSettings__eInnerWrapper"><section id="bGamePanel__settings" data-view-template="bGamePanel__defaultState" class="bPartial"></section></div><div class="bGamePanel__eSwitchBtn bGamePanel__eSwitchBtn__mType_Settings"><div id="jsGamePanel-btnToCommon" class="bGamePanel__eSwitchBtnEdge bGamePanel__eSwitchBtnEdge__mVisible_true"><span class="bGamePanel__eSwitchBtnGradient"></span><div class="bGamePanel__eSwitchBtnBg"><span class="bGamePanel__eSwitchBtnText">'+(null==(jade.interp=s("Game-Panel","Back"))?"":jade.interp)+"</span></div></div></div></section>"),t.join("")},e.bGamePanel__pluginUpdateError=function(e){var t=[],a=e||{},s=(a.typeModifiers,a.modifiers,a.data),n=(a.newParams,a.t),i=a.utils,r=a.plural,o=function(e,a){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),s=e.modifiers||"";if(e.isBlock)var s=s+" bPseudoButton__mDisplay_Block";t.push("<span"+jade.attrs({id:!a&&(e.id||!1),style:!!e.minWidth&&"min-width: "+e.minWidth+";","class":["bPseudoButton","bPseudoButton__mType_GamePanel",s]},{"class":!0,id:!0,style:!0})+'><span class="bPseudoButton__eShine"><span class="bPseudoButton__eText">'+(null==(jade.interp=e.text)?"":jade.interp)),e.hoverText&&t.push('<span class="bPseudoButton__eHoverText">'+(null==(jade.interp=e.hoverText)?"":jade.interp)+"</span>"),t.push("</span></span></span>")},l=function(e){var a=(this.block,this.attributes||{}),s=this.escaped||{},e=e||{};e.target=e.target||"_top";var n="bPseudoButtonLink bPseudoButtonLink_mType_GamePanel";if(e.isBlock)var n=n+" bPseudoButtonLink__mDisplay_Block";e.link?(t.push("<a"+jade.attrs(jade.merge({href:""+e.link,target:""+e.target,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":[n]},a),jade.merge({href:!0,target:!0,"class":!0,"data-reload-sections":!0,id:!0},s,!0))+">"),o(e,!0),t.push("</a>")):o(e,!1)},p=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",p="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var p=p+"True";else var p=p+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",p]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&d({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&d({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&d({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},d=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},d=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},p=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",p="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var p=p+"True";else var p=p+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",p]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&d({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&d({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&d({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},_=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&_(s);var u=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),_({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},d=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},c=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});m(e)};t.push("<!-- сама кнопка-->");var m=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),h(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),h(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var h=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),d({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},b=function(){var a=(this.block,this.attributes||{},this.escaped||{},e["L4G.Currency"]);t.push('<span class="bRubleSymbol">'),"RUB"==a?t.push(null==(jade.interp=n("Interface","RoubleSymbol"))?"":jade.interp):"BRL"==a?t.push(jade.escape(null==(jade.interp="R$")?"":jade.interp)):t.push(jade.escape(null==(jade.interp="&euro;")?"":jade.interp)),t.push("</span>")};s&&b();var I=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=e["Game/current.flags"]||{},i=i||e["Game/current.account"],r=e["Game/current.account.status"],o=e["Layout/premiumIsRenewal."+e["Game/current.serviceId"]],l=e["Game/current.premium"],p=e["GameData/services."+e["Game/current.serviceId"]+".premium_enabled"],d=l.premiumPage,_="bPremiumActions",m="ImproveAccount",h=!1,I="pseudo_small",g=!1;if("undefined"!=typeof r)if(3==r){if(s.needSubscription)var f="common"}else if(2==r)var f="premium";else if(1==r)if(s.needSubscription)var f="premium";else var f="common";else var f="basic";if("premium"==f)var h=!0;if(h){var m="ExtendAccountImprovement";if(o)var m="ExtendAccountImprovementAgain"}else var I="small",g=!0;var v="";if(9==e["Game/current.serviceId"])var v="__Aion";if(s.needSubscription)var v="__Subscription";a.modifiers&&(_+=" "+a.modifiers),t.push("<div"+jade.attrs({id:a.id||!1,"class":[_]},{"class":!0,id:!0})+"><div"+jade.attrs({"class":["bPremiumActions__eActionControl",p&&h?"bPremiumActions__eActionControl__mRenewal":""]},{"class":!0})+">"),p?(c({id:"jsBtnBuyPremiumInGamePanel",title:n("Game-Panel",m+v),type:I,shadowed:g,className:"bUIButton__eFrame__mGamePanelPremium",link:"?popupWidget=PremiumUpgradeWidget",dataReloadSections:'PremiumUpgradeWidget: {"target":"#OverlayContent","ns":"popup"}'}),!h&&l.premiumMinPrice&&(t.push("<div"+jade.attrs({id:"gamepanel-premium-min-price","class":["bPremiumActions__eActionControl__eSubInfo",l.isPromoPrice?"bPremiumActions__eActionControl__eSubInfo__mGreen":""]},{"class":!0})+">"+(null==(jade.interp=n("Game-Panel",l.isPromoPrice?"MinPremiumPromoPriceFrom":"MinPremiumPriceFrom"))?"":jade.interp)+"&nbsp;"+jade.escape(null==(jade.interp=l.premiumMinPrice)?"":jade.interp)+"&nbsp;"),b(),t.push("</div>"))):t.push('<div class="bPremiumActions__ePremiumPageLink">'+(null==(jade.interp=l.gamePanelIngamePremium)?"":jade.interp)+"</div>"),t.push("</div>"),p&&h?(t.push('<div class="bPremiumActions__eSubinfo"><span class="bPremiumActions__eSubinfoContent">'+(null==(jade.interp=n("Game-Panel","AutoImprovement"))?"":jade.interp)+'<span class="bPseudoLink bPremiumActions__eSubinfoPseudolink"><span'+jade.attrs({id:"bPremiumActions__eAutoImprovement","data-improvement-state":""+i.subscription.autopay_enabled,"data-improvement-url":"/subscription/setAutopay?serviceAccountId="+i.service_account_id,"class":["bPremiumActions__eSubinfoPseudolinkText"]},{"data-improvement-state":!0,"data-improvement-url":!0})+">"+(null==(jade.interp=n("Game-Panel",i.subscription.autopay_enabled?"AutoImprovementOn":"AutoImprovementOff"))?"":jade.interp)+"</span></span>"),u({id:"",type:"Grey",modifiers:"bPremiumActions__eHelpIcon",hintContent:n("Game-Panel","AutoImprovementHelp"+v)}),t.push("</span></div>")):d&&l.gamePanelPremiumPage&&t.push("<a"+jade.attrs({id:"gamepanel-premium-page-link",href:l.premiumPageLink,"class":["bPremiumActions__ePremiumPageLink"]},{href:!0})+">"+jade.escape(null==(jade.interp=l.gamePanelPremiumPage)?"":jade.interp)+"</a>"),t.push("</div>")},g=e["Game/current.account"],f=e["Game/current.account.status"],v=e["Game/current.account.subscription.has_active"],y=e["Game/current.account.subscription.endtime_unix_ms"],j=(e["Game/current.data"],e["Game/current.premium"]),U=e["Game/current.disableStatus"],P="play"==e["Game/current.actionPage"],S=+new Date,C=S-y<2592e5,x=9==e["Game/current.serviceId"],B=e["Layout/premiumJustBought."+e["Game/current.serviceId"]],w=e["Game/current.flags"]||{},k=!(!w.betaTest||i.toTimestamp(w.betaTest)<i.toTimestamp());if("undefined"!=typeof g){if(3==f){if(w.needSubscription)var G="common"}else if(2==f)var G="premium";else if(1==f)if(w.needSubscription)var G="premium";else var G="common";else var G="basic";if(parseInt(g.service_account_id,10)>0);}if(k&&33==e["Game/current.serviceId"])var G="common";var T="",L=!1,A=j.actionEnabled,M=j.trialLink;if(x)var L=!0,T="__Aion";if(w.needSubscription)var T="__Subscription";var H=e["Layout/finished."+e["Game/current.serviceId"]]||!1;if(t.push("<div"+jade.attrs({"data-id":e["Game/current.serviceId"],"class":["bGamePanelCommon__eMainSection","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0,"data-id":!0})+">"),U&&U.disabled||p.call({block:function(){p.call({block:function(){t.push('<p class="bInfoMessage__eControlsWrap">'),l({link:"/",text:n("Game-Panel","AutoUpdateErrorButton"),modifiers:"jsGamePanel__eErrorState__InstallPlugin"}),t.push("</p>")}},{content:n("Game-Panel","AutoUpdateErrorSubInfo")+":",type:"subinfo"})}},{content:n("Game-Panel","AutoUpdateErrorInfo"),type:"error"}),P)if(U&&U.disabled)p({type:U.type||"warning",content:U.text,hiding:!0});else{if(t.push('<div class="bGamePanelCommon__eTop">'),"install"!==H)if("common"===G&&L&&!y){var E=T;x&&(E+="__50",A&&(E+="_ver2")),p({type:"success",href:M,target:"_blank",id:"trialDurationInfo",content:n("Game-Panel","AccountIsTrial"+E),hiding:!0})}else if("common"===G&&g&&"undefined"!=typeof g.subscription&&v===!1&&y&&(C||L))p(x&&B?{type:"success",id:"premiumDurationInfo",content:n("Game-Panel","ImprovementJustBought"+T),hiding:!0}:{type:"error",id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpired"+T),hiding:!0});else if("premium"===G&&g&&g.subscription&&g.subscription.has_active){var F=g.subscription.finishTime,D=e["Layout/premiumIsRenewal."+e["Game/current.serviceId"]],R=e["Layout/premiumRenewalDays."+e["Game/current.serviceId"]];if(B){var N="success",W=Math.floor(R/30),z=R%30;if(W){var O=W+" "+r(W,"Interface","MonthPlural");z&&(O+=" "+n("Game-Panel","ImprovementMonthAndDay")+" "+z+" "+r(z,"Interface","DaysPlural"))}else var O=z+" "+r(z,"Interface","DaysPlural");p(x?D?{type:N,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementRenewal"+T),hiding:!0}:{type:N,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementJustBought"+T),hiding:!0}:D?{type:N,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementRenewal"+T)+O,hiding:!0}:{type:N,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementJustBought"+T)+O,hiding:!0})}else if("manyDays"==F.type||"lifeTime"==F.type){var N="confirmed";p({type:N,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresNotSoon"+T)+r(F.daysLeft,"Interface","TimeLeftPlural")+" "+F.daysLeft+" "+r(F.daysLeft,"Interface","DaysPlural"),hiding:!0})}else if("lifeTime"==F.type){var N="confirmed";p({type:N,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresNotSoon"+T)+r(F.daysLeft,"Interface","TimeLeftPlural")+" "+F.daysLeft+" "+r(F.daysLeft,"Interface","DaysPlural"),hiding:!0})}else{var N="warning";"threeDays"==F.type?p({type:N,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresSoon"+T)+r(F.daysLeft,"Interface","TimeLeftPlural")+" "+n("Game-Panel","ImprovementExpiresSoonSummary"+T)+" "+F.daysLeft+" "+r(F.daysLeft,"Interface","DaysPlural"),hiding:!0}):"oneDay"==F.type&&p({type:N,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresVerySoon"+T)+F.timeLeft+" "+F.date,hiding:!0})}}t.push("</div>")}if(P&&(!U||!U.disabled)){if(t.push("<div"+jade.attrs({"class":["bGamePanelCommon__eBottom","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0})+">"),"install"!==H){if(!v&&j&&!C&&j.features&&j.features.length){j.gamePanelRemoveLimitations&&t.push('<h1 class="bGamePanelCommon__eTitleName"> '+jade.escape(null==(jade.interp=j.gamePanelRemoveLimitations)?"":jade.interp)+"</h1>"),t.push('<ul class="bGamePanelCommon__ePremiumFeatures">');var q=0;(function(){var e=j.features;if("number"==typeof e.length)for(var a=0,s=e.length;a<s;a++){var i=e[a];i.showInGamePanel&&(q++,t.push("<li"+jade.attrs({"class":["bGamePanelCommon__ePremiumFeatures__eItem","bGamePanelCommon__ePremiumFeatures__eItem__mIndex"+q]},{"class":!0})+'><i class="bGamePanelCommon__ePremiumFeatures__eItem__eIcon"></i>'+jade.escape(null==(jade.interp=i.text)?"":jade.interp)),i.isNew&&t.push('<div class="bCrossconversion__eTag bCrossconversion__eTag__mGreen">'+jade.escape(null==(jade.interp=n("Interface","NewStatus"))?"":jade.interp)+"</div>"),t.push("</li>"))}else{var s=0;for(var a in e){s++;var i=e[a];i.showInGamePanel&&(q++,t.push("<li"+jade.attrs({"class":["bGamePanelCommon__ePremiumFeatures__eItem","bGamePanelCommon__ePremiumFeatures__eItem__mIndex"+q]},{"class":!0})+'><i class="bGamePanelCommon__ePremiumFeatures__eItem__eIcon"></i>'+jade.escape(null==(jade.interp=i.text)?"":jade.interp)),i.isNew&&t.push('<div class="bCrossconversion__eTag bCrossconversion__eTag__mGreen">'+jade.escape(null==(jade.interp=n("Interface","NewStatus"))?"":jade.interp)+"</div>"),t.push("</li>"))}}}).call(this),t.push("</ul>")}I()}t.push("</div>")}return t.push("</div>"),t.join("")},e.bGamePanel__pluginUpdateProgress=function(e){var t=[],a=e||{},s=(a.typeModifiers,a.modifiers,a.data),n=(a.newParams,a.t),i=a.utils,r=a.plural,o=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&l({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&l({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&l({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},o=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&l({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),
s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&l({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&l({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},p=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&p(s);var d=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),p({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},_=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});u(e)};t.push("<!-- сама кнопка-->");var u=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),c(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),c(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var c=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),l({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},m=function(){var a=(this.block,this.attributes||{},this.escaped||{},e["L4G.Currency"]);t.push('<span class="bRubleSymbol">'),"RUB"==a?t.push(null==(jade.interp=n("Interface","RoubleSymbol"))?"":jade.interp):"BRL"==a?t.push(jade.escape(null==(jade.interp="R$")?"":jade.interp)):t.push(jade.escape(null==(jade.interp="&euro;")?"":jade.interp)),t.push("</span>")};s&&m();var h=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=e["Game/current.flags"]||{},i=i||e["Game/current.account"],r=e["Game/current.account.status"],o=e["Layout/premiumIsRenewal."+e["Game/current.serviceId"]],l=e["Game/current.premium"],p=e["GameData/services."+e["Game/current.serviceId"]+".premium_enabled"],u=l.premiumPage,c="bPremiumActions",h="ImproveAccount",b=!1,I="pseudo_small",g=!1;if("undefined"!=typeof r)if(3==r){if(s.needSubscription)var f="common"}else if(2==r)var f="premium";else if(1==r)if(s.needSubscription)var f="premium";else var f="common";else var f="basic";if("premium"==f)var b=!0;if(b){var h="ExtendAccountImprovement";if(o)var h="ExtendAccountImprovementAgain"}else var I="small",g=!0;var v="";if(9==e["Game/current.serviceId"])var v="__Aion";if(s.needSubscription)var v="__Subscription";a.modifiers&&(c+=" "+a.modifiers),t.push("<div"+jade.attrs({id:a.id||!1,"class":[c]},{"class":!0,id:!0})+"><div"+jade.attrs({"class":["bPremiumActions__eActionControl",p&&b?"bPremiumActions__eActionControl__mRenewal":""]},{"class":!0})+">"),p?(_({id:"jsBtnBuyPremiumInGamePanel",title:n("Game-Panel",h+v),type:I,shadowed:g,className:"bUIButton__eFrame__mGamePanelPremium",link:"?popupWidget=PremiumUpgradeWidget",dataReloadSections:'PremiumUpgradeWidget: {"target":"#OverlayContent","ns":"popup"}'}),!b&&l.premiumMinPrice&&(t.push("<div"+jade.attrs({id:"gamepanel-premium-min-price","class":["bPremiumActions__eActionControl__eSubInfo",l.isPromoPrice?"bPremiumActions__eActionControl__eSubInfo__mGreen":""]},{"class":!0})+">"+(null==(jade.interp=n("Game-Panel",l.isPromoPrice?"MinPremiumPromoPriceFrom":"MinPremiumPriceFrom"))?"":jade.interp)+"&nbsp;"+jade.escape(null==(jade.interp=l.premiumMinPrice)?"":jade.interp)+"&nbsp;"),m(),t.push("</div>"))):t.push('<div class="bPremiumActions__ePremiumPageLink">'+(null==(jade.interp=l.gamePanelIngamePremium)?"":jade.interp)+"</div>"),t.push("</div>"),p&&b?(t.push('<div class="bPremiumActions__eSubinfo"><span class="bPremiumActions__eSubinfoContent">'+(null==(jade.interp=n("Game-Panel","AutoImprovement"))?"":jade.interp)+'<span class="bPseudoLink bPremiumActions__eSubinfoPseudolink"><span'+jade.attrs({id:"bPremiumActions__eAutoImprovement","data-improvement-state":""+i.subscription.autopay_enabled,"data-improvement-url":"/subscription/setAutopay?serviceAccountId="+i.service_account_id,"class":["bPremiumActions__eSubinfoPseudolinkText"]},{"data-improvement-state":!0,"data-improvement-url":!0})+">"+(null==(jade.interp=n("Game-Panel",i.subscription.autopay_enabled?"AutoImprovementOn":"AutoImprovementOff"))?"":jade.interp)+"</span></span>"),d({id:"",type:"Grey",modifiers:"bPremiumActions__eHelpIcon",hintContent:n("Game-Panel","AutoImprovementHelp"+v)}),t.push("</span></div>")):u&&l.gamePanelPremiumPage&&t.push("<a"+jade.attrs({id:"gamepanel-premium-page-link",href:l.premiumPageLink,"class":["bPremiumActions__ePremiumPageLink"]},{href:!0})+">"+jade.escape(null==(jade.interp=l.gamePanelPremiumPage)?"":jade.interp)+"</a>"),t.push("</div>")},b=e["Game/current.account"],I=e["Game/current.account.status"],g=e["Game/current.account.subscription.has_active"],f=e["Game/current.account.subscription.endtime_unix_ms"],v=(e["Game/current.data"],e["Game/current.premium"]),y=e["Game/current.disableStatus"],j="play"==e["Game/current.actionPage"],U=+new Date,P=U-f<2592e5,S=9==e["Game/current.serviceId"],C=e["Layout/premiumJustBought."+e["Game/current.serviceId"]],x=e["Game/current.flags"]||{},B=!(!x.betaTest||i.toTimestamp(x.betaTest)<i.toTimestamp());if("undefined"!=typeof b){if(3==I){if(x.needSubscription)var w="common"}else if(2==I)var w="premium";else if(1==I)if(x.needSubscription)var w="premium";else var w="common";else var w="basic";if(parseInt(b.service_account_id,10)>0);}if(B&&33==e["Game/current.serviceId"])var w="common";var k="",G=!1,T=v.actionEnabled,L=v.trialLink;if(S)var G=!0,k="__Aion";if(x.needSubscription)var k="__Subscription";var A=e["Layout/finished."+e["Game/current.serviceId"]]||!1;if(t.push("<div"+jade.attrs({"data-id":e["Game/current.serviceId"],"class":["bGamePanelCommon__eMainSection","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0,"data-id":!0})+">"),y&&y.disabled||o.call({block:function(){o({content:n("Game-Panel","AutoUpdateProgressSubInfo"),type:"subinfo"})}},{content:n("Game-Panel","AutoUpdateProgressInfo"),type:"progress"}),j)if(y&&y.disabled)o({type:y.type||"warning",content:y.text,hiding:!0});else{if(t.push('<div class="bGamePanelCommon__eTop">'),"install"!==A)if("common"===w&&G&&!f){var M=k;S&&(M+="__50",T&&(M+="_ver2")),o({type:"success",href:L,target:"_blank",id:"trialDurationInfo",content:n("Game-Panel","AccountIsTrial"+M),hiding:!0})}else if("common"===w&&b&&"undefined"!=typeof b.subscription&&g===!1&&f&&(P||G))o(S&&C?{type:"success",id:"premiumDurationInfo",content:n("Game-Panel","ImprovementJustBought"+k),hiding:!0}:{type:"error",id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpired"+k),hiding:!0});else if("premium"===w&&b&&b.subscription&&b.subscription.has_active){var H=b.subscription.finishTime,E=e["Layout/premiumIsRenewal."+e["Game/current.serviceId"]],F=e["Layout/premiumRenewalDays."+e["Game/current.serviceId"]];if(C){var D="success",R=Math.floor(F/30),N=F%30;if(R){var W=R+" "+r(R,"Interface","MonthPlural");N&&(W+=" "+n("Game-Panel","ImprovementMonthAndDay")+" "+N+" "+r(N,"Interface","DaysPlural"))}else var W=N+" "+r(N,"Interface","DaysPlural");o(S?E?{type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementRenewal"+k),hiding:!0}:{type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementJustBought"+k),hiding:!0}:E?{type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementRenewal"+k)+W,hiding:!0}:{type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementJustBought"+k)+W,hiding:!0})}else if("manyDays"==H.type||"lifeTime"==H.type){var D="confirmed";o({type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresNotSoon"+k)+r(H.daysLeft,"Interface","TimeLeftPlural")+" "+H.daysLeft+" "+r(H.daysLeft,"Interface","DaysPlural"),hiding:!0})}else if("lifeTime"==H.type){var D="confirmed";o({type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresNotSoon"+k)+r(H.daysLeft,"Interface","TimeLeftPlural")+" "+H.daysLeft+" "+r(H.daysLeft,"Interface","DaysPlural"),hiding:!0})}else{var D="warning";"threeDays"==H.type?o({type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresSoon"+k)+r(H.daysLeft,"Interface","TimeLeftPlural")+" "+n("Game-Panel","ImprovementExpiresSoonSummary"+k)+" "+H.daysLeft+" "+r(H.daysLeft,"Interface","DaysPlural"),hiding:!0}):"oneDay"==H.type&&o({type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresVerySoon"+k)+H.timeLeft+" "+H.date,hiding:!0})}}t.push("</div>")}if(j&&(!y||!y.disabled)){if(t.push("<div"+jade.attrs({"class":["bGamePanelCommon__eBottom","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0})+">"),"install"!==A){if(!g&&v&&!P&&v.features&&v.features.length){v.gamePanelRemoveLimitations&&t.push('<h1 class="bGamePanelCommon__eTitleName"> '+jade.escape(null==(jade.interp=v.gamePanelRemoveLimitations)?"":jade.interp)+"</h1>"),t.push('<ul class="bGamePanelCommon__ePremiumFeatures">');var z=0;(function(){var e=v.features;if("number"==typeof e.length)for(var a=0,s=e.length;a<s;a++){var i=e[a];i.showInGamePanel&&(z++,t.push("<li"+jade.attrs({"class":["bGamePanelCommon__ePremiumFeatures__eItem","bGamePanelCommon__ePremiumFeatures__eItem__mIndex"+z]},{"class":!0})+'><i class="bGamePanelCommon__ePremiumFeatures__eItem__eIcon"></i>'+jade.escape(null==(jade.interp=i.text)?"":jade.interp)),i.isNew&&t.push('<div class="bCrossconversion__eTag bCrossconversion__eTag__mGreen">'+jade.escape(null==(jade.interp=n("Interface","NewStatus"))?"":jade.interp)+"</div>"),t.push("</li>"))}else{var s=0;for(var a in e){s++;var i=e[a];i.showInGamePanel&&(z++,t.push("<li"+jade.attrs({"class":["bGamePanelCommon__ePremiumFeatures__eItem","bGamePanelCommon__ePremiumFeatures__eItem__mIndex"+z]},{"class":!0})+'><i class="bGamePanelCommon__ePremiumFeatures__eItem__eIcon"></i>'+jade.escape(null==(jade.interp=i.text)?"":jade.interp)),i.isNew&&t.push('<div class="bCrossconversion__eTag bCrossconversion__eTag__mGreen">'+jade.escape(null==(jade.interp=n("Interface","NewStatus"))?"":jade.interp)+"</div>"),t.push("</li>"))}}}).call(this),t.push("</ul>")}h()}t.push("</div>")}return t.push("</div>"),t.join("")},e.bGamePanel__pluginUpdateReload=function(e){var t=[],a=e||{},s=(a.typeModifiers,a.modifiers,a.data),n=(a.newParams,a.t),i=a.utils,r=a.plural,o=function(e,a){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),s=e.modifiers||"";if(e.isBlock)var s=s+" bSmallButton__mDisplay_Block";t.push("<button"+jade.attrs({style:!!e.minWidth&&"min-width: "+e.minWidth+";",id:!a&&(e.id||!1),"class":["bSmallButton",s]},{"class":!0,style:!0,id:!0})+'><span class="bSmallButton__eShine">'+(null==(jade.interp=e.text)?"":jade.interp)+"</span></button>")},l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});e.action?(t.push("<form"+jade.attrs({action:""+e.action,method:"get",id:e.id||!1,"class":["bSmallButtonForm"]},{action:!0,method:!0,id:!0})+">"),o(e,!0),t.push("</form>")):o(e,!1)},p=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",p="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var p=p+"True";else var p=p+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",p]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&d({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&d({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&d({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},d=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},d=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},p=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",p="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var p=p+"True";else var p=p+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",p]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&d({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&d({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&d({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},_=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&_(s);var u=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),_({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},d=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},c=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});m(e)};t.push("<!-- сама кнопка-->");var m=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),h(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),h(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var h=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),d({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},b=function(){var a=(this.block,this.attributes||{},this.escaped||{},e["L4G.Currency"]);t.push('<span class="bRubleSymbol">'),"RUB"==a?t.push(null==(jade.interp=n("Interface","RoubleSymbol"))?"":jade.interp):"BRL"==a?t.push(jade.escape(null==(jade.interp="R$")?"":jade.interp)):t.push(jade.escape(null==(jade.interp="&euro;")?"":jade.interp)),t.push("</span>")};s&&b();var I=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=e["Game/current.flags"]||{},i=i||e["Game/current.account"],r=e["Game/current.account.status"],o=e["Layout/premiumIsRenewal."+e["Game/current.serviceId"]],l=e["Game/current.premium"],p=e["GameData/services."+e["Game/current.serviceId"]+".premium_enabled"],d=l.premiumPage,_="bPremiumActions",m="ImproveAccount",h=!1,I="pseudo_small",g=!1;if("undefined"!=typeof r)if(3==r){if(s.needSubscription)var f="common"}else if(2==r)var f="premium";else if(1==r)if(s.needSubscription)var f="premium";else var f="common";else var f="basic";if("premium"==f)var h=!0;if(h){var m="ExtendAccountImprovement";if(o)var m="ExtendAccountImprovementAgain"}else var I="small",g=!0;var v="";if(9==e["Game/current.serviceId"])var v="__Aion";if(s.needSubscription)var v="__Subscription";a.modifiers&&(_+=" "+a.modifiers),t.push("<div"+jade.attrs({id:a.id||!1,"class":[_]},{"class":!0,id:!0})+"><div"+jade.attrs({"class":["bPremiumActions__eActionControl",p&&h?"bPremiumActions__eActionControl__mRenewal":""]},{"class":!0})+">"),p?(c({id:"jsBtnBuyPremiumInGamePanel",title:n("Game-Panel",m+v),type:I,shadowed:g,className:"bUIButton__eFrame__mGamePanelPremium",link:"?popupWidget=PremiumUpgradeWidget",dataReloadSections:'PremiumUpgradeWidget: {"target":"#OverlayContent","ns":"popup"}'}),!h&&l.premiumMinPrice&&(t.push("<div"+jade.attrs({id:"gamepanel-premium-min-price","class":["bPremiumActions__eActionControl__eSubInfo",l.isPromoPrice?"bPremiumActions__eActionControl__eSubInfo__mGreen":""]},{"class":!0})+">"+(null==(jade.interp=n("Game-Panel",l.isPromoPrice?"MinPremiumPromoPriceFrom":"MinPremiumPriceFrom"))?"":jade.interp)+"&nbsp;"+jade.escape(null==(jade.interp=l.premiumMinPrice)?"":jade.interp)+"&nbsp;"),b(),t.push("</div>"))):t.push('<div class="bPremiumActions__ePremiumPageLink">'+(null==(jade.interp=l.gamePanelIngamePremium)?"":jade.interp)+"</div>"),t.push("</div>"),p&&h?(t.push('<div class="bPremiumActions__eSubinfo"><span class="bPremiumActions__eSubinfoContent">'+(null==(jade.interp=n("Game-Panel","AutoImprovement"))?"":jade.interp)+'<span class="bPseudoLink bPremiumActions__eSubinfoPseudolink"><span'+jade.attrs({id:"bPremiumActions__eAutoImprovement","data-improvement-state":""+i.subscription.autopay_enabled,"data-improvement-url":"/subscription/setAutopay?serviceAccountId="+i.service_account_id,"class":["bPremiumActions__eSubinfoPseudolinkText"]},{"data-improvement-state":!0,"data-improvement-url":!0})+">"+(null==(jade.interp=n("Game-Panel",i.subscription.autopay_enabled?"AutoImprovementOn":"AutoImprovementOff"))?"":jade.interp)+"</span></span>"),u({id:"",type:"Grey",modifiers:"bPremiumActions__eHelpIcon",hintContent:n("Game-Panel","AutoImprovementHelp"+v)}),t.push("</span></div>")):d&&l.gamePanelPremiumPage&&t.push("<a"+jade.attrs({id:"gamepanel-premium-page-link",href:l.premiumPageLink,"class":["bPremiumActions__ePremiumPageLink"]},{href:!0})+">"+jade.escape(null==(jade.interp=l.gamePanelPremiumPage)?"":jade.interp)+"</a>"),t.push("</div>")},g=e["Game/current.account"],f=e["Game/current.account.status"],v=e["Game/current.account.subscription.has_active"],y=e["Game/current.account.subscription.endtime_unix_ms"],j=(e["Game/current.data"],e["Game/current.premium"]),U=e["Game/current.disableStatus"],P="play"==e["Game/current.actionPage"],S=+new Date,C=S-y<2592e5,x=9==e["Game/current.serviceId"],B=e["Layout/premiumJustBought."+e["Game/current.serviceId"]],w=e["Game/current.flags"]||{},k=!(!w.betaTest||i.toTimestamp(w.betaTest)<i.toTimestamp());if("undefined"!=typeof g){if(3==f){if(w.needSubscription)var G="common"}else if(2==f)var G="premium";else if(1==f)if(w.needSubscription)var G="premium";else var G="common";else var G="basic";if(parseInt(g.service_account_id,10)>0);}if(k&&33==e["Game/current.serviceId"])var G="common";var T="",L=!1,A=j.actionEnabled,M=j.trialLink;if(x)var L=!0,T="__Aion";if(w.needSubscription)var T="__Subscription";var H=e["Layout/finished."+e["Game/current.serviceId"]]||!1;if(t.push("<div"+jade.attrs({"data-id":e["Game/current.serviceId"],"class":["bGamePanelCommon__eMainSection","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0,"data-id":!0})+">"),U&&U.disabled||p.call({block:function(){p.call({block:function(){t.push('<p class="bInfoMessage__eControlsWrap">'),l({text:n("Game-Panel","AutoUpdateReloadButton"),modifiers:"jsGamePanel__eDefaultState__Refresh"}),t.push("</p>")}},{content:n("Game-Panel","AutoUpdateReloadSubInfo")+":",type:"subinfo"})}},{content:n("Game-Panel","AutoUpdateSuccessInfo"),type:"success"}),P)if(U&&U.disabled)p({type:U.type||"warning",content:U.text,hiding:!0});else{if(t.push('<div class="bGamePanelCommon__eTop">'),"install"!==H)if("common"===G&&L&&!y){var E=T;x&&(E+="__50",A&&(E+="_ver2")),p({type:"success",href:M,target:"_blank",id:"trialDurationInfo",content:n("Game-Panel","AccountIsTrial"+E),hiding:!0})}else if("common"===G&&g&&"undefined"!=typeof g.subscription&&v===!1&&y&&(C||L))p(x&&B?{type:"success",id:"premiumDurationInfo",content:n("Game-Panel","ImprovementJustBought"+T),hiding:!0}:{type:"error",id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpired"+T),hiding:!0});else if("premium"===G&&g&&g.subscription&&g.subscription.has_active){var F=g.subscription.finishTime,D=e["Layout/premiumIsRenewal."+e["Game/current.serviceId"]],R=e["Layout/premiumRenewalDays."+e["Game/current.serviceId"]];if(B){var N="success",W=Math.floor(R/30),z=R%30;if(W){var O=W+" "+r(W,"Interface","MonthPlural");z&&(O+=" "+n("Game-Panel","ImprovementMonthAndDay")+" "+z+" "+r(z,"Interface","DaysPlural"))}else var O=z+" "+r(z,"Interface","DaysPlural");p(x?D?{type:N,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementRenewal"+T),hiding:!0}:{type:N,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementJustBought"+T),hiding:!0}:D?{type:N,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementRenewal"+T)+O,hiding:!0}:{type:N,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementJustBought"+T)+O,hiding:!0})}else if("manyDays"==F.type||"lifeTime"==F.type){var N="confirmed";p({type:N,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresNotSoon"+T)+r(F.daysLeft,"Interface","TimeLeftPlural")+" "+F.daysLeft+" "+r(F.daysLeft,"Interface","DaysPlural"),hiding:!0})}else if("lifeTime"==F.type){var N="confirmed";p({type:N,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresNotSoon"+T)+r(F.daysLeft,"Interface","TimeLeftPlural")+" "+F.daysLeft+" "+r(F.daysLeft,"Interface","DaysPlural"),hiding:!0})}else{var N="warning";"threeDays"==F.type?p({type:N,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresSoon"+T)+r(F.daysLeft,"Interface","TimeLeftPlural")+" "+n("Game-Panel","ImprovementExpiresSoonSummary"+T)+" "+F.daysLeft+" "+r(F.daysLeft,"Interface","DaysPlural"),hiding:!0}):"oneDay"==F.type&&p({type:N,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresVerySoon"+T)+F.timeLeft+" "+F.date,hiding:!0})}}t.push("</div>")}if(P&&(!U||!U.disabled)){if(t.push("<div"+jade.attrs({"class":["bGamePanelCommon__eBottom","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0})+">"),"install"!==H){if(!v&&j&&!C&&j.features&&j.features.length){j.gamePanelRemoveLimitations&&t.push('<h1 class="bGamePanelCommon__eTitleName"> '+jade.escape(null==(jade.interp=j.gamePanelRemoveLimitations)?"":jade.interp)+"</h1>"),t.push('<ul class="bGamePanelCommon__ePremiumFeatures">');var q=0;(function(){var e=j.features;if("number"==typeof e.length)for(var a=0,s=e.length;a<s;a++){var i=e[a];i.showInGamePanel&&(q++,t.push("<li"+jade.attrs({"class":["bGamePanelCommon__ePremiumFeatures__eItem","bGamePanelCommon__ePremiumFeatures__eItem__mIndex"+q]},{"class":!0})+'><i class="bGamePanelCommon__ePremiumFeatures__eItem__eIcon"></i>'+jade.escape(null==(jade.interp=i.text)?"":jade.interp)),i.isNew&&t.push('<div class="bCrossconversion__eTag bCrossconversion__eTag__mGreen">'+jade.escape(null==(jade.interp=n("Interface","NewStatus"))?"":jade.interp)+"</div>"),
t.push("</li>"))}else{var s=0;for(var a in e){s++;var i=e[a];i.showInGamePanel&&(q++,t.push("<li"+jade.attrs({"class":["bGamePanelCommon__ePremiumFeatures__eItem","bGamePanelCommon__ePremiumFeatures__eItem__mIndex"+q]},{"class":!0})+'><i class="bGamePanelCommon__ePremiumFeatures__eItem__eIcon"></i>'+jade.escape(null==(jade.interp=i.text)?"":jade.interp)),i.isNew&&t.push('<div class="bCrossconversion__eTag bCrossconversion__eTag__mGreen">'+jade.escape(null==(jade.interp=n("Interface","NewStatus"))?"":jade.interp)+"</div>"),t.push("</li>"))}}}).call(this),t.push("</ul>")}I()}t.push("</div>")}return t.push("</div>"),t.join("")},e.bGamePanel__pluginUpdateSuccess=function(e){var t=[],a=e||{},s=(a.typeModifiers,a.modifiers,a.data),n=(a.newParams,a.t),i=a.utils,r=a.plural,o=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&l({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&l({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&l({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},o=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&l({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&l({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&l({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},p=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&p(s);var d=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),p({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},_=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});u(e)};t.push("<!-- сама кнопка-->");var u=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),c(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),c(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var c=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),l({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},m=function(){var a=(this.block,this.attributes||{},this.escaped||{},e["L4G.Currency"]);t.push('<span class="bRubleSymbol">'),"RUB"==a?t.push(null==(jade.interp=n("Interface","RoubleSymbol"))?"":jade.interp):"BRL"==a?t.push(jade.escape(null==(jade.interp="R$")?"":jade.interp)):t.push(jade.escape(null==(jade.interp="&euro;")?"":jade.interp)),t.push("</span>")};s&&m();var h=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=e["Game/current.flags"]||{},i=i||e["Game/current.account"],r=e["Game/current.account.status"],o=e["Layout/premiumIsRenewal."+e["Game/current.serviceId"]],l=e["Game/current.premium"],p=e["GameData/services."+e["Game/current.serviceId"]+".premium_enabled"],u=l.premiumPage,c="bPremiumActions",h="ImproveAccount",b=!1,I="pseudo_small",g=!1;if("undefined"!=typeof r)if(3==r){if(s.needSubscription)var f="common"}else if(2==r)var f="premium";else if(1==r)if(s.needSubscription)var f="premium";else var f="common";else var f="basic";if("premium"==f)var b=!0;if(b){var h="ExtendAccountImprovement";if(o)var h="ExtendAccountImprovementAgain"}else var I="small",g=!0;var v="";if(9==e["Game/current.serviceId"])var v="__Aion";if(s.needSubscription)var v="__Subscription";a.modifiers&&(c+=" "+a.modifiers),t.push("<div"+jade.attrs({id:a.id||!1,"class":[c]},{"class":!0,id:!0})+"><div"+jade.attrs({"class":["bPremiumActions__eActionControl",p&&b?"bPremiumActions__eActionControl__mRenewal":""]},{"class":!0})+">"),p?(_({id:"jsBtnBuyPremiumInGamePanel",title:n("Game-Panel",h+v),type:I,shadowed:g,className:"bUIButton__eFrame__mGamePanelPremium",link:"?popupWidget=PremiumUpgradeWidget",dataReloadSections:'PremiumUpgradeWidget: {"target":"#OverlayContent","ns":"popup"}'}),!b&&l.premiumMinPrice&&(t.push("<div"+jade.attrs({id:"gamepanel-premium-min-price","class":["bPremiumActions__eActionControl__eSubInfo",l.isPromoPrice?"bPremiumActions__eActionControl__eSubInfo__mGreen":""]},{"class":!0})+">"+(null==(jade.interp=n("Game-Panel",l.isPromoPrice?"MinPremiumPromoPriceFrom":"MinPremiumPriceFrom"))?"":jade.interp)+"&nbsp;"+jade.escape(null==(jade.interp=l.premiumMinPrice)?"":jade.interp)+"&nbsp;"),m(),t.push("</div>"))):t.push('<div class="bPremiumActions__ePremiumPageLink">'+(null==(jade.interp=l.gamePanelIngamePremium)?"":jade.interp)+"</div>"),t.push("</div>"),p&&b?(t.push('<div class="bPremiumActions__eSubinfo"><span class="bPremiumActions__eSubinfoContent">'+(null==(jade.interp=n("Game-Panel","AutoImprovement"))?"":jade.interp)+'<span class="bPseudoLink bPremiumActions__eSubinfoPseudolink"><span'+jade.attrs({id:"bPremiumActions__eAutoImprovement","data-improvement-state":""+i.subscription.autopay_enabled,"data-improvement-url":"/subscription/setAutopay?serviceAccountId="+i.service_account_id,"class":["bPremiumActions__eSubinfoPseudolinkText"]},{"data-improvement-state":!0,"data-improvement-url":!0})+">"+(null==(jade.interp=n("Game-Panel",i.subscription.autopay_enabled?"AutoImprovementOn":"AutoImprovementOff"))?"":jade.interp)+"</span></span>"),d({id:"",type:"Grey",modifiers:"bPremiumActions__eHelpIcon",hintContent:n("Game-Panel","AutoImprovementHelp"+v)}),t.push("</span></div>")):u&&l.gamePanelPremiumPage&&t.push("<a"+jade.attrs({id:"gamepanel-premium-page-link",href:l.premiumPageLink,"class":["bPremiumActions__ePremiumPageLink"]},{href:!0})+">"+jade.escape(null==(jade.interp=l.gamePanelPremiumPage)?"":jade.interp)+"</a>"),t.push("</div>")},b=e["Game/current.account"],I=e["Game/current.account.status"],g=e["Game/current.account.subscription.has_active"],f=e["Game/current.account.subscription.endtime_unix_ms"],v=(e["Game/current.data"],e["Game/current.premium"]),y=e["Game/current.disableStatus"],j="play"==e["Game/current.actionPage"],U=+new Date,P=U-f<2592e5,S=9==e["Game/current.serviceId"],C=e["Layout/premiumJustBought."+e["Game/current.serviceId"]],x=e["Game/current.flags"]||{},B=!(!x.betaTest||i.toTimestamp(x.betaTest)<i.toTimestamp());if("undefined"!=typeof b){if(3==I){if(x.needSubscription)var w="common"}else if(2==I)var w="premium";else if(1==I)if(x.needSubscription)var w="premium";else var w="common";else var w="basic";if(parseInt(b.service_account_id,10)>0);}if(B&&33==e["Game/current.serviceId"])var w="common";var k="",G=!1,T=v.actionEnabled,L=v.trialLink;if(S)var G=!0,k="__Aion";if(x.needSubscription)var k="__Subscription";var A=e["Layout/finished."+e["Game/current.serviceId"]]||!1;if(t.push("<div"+jade.attrs({"data-id":e["Game/current.serviceId"],"class":["bGamePanelCommon__eMainSection","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0,"data-id":!0})+">"),y&&y.disabled||o.call({block:function(){o({content:n("Game-Panel","AutoUpdateSuccessSubInfo"),type:"subinfo"})}},{content:n("Game-Panel","AutoUpdateSuccessInfo"),type:"success"}),j)if(y&&y.disabled)o({type:y.type||"warning",content:y.text,hiding:!0});else{if(t.push('<div class="bGamePanelCommon__eTop">'),"install"!==A)if("common"===w&&G&&!f){var M=k;S&&(M+="__50",T&&(M+="_ver2")),o({type:"success",href:L,target:"_blank",id:"trialDurationInfo",content:n("Game-Panel","AccountIsTrial"+M),hiding:!0})}else if("common"===w&&b&&"undefined"!=typeof b.subscription&&g===!1&&f&&(P||G))o(S&&C?{type:"success",id:"premiumDurationInfo",content:n("Game-Panel","ImprovementJustBought"+k),hiding:!0}:{type:"error",id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpired"+k),hiding:!0});else if("premium"===w&&b&&b.subscription&&b.subscription.has_active){var H=b.subscription.finishTime,E=e["Layout/premiumIsRenewal."+e["Game/current.serviceId"]],F=e["Layout/premiumRenewalDays."+e["Game/current.serviceId"]];if(C){var D="success",R=Math.floor(F/30),N=F%30;if(R){var W=R+" "+r(R,"Interface","MonthPlural");N&&(W+=" "+n("Game-Panel","ImprovementMonthAndDay")+" "+N+" "+r(N,"Interface","DaysPlural"))}else var W=N+" "+r(N,"Interface","DaysPlural");o(S?E?{type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementRenewal"+k),hiding:!0}:{type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementJustBought"+k),hiding:!0}:E?{type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementRenewal"+k)+W,hiding:!0}:{type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementJustBought"+k)+W,hiding:!0})}else if("manyDays"==H.type||"lifeTime"==H.type){var D="confirmed";o({type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresNotSoon"+k)+r(H.daysLeft,"Interface","TimeLeftPlural")+" "+H.daysLeft+" "+r(H.daysLeft,"Interface","DaysPlural"),hiding:!0})}else if("lifeTime"==H.type){var D="confirmed";o({type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresNotSoon"+k)+r(H.daysLeft,"Interface","TimeLeftPlural")+" "+H.daysLeft+" "+r(H.daysLeft,"Interface","DaysPlural"),hiding:!0})}else{var D="warning";"threeDays"==H.type?o({type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresSoon"+k)+r(H.daysLeft,"Interface","TimeLeftPlural")+" "+n("Game-Panel","ImprovementExpiresSoonSummary"+k)+" "+H.daysLeft+" "+r(H.daysLeft,"Interface","DaysPlural"),hiding:!0}):"oneDay"==H.type&&o({type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresVerySoon"+k)+H.timeLeft+" "+H.date,hiding:!0})}}t.push("</div>")}if(j&&(!y||!y.disabled)){if(t.push("<div"+jade.attrs({"class":["bGamePanelCommon__eBottom","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0})+">"),"install"!==A){if(!g&&v&&!P&&v.features&&v.features.length){v.gamePanelRemoveLimitations&&t.push('<h1 class="bGamePanelCommon__eTitleName"> '+jade.escape(null==(jade.interp=v.gamePanelRemoveLimitations)?"":jade.interp)+"</h1>"),t.push('<ul class="bGamePanelCommon__ePremiumFeatures">');var z=0;(function(){var e=v.features;if("number"==typeof e.length)for(var a=0,s=e.length;a<s;a++){var i=e[a];i.showInGamePanel&&(z++,t.push("<li"+jade.attrs({"class":["bGamePanelCommon__ePremiumFeatures__eItem","bGamePanelCommon__ePremiumFeatures__eItem__mIndex"+z]},{"class":!0})+'><i class="bGamePanelCommon__ePremiumFeatures__eItem__eIcon"></i>'+jade.escape(null==(jade.interp=i.text)?"":jade.interp)),i.isNew&&t.push('<div class="bCrossconversion__eTag bCrossconversion__eTag__mGreen">'+jade.escape(null==(jade.interp=n("Interface","NewStatus"))?"":jade.interp)+"</div>"),t.push("</li>"))}else{var s=0;for(var a in e){s++;var i=e[a];i.showInGamePanel&&(z++,t.push("<li"+jade.attrs({"class":["bGamePanelCommon__ePremiumFeatures__eItem","bGamePanelCommon__ePremiumFeatures__eItem__mIndex"+z]},{"class":!0})+'><i class="bGamePanelCommon__ePremiumFeatures__eItem__eIcon"></i>'+jade.escape(null==(jade.interp=i.text)?"":jade.interp)),i.isNew&&t.push('<div class="bCrossconversion__eTag bCrossconversion__eTag__mGreen">'+jade.escape(null==(jade.interp=n("Interface","NewStatus"))?"":jade.interp)+"</div>"),t.push("</li>"))}}}).call(this),t.push("</ul>")}h()}t.push("</div>")}return t.push("</div>"),t.join("")},e.bGamePanel__premiumLayout=function(e){var t=[],a=e||{},s=(a.typeModifiers,a.modifiers,a.data),n=(a.newParams,a.t),i=a.utils,r=a.plural,o=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},l=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",l="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),r.length&&n.push(r),l=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&o({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&o({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&o({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},p=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&p(s);var d=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),p({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},o=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},_=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});u(e)};t.push("<!-- сама кнопка-->");var u=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),c(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),c(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var c=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),o({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},m=function(){var a=(this.block,this.attributes||{},this.escaped||{},e["L4G.Currency"]);t.push('<span class="bRubleSymbol">'),"RUB"==a?t.push(null==(jade.interp=n("Interface","RoubleSymbol"))?"":jade.interp):"BRL"==a?t.push(jade.escape(null==(jade.interp="R$")?"":jade.interp)):t.push(jade.escape(null==(jade.interp="&euro;")?"":jade.interp)),t.push("</span>")};s&&m();var h=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=e["Game/current.flags"]||{},i=i||e["Game/current.account"],r=e["Game/current.account.status"],o=e["Layout/premiumIsRenewal."+e["Game/current.serviceId"]],l=e["Game/current.premium"],p=e["GameData/services."+e["Game/current.serviceId"]+".premium_enabled"],u=l.premiumPage,c="bPremiumActions",h="ImproveAccount",b=!1,I="pseudo_small",g=!1;if("undefined"!=typeof r)if(3==r){if(s.needSubscription)var f="common"}else if(2==r)var f="premium";else if(1==r)if(s.needSubscription)var f="premium";else var f="common";else var f="basic";if("premium"==f)var b=!0;if(b){var h="ExtendAccountImprovement";if(o)var h="ExtendAccountImprovementAgain"}else var I="small",g=!0;var v="";if(9==e["Game/current.serviceId"])var v="__Aion";if(s.needSubscription)var v="__Subscription";a.modifiers&&(c+=" "+a.modifiers),t.push("<div"+jade.attrs({id:a.id||!1,"class":[c]},{"class":!0,id:!0})+"><div"+jade.attrs({"class":["bPremiumActions__eActionControl",p&&b?"bPremiumActions__eActionControl__mRenewal":""]},{"class":!0})+">"),p?(_({id:"jsBtnBuyPremiumInGamePanel",title:n("Game-Panel",h+v),type:I,shadowed:g,className:"bUIButton__eFrame__mGamePanelPremium",link:"?popupWidget=PremiumUpgradeWidget",dataReloadSections:'PremiumUpgradeWidget: {"target":"#OverlayContent","ns":"popup"}'}),!b&&l.premiumMinPrice&&(t.push("<div"+jade.attrs({id:"gamepanel-premium-min-price","class":["bPremiumActions__eActionControl__eSubInfo",l.isPromoPrice?"bPremiumActions__eActionControl__eSubInfo__mGreen":""]},{"class":!0})+">"+(null==(jade.interp=n("Game-Panel",l.isPromoPrice?"MinPremiumPromoPriceFrom":"MinPremiumPriceFrom"))?"":jade.interp)+"&nbsp;"+jade.escape(null==(jade.interp=l.premiumMinPrice)?"":jade.interp)+"&nbsp;"),m(),t.push("</div>"))):t.push('<div class="bPremiumActions__ePremiumPageLink">'+(null==(jade.interp=l.gamePanelIngamePremium)?"":jade.interp)+"</div>"),t.push("</div>"),p&&b?(t.push('<div class="bPremiumActions__eSubinfo"><span class="bPremiumActions__eSubinfoContent">'+(null==(jade.interp=n("Game-Panel","AutoImprovement"))?"":jade.interp)+'<span class="bPseudoLink bPremiumActions__eSubinfoPseudolink"><span'+jade.attrs({id:"bPremiumActions__eAutoImprovement","data-improvement-state":""+i.subscription.autopay_enabled,"data-improvement-url":"/subscription/setAutopay?serviceAccountId="+i.service_account_id,"class":["bPremiumActions__eSubinfoPseudolinkText"]},{"data-improvement-state":!0,"data-improvement-url":!0})+">"+(null==(jade.interp=n("Game-Panel",i.subscription.autopay_enabled?"AutoImprovementOn":"AutoImprovementOff"))?"":jade.interp)+"</span></span>"),d({id:"",type:"Grey",modifiers:"bPremiumActions__eHelpIcon",hintContent:n("Game-Panel","AutoImprovementHelp"+v)}),t.push("</span></div>")):u&&l.gamePanelPremiumPage&&t.push("<a"+jade.attrs({id:"gamepanel-premium-page-link",href:l.premiumPageLink,"class":["bPremiumActions__ePremiumPageLink"]},{href:!0})+">"+jade.escape(null==(jade.interp=l.gamePanelPremiumPage)?"":jade.interp)+"</a>"),t.push("</div>")},b=e["Game/current.account"],I=e["Game/current.account.status"],g=e["Game/current.account.subscription.has_active"],f=e["Game/current.account.subscription.endtime_unix_ms"],v=(e["Game/current.data"],e["Game/current.premium"]),y=e["Game/current.disableStatus"],j="play"==e["Game/current.actionPage"],U=+new Date,P=U-f<2592e5,S=9==e["Game/current.serviceId"],C=e["Layout/premiumJustBought."+e["Game/current.serviceId"]],x=e["Game/current.flags"]||{},B=!(!x.betaTest||i.toTimestamp(x.betaTest)<i.toTimestamp());if("undefined"!=typeof b){if(3==I){if(x.needSubscription)var w="common"}else if(2==I)var w="premium";else if(1==I)if(x.needSubscription)var w="premium";else var w="common";else var w="basic";if(parseInt(b.service_account_id,10)>0);}if(B&&33==e["Game/current.serviceId"])var w="common";var k="",G=!1,T=v.actionEnabled,L=v.trialLink;if(S)var G=!0,k="__Aion";if(x.needSubscription)var k="__Subscription";var A=e["Layout/finished."+e["Game/current.serviceId"]]||!1;if(t.push("<div"+jade.attrs({"data-id":e["Game/current.serviceId"],"class":["bGamePanelCommon__eMainSection","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0,"data-id":!0})+">"),y&&y.disabled||t.push(""),j)if(y&&y.disabled)l({type:y.type||"warning",content:y.text,hiding:!0});else{if(t.push('<div class="bGamePanelCommon__eTop">'),"install"!==A)if("common"===w&&G&&!f){var M=k;S&&(M+="__50",T&&(M+="_ver2")),l({type:"success",href:L,target:"_blank",id:"trialDurationInfo",content:n("Game-Panel","AccountIsTrial"+M),hiding:!0})}else if("common"===w&&b&&"undefined"!=typeof b.subscription&&g===!1&&f&&(P||G))l(S&&C?{type:"success",id:"premiumDurationInfo",content:n("Game-Panel","ImprovementJustBought"+k),hiding:!0}:{type:"error",id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpired"+k),hiding:!0});else if("premium"===w&&b&&b.subscription&&b.subscription.has_active){var H=b.subscription.finishTime,E=e["Layout/premiumIsRenewal."+e["Game/current.serviceId"]],F=e["Layout/premiumRenewalDays."+e["Game/current.serviceId"]];if(C){var D="success",R=Math.floor(F/30),N=F%30;if(R){var W=R+" "+r(R,"Interface","MonthPlural");N&&(W+=" "+n("Game-Panel","ImprovementMonthAndDay")+" "+N+" "+r(N,"Interface","DaysPlural"))}else var W=N+" "+r(N,"Interface","DaysPlural");l(S?E?{type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementRenewal"+k),hiding:!0}:{type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementJustBought"+k),hiding:!0}:E?{type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementRenewal"+k)+W,hiding:!0}:{type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementJustBought"+k)+W,hiding:!0})}else if("manyDays"==H.type||"lifeTime"==H.type){var D="confirmed";l({type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresNotSoon"+k)+r(H.daysLeft,"Interface","TimeLeftPlural")+" "+H.daysLeft+" "+r(H.daysLeft,"Interface","DaysPlural"),hiding:!0})}else if("lifeTime"==H.type){var D="confirmed";l({type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresNotSoon"+k)+r(H.daysLeft,"Interface","TimeLeftPlural")+" "+H.daysLeft+" "+r(H.daysLeft,"Interface","DaysPlural"),hiding:!0})}else{var D="warning";"threeDays"==H.type?l({type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresSoon"+k)+r(H.daysLeft,"Interface","TimeLeftPlural")+" "+n("Game-Panel","ImprovementExpiresSoonSummary"+k)+" "+H.daysLeft+" "+r(H.daysLeft,"Interface","DaysPlural"),
hiding:!0}):"oneDay"==H.type&&l({type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresVerySoon"+k)+H.timeLeft+" "+H.date,hiding:!0})}}t.push("</div>")}if(j&&(!y||!y.disabled)){if(t.push("<div"+jade.attrs({"class":["bGamePanelCommon__eBottom","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0})+">"),"install"!==A){if(!g&&v&&!P&&v.features&&v.features.length){v.gamePanelRemoveLimitations&&t.push('<h1 class="bGamePanelCommon__eTitleName"> '+jade.escape(null==(jade.interp=v.gamePanelRemoveLimitations)?"":jade.interp)+"</h1>"),t.push('<ul class="bGamePanelCommon__ePremiumFeatures">');var z=0;(function(){var e=v.features;if("number"==typeof e.length)for(var a=0,s=e.length;a<s;a++){var i=e[a];i.showInGamePanel&&(z++,t.push("<li"+jade.attrs({"class":["bGamePanelCommon__ePremiumFeatures__eItem","bGamePanelCommon__ePremiumFeatures__eItem__mIndex"+z]},{"class":!0})+'><i class="bGamePanelCommon__ePremiumFeatures__eItem__eIcon"></i>'+jade.escape(null==(jade.interp=i.text)?"":jade.interp)),i.isNew&&t.push('<div class="bCrossconversion__eTag bCrossconversion__eTag__mGreen">'+jade.escape(null==(jade.interp=n("Interface","NewStatus"))?"":jade.interp)+"</div>"),t.push("</li>"))}else{var s=0;for(var a in e){s++;var i=e[a];i.showInGamePanel&&(z++,t.push("<li"+jade.attrs({"class":["bGamePanelCommon__ePremiumFeatures__eItem","bGamePanelCommon__ePremiumFeatures__eItem__mIndex"+z]},{"class":!0})+'><i class="bGamePanelCommon__ePremiumFeatures__eItem__eIcon"></i>'+jade.escape(null==(jade.interp=i.text)?"":jade.interp)),i.isNew&&t.push('<div class="bCrossconversion__eTag bCrossconversion__eTag__mGreen">'+jade.escape(null==(jade.interp=n("Interface","NewStatus"))?"":jade.interp)+"</div>"),t.push("</li>"))}}}).call(this),t.push("</ul>")}h()}t.push("</div>")}return t.push("</div>"),t.join("")},e.bGamePanel__settings=function(e){var t=[],a=e||{},s=a.bUIRadiobuttonGroup__GroupModificator,n=a.t,i=a.buttons,r=a.checked,o=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},l=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",l="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),r.length&&n.push(r),l=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&o({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&o({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&o({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},p=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});e.action?(t.push("<form"+jade.attrs({action:""+e.action,method:"get",id:e.id||!1,"class":["bSmallButtonForm"]},{action:!0,method:!0,id:!0})+">"),d(e,!0),t.push("</form>")):d(e,!1)},d=function(e,a){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),s=e.modifiers||"";if(e.isBlock)var s=s+" bSmallButton__mDisplay_Block";t.push("<button"+jade.attrs({style:!!e.minWidth&&"min-width: "+e.minWidth+";",id:!a&&(e.id||!1),"class":["bSmallButton",s]},{"class":!0,style:!0,id:!0})+'><span class="bSmallButton__eShine">'+(null==(jade.interp=e.text)?"":jade.interp)+"</span></button>")},_=function(e){var a=(this.block,this.attributes||{}),s=this.escaped||{},e=e||{};e.target=e.target||"_top";var n="bPseudoButtonLink bPseudoButtonLink_mType_GamePanel";if(e.isBlock)var n=n+" bPseudoButtonLink__mDisplay_Block";e.link?(t.push("<a"+jade.attrs(jade.merge({href:""+e.link,target:""+e.target,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":[n]},a),jade.merge({href:!0,target:!0,"class":!0,"data-reload-sections":!0,id:!0},s,!0))+">"),u(e,!0),t.push("</a>")):u(e,!1)},u=function(e,a){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),s=e.modifiers||"";if(e.isBlock)var s=s+" bPseudoButton__mDisplay_Block";t.push("<span"+jade.attrs({id:!a&&(e.id||!1),style:!!e.minWidth&&"min-width: "+e.minWidth+";","class":["bPseudoButton","bPseudoButton__mType_GamePanel",s]},{"class":!0,id:!0,style:!0})+'><span class="bPseudoButton__eShine"><span class="bPseudoButton__eText">'+(null==(jade.interp=e.text)?"":jade.interp)),e.hoverText&&t.push('<span class="bPseudoButton__eHoverText">'+(null==(jade.interp=e.hoverText)?"":jade.interp)+"</span>"),t.push("</span></span></span>")},c=function(e){this.block,this.attributes||{},this.escaped||{};t.push("<span"+jade.attrs({"class":["bUIRadiobutton",(e.modifiers||"")+(e.designed?"bUIRadiobutton__mFake":"")]},{"class":!0})+'><label data-js-widgets="block!bUIRadiobutton/bUIRadiobutton" class="bUIRadiobutton__eLabe"><span class="bUIRadiobutton__eInputWrap"><span class="bUIRadiobutton__eFakeRadioContainer"><input'+jade.attrs({type:"radio",name:e.name,value:e.value,id:e.id||"",checked:e.checked,formaction:e.formaction||"","class":["bUIRadiobutton__eInput"]},{type:!0,name:!0,value:!0,id:!0,checked:!0,formaction:!0})+"/></span></span>"),e.label&&t.push('<span class="bUIRadiobutton__eLabelContent">'+jade.escape(null==(jade.interp=e.label)?"":jade.interp)+"</span>"),t.push("</label></span>")},m=function(e){this.block,this.attributes||{},this.escaped||{};s=e.groupModificator?e.groupModificator:"",t.push("<div"+jade.attrs({"class":["bUIRadiobuttonGroup",s]},{"class":!0})+">"),function(){var t=e.buttons;if("number"==typeof t.length)for(var a=0,s=t.length;a<s;a++){var n=t[a];c(n)}else{var s=0;for(var a in t){s++;var n=t[a];c(n)}}}.call(this),t.push("</div>")},h=e["Game/current.serviceId"],b="not_installed"!=e["L4G.Application/in-status.services."+h+".status"],I=e["GamePanel/availableEnvironments"];return t.push('<div class="bGamePanelSettings__eTitle">'+(null==(jade.interp=n("Game-Panel","SettingsTitle"))?"":jade.interp)+"</div>"),e["Game/current.currentVersion"]&&t.push('<div class="bGamePanelSettings__eVersion">('+jade.escape(null==(jade.interp=n("Game-Panel","Version"))?"":jade.interp)+" "+jade.escape(null==(jade.interp=e["Game/current.currentVersion"])?"":jade.interp)+")</div>"),t.push('<div class="bGamePanelSettings__eSmallButtons">'),b&&(t.push('<div class="bGamePanelSettings__eSmallButtonsRow">'),_({text:n("Game-Panel","SettingsPathBtn"),isBlock:!0,id:"jsGamePanel-btnChangeDefaultPath",modifiers:""}),t.push("</div>"),"true"==e["L4G.Application/in-status.services."+h+".configurable"]&&(t.push('<div class="bGamePanelSettings__eSmallButtonsRow">'),p({text:n("Game-Panel","SettingsGraphicBtn"),isBlock:!0,id:"jsGamePanel-btnConfigure",modifiers:"jsBtnServiceConfigure"}),t.push("</div>")),t.push('<div class="bGamePanelSettings__eSmallButtonsRow bGamePanelSettings__eSmallButtonsRow__mPosition_Last">'),p({text:n("Game-Panel","SettingsRepairBtn"),isBlock:!0,id:"jsGamePanel-btnFixGame",modifiers:"jsBtnServiceRepair"}),t.push('</div><div class="bGamePanelSettings__eSubinfo">'),l({type:"subinfo",content:n("Game-Panel","SettingsRepairSubinfo")}),t.push("</div>")),I&&(t.push('<div class="bGamePanelSettings__eEnvironmentSelector"><div class="bGamePanelSettings__eEnvironmentSelector__eTitle">'+jade.escape(null==(jade.interp=n("Game-Panel","Server"))?"":jade.interp)+'</div><div class="bGamePanelSettings__eEnvironmentSelector__eServerList">'),i=[],function(){var t=I;if("number"==typeof t.length)for(var a=0,s=t.length;a<s;a++){var n=t[a];i.push({name:"environment",modifiers:"bGamePanelSettings__eEnvironmentSelector__eServerList__eItem",value:a,checked:r=a.toLowerCase()==e["L4G.Application/in-availableServices.environment"],label:n.name})}else{var s=0;for(var a in t){s++;var n=t[a];i.push({name:"environment",modifiers:"bGamePanelSettings__eEnvironmentSelector__eServerList__eItem",value:a,checked:r=a.toLowerCase()==e["L4G.Application/in-availableServices.environment"],label:n.name})}}}.call(this),m({buttons:i}),t.push("</div></div>")),t.push("</div>"),t.join("")},e.bGamePanel__statusInstalled=function(e){var t=[],a=e||{},s=a.t,n=a.utils,i=(a.modifiers,a.typeModifiers,a.newParams,a.data),r=a.isSuperSecurityForUser,o=a.plural,l=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),n=a.state||e["GamePanel/state"];t.push('<div class="bGamePanelProgress__eControlsArea"><div class="bGamePanelProgressControlsArea__eFirst">'),m("pause"==n?{id:"jsGamePanel__ProgressBlock__eButton_Resume",type:"resume",title:s("Game-Panel","Resume")}:{id:"jsGamePanel__ProgressBlock__eButton_Pause",type:"pause",title:s("Game-Panel","Stop")}),t.push("</div>"),a.nonCancelable||(t.push('<div class="bGamePanelProgressControlsArea__eSecond">'),m({id:"jsGamePanel__ProgressBlock__eButton_Cancel",type:"cancel",title:s("Game-Panel","Cancel")}),t.push("</div>")),t.push("</div>")},p=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),n=a.state||e["GamePanel/state"];t.push('<div class="bGamePanelProgress__eStatus"><span id="jsGamePanel__ProgressBlock__Unpacking" class="bGamePanelProgress__eStatusUnpacking">'+jade.escape(null==(jade.interp=s("Game-Panel","Unpacking"))?"":jade.interp)+"...</span>"),"progress"==n||"pause"==n?(t.push('<span id="jsGamePanel__ProgressBlock__ProgressData" class="bGamePanelProgress__eStatusProgress">'),a.progress&&t.push('<span class="bGamePanelProgress__eStatusProgressPercent"><span id="jsGamePanel__ProgressBlock__DownloadedProgress">'+jade.escape(null==(jade.interp=~~a.progress)?"":jade.interp)+"</span>&thinsp;%,&nbsp;</span>"),t.push('<span id="jsGamePanel__ProgressBlock__Downloaded"></span> '+jade.escape(null==(jade.interp=s("Interface","ConjFrom"))?"":jade.interp)+'&nbsp;<span id="jsGamePanel__ProgressBlock__DownloadSize"></span>,&nbsp;'),"progress"==n?t.push('<span id="jsGamePanel__ProgressBlock__DownloadSpeed"></span>'):"pause"==n&&t.push(jade.escape(null==(jade.interp=s("Game-Panel","Pause"))?"":jade.interp)),t.push("</span>")):"prepare"==n&&t.push(""+jade.escape(null==(jade.interp=s("Game-Panel","Preparing"))?"":jade.interp)+"&hellip;"),t.push("</div>")},d=function(){var a=(this.block,this.attributes||{},this.escaped||{},e["Game/current.newVersion"]);a&&t.push('<div class="bGamePanelProgress__eVersion">'+jade.escape(null==(jade.interp=s("Game-Panel","InstallingVersion"))?"":jade.interp)+" "+jade.escape(null==(jade.interp=a)?"":jade.interp)+"</div>")},_=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",p="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var p=p+"True";else var p=p+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",p]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&g({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&g({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&g({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},u=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),c({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},c=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")},m=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});t.push("<button"+jade.attrs({type:"command",id:e.id,"class":["bLinkButton","bLinkButton__mType_"+e.type]},{"class":!0,type:!0,id:!0})+">"+jade.escape(null==(jade.interp=e.title)?"":jade.interp)+"</button>")},h=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),g({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},b=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),h(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),h(e),t.push("</button>"))},I=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});b(e)},g=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},g=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},_=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",p="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var p=p+"True";else var p=p+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",p]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&g({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&g({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&g({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},c=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};i&&c(i);var u=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),c({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},g=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},I=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});b(e)};t.push("<!-- сама кнопка-->");var b=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),h(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),h(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var h=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),g({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},f=function(){var a=(this.block,this.attributes||{},this.escaped||{},e["L4G.Currency"]);t.push('<span class="bRubleSymbol">'),"RUB"==a?t.push(null==(jade.interp=s("Interface","RoubleSymbol"))?"":jade.interp):"BRL"==a?t.push(jade.escape(null==(jade.interp="R$")?"":jade.interp)):t.push(jade.escape(null==(jade.interp="&euro;")?"":jade.interp)),t.push("</span>")};i&&f();var v=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),n=e["Game/current.flags"]||{},i=i||e["Game/current.account"],r=e["Game/current.account.status"],o=e["Layout/premiumIsRenewal."+e["Game/current.serviceId"]],l=e["Game/current.premium"],p=e["GameData/services."+e["Game/current.serviceId"]+".premium_enabled"],d=l.premiumPage,_="bPremiumActions",c="ImproveAccount",m=!1,h="pseudo_small",b=!1;if("undefined"!=typeof r)if(3==r){if(n.needSubscription)var g="common"}else if(2==r)var g="premium";else if(1==r)if(n.needSubscription)var g="premium";else var g="common";else var g="basic";if("premium"==g)var m=!0;if(m){var c="ExtendAccountImprovement";if(o)var c="ExtendAccountImprovementAgain"}else var h="small",b=!0;var v="";if(9==e["Game/current.serviceId"])var v="__Aion";if(n.needSubscription)var v="__Subscription";a.modifiers&&(_+=" "+a.modifiers),t.push("<div"+jade.attrs({id:a.id||!1,"class":[_]},{"class":!0,id:!0})+"><div"+jade.attrs({"class":["bPremiumActions__eActionControl",p&&m?"bPremiumActions__eActionControl__mRenewal":""]},{"class":!0})+">"),p?(I({id:"jsBtnBuyPremiumInGamePanel",title:s("Game-Panel",c+v),type:h,shadowed:b,className:"bUIButton__eFrame__mGamePanelPremium",link:"?popupWidget=PremiumUpgradeWidget",dataReloadSections:'PremiumUpgradeWidget: {"target":"#OverlayContent","ns":"popup"}'}),!m&&l.premiumMinPrice&&(t.push("<div"+jade.attrs({id:"gamepanel-premium-min-price","class":["bPremiumActions__eActionControl__eSubInfo",l.isPromoPrice?"bPremiumActions__eActionControl__eSubInfo__mGreen":""]},{"class":!0})+">"+(null==(jade.interp=s("Game-Panel",l.isPromoPrice?"MinPremiumPromoPriceFrom":"MinPremiumPriceFrom"))?"":jade.interp)+"&nbsp;"+jade.escape(null==(jade.interp=l.premiumMinPrice)?"":jade.interp)+"&nbsp;"),f(),t.push("</div>"))):t.push('<div class="bPremiumActions__ePremiumPageLink">'+(null==(jade.interp=l.gamePanelIngamePremium)?"":jade.interp)+"</div>"),t.push("</div>"),p&&m?(t.push('<div class="bPremiumActions__eSubinfo"><span class="bPremiumActions__eSubinfoContent">'+(null==(jade.interp=s("Game-Panel","AutoImprovement"))?"":jade.interp)+'<span class="bPseudoLink bPremiumActions__eSubinfoPseudolink"><span'+jade.attrs({id:"bPremiumActions__eAutoImprovement","data-improvement-state":""+i.subscription.autopay_enabled,"data-improvement-url":"/subscription/setAutopay?serviceAccountId="+i.service_account_id,"class":["bPremiumActions__eSubinfoPseudolinkText"]},{"data-improvement-state":!0,"data-improvement-url":!0})+">"+(null==(jade.interp=s("Game-Panel",i.subscription.autopay_enabled?"AutoImprovementOn":"AutoImprovementOff"))?"":jade.interp)+"</span></span>"),u({id:"",type:"Grey",modifiers:"bPremiumActions__eHelpIcon",hintContent:s("Game-Panel","AutoImprovementHelp"+v)}),t.push("</span></div>")):d&&l.gamePanelPremiumPage&&t.push("<a"+jade.attrs({id:"gamepanel-premium-page-link",href:l.premiumPageLink,"class":["bPremiumActions__ePremiumPageLink"]},{href:!0})+">"+jade.escape(null==(jade.interp=l.gamePanelPremiumPage)?"":jade.interp)+"</a>"),t.push("</div>")},y=e["Game/current.account"],j=e["Game/current.account.status"],U=e["Game/current.account.subscription.has_active"],P=e["Game/current.account.subscription.endtime_unix_ms"],S=(e["Game/current.data"],e["Game/current.premium"]),C=e["Game/current.disableStatus"],x="play"==e["Game/current.actionPage"],B=+new Date,w=B-P<2592e5,k=9==e["Game/current.serviceId"],G=e["Layout/premiumJustBought."+e["Game/current.serviceId"]],T=e["Game/current.flags"]||{},L=!(!T.betaTest||n.toTimestamp(T.betaTest)<n.toTimestamp());if("undefined"!=typeof y){if(3==j){if(T.needSubscription)var A="common"}else if(2==j)var A="premium";else if(1==j)if(T.needSubscription)var A="premium";else var A="common";else var A="basic";if(parseInt(y.service_account_id,10)>0);}if(L&&33==e["Game/current.serviceId"])var A="common";var M="",H=!1,E=S.actionEnabled,F=S.trialLink;if(k)var H=!0,M="__Aion";if(T.needSubscription)var M="__Subscription";var D=e["Layout/finished."+e["Game/current.serviceId"]]||!1;if(t.push("<div"+jade.attrs({"data-id":e["Game/current.serviceId"],"class":["bGamePanelCommon__eMainSection","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0,"data-id":!0})+">"),!C||!C.disabled){var x="play"==e["Game/current.actionPage"],D=e["Layout/finished."+e["Game/current.serviceId"]]||!1,y=e["Game/current.account"],R=e["Game/current.account.isPremium"],N=(e["Game/current.data.static_install"],e["L4G.Application/in-appIdentity"],"jsBtnPlay"),W="startPlayForm",z=e[e["Game/current.statusPrefix"]],O=z.info,q=z.status,Y=O.progress,V=z.readyStage;D&&("repair"===D?_({type:"success",content:s("Game-Panel","JustRepaired"),hiding:!0}):"update"===D?_({type:"success",content:s("Game-Panel","JustUpdated"),hiding:!0}):"install"===D&&_(x?{type:"success",size:"big",underline:!1,content:s("Game-Panel","JustInstalledLink"),localHref:!0,id:"jsBtnJustInstalled",hiding:!0}:{type:"success",size:"big",underline:!1,content:s("Game-Panel","JustInstalledLink"),href:e["Game/current.oppositeUrl"],dataReloadSections:void 0,id:"jsBtnJustInstalled",hiding:!0})),"install"!==D&&(t.push("<form"+jade.attrs({id:W,action:"#",method:"get","class":["bGamePanel__ePlayBlock"]},{id:!0,action:!0,method:!0})+">"),I({title:s("Interface","PlayButton"),width:"full",id:N,premium:R}),t.push('<div id="GameErrorMessage" class="bGamePanel__eGamePasswordError"></div></form>'),r&&t.push('<form id="AppBindForm" action="./?popupWidget=AppBindWidget" method="POST" data-reload-sections="AppBindWidget: {&quot;target&quot;:&quot;#OverlayContent&quot;,&quot;ns&quot;:&quot;popup&quot;}"><input id="AppBindHwId" type="hidden" name="AppBindForm[hwId]" value="0"/><input id="AppBindAppId" type="hidden" name="AppBindForm[clientAppId]" value="0"/><input id="AppBindPublicKey" type="hidden" name="AppBindForm[publicKey]" value="0"/><input id="AppBindSubmit" type="submit" value="" style="width:0;height:0;position:absolute;visibility:hidden"/></form>')),V>0&&~["progress","paused"].indexOf(q)&&(t.push('<div class="bGamePanel__eProgress bGamePanel__eProgress__mTopIndent">'),d(),p({progress:Y}),l({nonCancelable:!0}),t.push("</div>"))}if(x)if(C&&C.disabled)_({type:C.type||"warning",content:C.text,hiding:!0});else{if(t.push('<div class="bGamePanelCommon__eTop">'),"install"!==D)if("common"===A&&H&&!P){var J=M;k&&(J+="__50",E&&(J+="_ver2")),_({type:"success",href:F,target:"_blank",id:"trialDurationInfo",content:s("Game-Panel","AccountIsTrial"+J),hiding:!0})}else if("common"===A&&y&&"undefined"!=typeof y.subscription&&U===!1&&P&&(w||H))_(k&&G?{type:"success",id:"premiumDurationInfo",content:s("Game-Panel","ImprovementJustBought"+M),hiding:!0}:{type:"error",id:"premiumDurationInfo",content:s("Game-Panel","ImprovementExpired"+M),hiding:!0});else if("premium"===A&&y&&y.subscription&&y.subscription.has_active){var Q=y.subscription.finishTime,$=e["Layout/premiumIsRenewal."+e["Game/current.serviceId"]],K=e["Layout/premiumRenewalDays."+e["Game/current.serviceId"]];
if(G){var X="success",Z=Math.floor(K/30),ee=K%30;if(Z){var te=Z+" "+o(Z,"Interface","MonthPlural");ee&&(te+=" "+s("Game-Panel","ImprovementMonthAndDay")+" "+ee+" "+o(ee,"Interface","DaysPlural"))}else var te=ee+" "+o(ee,"Interface","DaysPlural");_(k?$?{type:X,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementRenewal"+M),hiding:!0}:{type:X,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementJustBought"+M),hiding:!0}:$?{type:X,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementRenewal"+M)+te,hiding:!0}:{type:X,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementJustBought"+M)+te,hiding:!0})}else if("manyDays"==Q.type||"lifeTime"==Q.type){var X="confirmed";_({type:X,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementExpiresNotSoon"+M)+o(Q.daysLeft,"Interface","TimeLeftPlural")+" "+Q.daysLeft+" "+o(Q.daysLeft,"Interface","DaysPlural"),hiding:!0})}else if("lifeTime"==Q.type){var X="confirmed";_({type:X,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementExpiresNotSoon"+M)+o(Q.daysLeft,"Interface","TimeLeftPlural")+" "+Q.daysLeft+" "+o(Q.daysLeft,"Interface","DaysPlural"),hiding:!0})}else{var X="warning";"threeDays"==Q.type?_({type:X,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementExpiresSoon"+M)+o(Q.daysLeft,"Interface","TimeLeftPlural")+" "+s("Game-Panel","ImprovementExpiresSoonSummary"+M)+" "+Q.daysLeft+" "+o(Q.daysLeft,"Interface","DaysPlural"),hiding:!0}):"oneDay"==Q.type&&_({type:X,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementExpiresVerySoon"+M)+Q.timeLeft+" "+Q.date,hiding:!0})}}t.push("</div>")}if(x&&(!C||!C.disabled)){if(t.push("<div"+jade.attrs({"class":["bGamePanelCommon__eBottom","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0})+">"),"install"!==D){if(!U&&S&&!w&&S.features&&S.features.length){S.gamePanelRemoveLimitations&&t.push('<h1 class="bGamePanelCommon__eTitleName"> '+jade.escape(null==(jade.interp=S.gamePanelRemoveLimitations)?"":jade.interp)+"</h1>"),t.push('<ul class="bGamePanelCommon__ePremiumFeatures">');var ae=0;(function(){var e=S.features;if("number"==typeof e.length)for(var a=0,n=e.length;a<n;a++){var i=e[a];i.showInGamePanel&&(ae++,t.push("<li"+jade.attrs({"class":["bGamePanelCommon__ePremiumFeatures__eItem","bGamePanelCommon__ePremiumFeatures__eItem__mIndex"+ae]},{"class":!0})+'><i class="bGamePanelCommon__ePremiumFeatures__eItem__eIcon"></i>'+jade.escape(null==(jade.interp=i.text)?"":jade.interp)),i.isNew&&t.push('<div class="bCrossconversion__eTag bCrossconversion__eTag__mGreen">'+jade.escape(null==(jade.interp=s("Interface","NewStatus"))?"":jade.interp)+"</div>"),t.push("</li>"))}else{var n=0;for(var a in e){n++;var i=e[a];i.showInGamePanel&&(ae++,t.push("<li"+jade.attrs({"class":["bGamePanelCommon__ePremiumFeatures__eItem","bGamePanelCommon__ePremiumFeatures__eItem__mIndex"+ae]},{"class":!0})+'><i class="bGamePanelCommon__ePremiumFeatures__eItem__eIcon"></i>'+jade.escape(null==(jade.interp=i.text)?"":jade.interp)),i.isNew&&t.push('<div class="bCrossconversion__eTag bCrossconversion__eTag__mGreen">'+jade.escape(null==(jade.interp=s("Interface","NewStatus"))?"":jade.interp)+"</div>"),t.push("</li>"))}}}).call(this),t.push("</ul>")}v()}t.push("</div>")}return t.push("</div>"),t.join("")},e.bGamePanel__statusInstalledButBan=function(e){var t=[],a=e||{},s=(a.typeModifiers,a.modifiers,a.data),n=a.t,i=(a.utils,function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')}),r=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],r=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var r=r+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var r=r+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var r=r+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),o.length&&n.push(o),l=n.join("; "),a.href){var r=r+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",r]},{"class":!0,style:!0})+">"),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var r=r+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},o=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&o(s);var l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});t.push("<button"+jade.attrs({type:"command",id:e.id,"class":["bLinkButton","bLinkButton__mType_"+e.type]},{"class":!0,type:!0,id:!0})+">"+jade.escape(null==(jade.interp=e.title)?"":jade.interp)+"</button>")},i=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},r=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],r=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var r=r+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var r=r+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var r=r+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),o.length&&n.push(o),l=n.join("; "),a.href){var r=r+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",r]},{"class":!0,style:!0})+">"),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var r=r+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},p=function(){var a=(this.block,this.attributes||{},this.escaped||{},e["Game/current.newVersion"]);a&&t.push('<div class="bGamePanelProgress__eVersion">'+jade.escape(null==(jade.interp=n("Game-Panel","InstallingVersion"))?"":jade.interp)+" "+jade.escape(null==(jade.interp=a)?"":jade.interp)+"</div>")},d=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.state||e["GamePanel/state"];t.push('<div class="bGamePanelProgress__eStatus"><span id="jsGamePanel__ProgressBlock__Unpacking" class="bGamePanelProgress__eStatusUnpacking">'+jade.escape(null==(jade.interp=n("Game-Panel","Unpacking"))?"":jade.interp)+"...</span>"),"progress"==s||"pause"==s?(t.push('<span id="jsGamePanel__ProgressBlock__ProgressData" class="bGamePanelProgress__eStatusProgress">'),a.progress&&t.push('<span class="bGamePanelProgress__eStatusProgressPercent"><span id="jsGamePanel__ProgressBlock__DownloadedProgress">'+jade.escape(null==(jade.interp=~~a.progress)?"":jade.interp)+"</span>&thinsp;%,&nbsp;</span>"),t.push('<span id="jsGamePanel__ProgressBlock__Downloaded"></span> '+jade.escape(null==(jade.interp=n("Interface","ConjFrom"))?"":jade.interp)+'&nbsp;<span id="jsGamePanel__ProgressBlock__DownloadSize"></span>,&nbsp;'),"progress"==s?t.push('<span id="jsGamePanel__ProgressBlock__DownloadSpeed"></span>'):"pause"==s&&t.push(jade.escape(null==(jade.interp=n("Game-Panel","Pause"))?"":jade.interp)),t.push("</span>")):"prepare"==s&&t.push(""+jade.escape(null==(jade.interp=n("Game-Panel","Preparing"))?"":jade.interp)+"&hellip;"),t.push("</div>")},_=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.state||e["GamePanel/state"];t.push('<div class="bGamePanelProgress__eControlsArea"><div class="bGamePanelProgressControlsArea__eFirst">'),l("pause"==s?{id:"jsGamePanel__ProgressBlock__eButton_Resume",type:"resume",title:n("Game-Panel","Resume")}:{id:"jsGamePanel__ProgressBlock__eButton_Pause",type:"pause",title:n("Game-Panel","Stop")}),t.push("</div>"),a.nonCancelable||(t.push('<div class="bGamePanelProgressControlsArea__eSecond">'),l({id:"jsGamePanel__ProgressBlock__eButton_Cancel",type:"cancel",title:n("Game-Panel","Cancel")}),t.push("</div>")),t.push("</div>")},u=e[e["Game/current.statusPrefix"]],c=u.info,m=u.status,h=c.progress,b=u.readyStage;t.push("<div"+jade.attrs({"data-id":e["Game/current.serviceId"],"class":["bGamePanelCommon__eMainSection","bGamePanelCommon__eMainSection__mCompactMargin_Middle","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0,"data-id":!0})+">");var I=e["Game/current.account"];if(I&&I.errors&&I.errors[6]&&I.errors[6].extra.finishTime)var g=I.errors[6].extra;else r({type:"ban",size:"big",content:n("Game-Panel","AccountBanned")});var f=new Date(g.until_unix_ms),v=g.finishTime.date+" "+("00"+f.getHours()).slice(-2)+":"+("00"+f.getMinutes()).slice(-2);if("debt"==g.finishTime.type)var v=n("Game-Panel","AccountBanned");else if("lifeTime"==g.finishTime.type)var v=n("Game-Panel","AccountBannedLifeTime");else if("manyDays"==g.finishTime.type)var v=n("Game-Panel","AccountBannedNotSoon")+v;else if("threeDays"==g.finishTime.type)var v=n("Game-Panel","AccountBannedNotSoon")+v;else if("oneDay"==g.finishTime.type)var v=n("Game-Panel","AccountBannedVerySoon")+v;return r({type:"ban",size:"big",id:"banInfoMessage",content:v}),r({type:"subinfo",content:g.reason}),b>0&&~["progress","paused"].indexOf(m)&&(t.push('<div class="bGamePanel__eProgress bGamePanel__eProgress__mTopIndent">'),p(),d({progress:h}),_({nonCancelable:!0}),t.push("</div>")),t.push("</div>"),t.join("")},e.bGamePanel__statusInstalledButBlocked=function(e){var t=[],a=e||{},s=(a.newParams,a.typeModifiers,a.modifiers,a.data),n=a.t,i=a.utils,r=a.dateString,o=a.dataReloadSections,l=a.gameLink,p=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},d=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&p({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&p({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&p({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},_=function(e){var a=(this.block,this.attributes||{}),s=this.escaped||{},e=e||{};e.target=e.target||"_top";var n="bPseudoButtonLink bPseudoButtonLink_mType_GamePanel";if(e.isBlock)var n=n+" bPseudoButtonLink__mDisplay_Block";e.link?(t.push("<a"+jade.attrs(jade.merge({href:""+e.link,target:""+e.target,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":[n]},a),jade.merge({href:!0,target:!0,"class":!0,"data-reload-sections":!0,id:!0},s,!0))+">"),u(e,!0),t.push("</a>")):u(e,!1)},u=function(e,a){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),s=e.modifiers||"";if(e.isBlock)var s=s+" bPseudoButton__mDisplay_Block";t.push("<span"+jade.attrs({id:!a&&(e.id||!1),style:!!e.minWidth&&"min-width: "+e.minWidth+";","class":["bPseudoButton","bPseudoButton__mType_GamePanel",s]},{"class":!0,id:!0,style:!0})+'><span class="bPseudoButton__eShine"><span class="bPseudoButton__eText">'+(null==(jade.interp=e.text)?"":jade.interp)),e.hoverText&&t.push('<span class="bPseudoButton__eHoverText">'+(null==(jade.interp=e.hoverText)?"":jade.interp)+"</span>"),t.push("</span></span></span>")},p=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},c=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});m(e)};t.push("<!-- сама кнопка-->");var m=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),h(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),h(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var h=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),p({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},b=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&b(s);var I=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});t.push("<button"+jade.attrs({type:"command",id:e.id,"class":["bLinkButton","bLinkButton__mType_"+e.type]},{"class":!0,type:!0,id:!0})+">"+jade.escape(null==(jade.interp=e.title)?"":jade.interp)+"</button>")},p=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},d=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&p({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&p({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&p({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},g=function(){var a=(this.block,this.attributes||{},this.escaped||{},e["Game/current.newVersion"]);a&&t.push('<div class="bGamePanelProgress__eVersion">'+jade.escape(null==(jade.interp=n("Game-Panel","InstallingVersion"))?"":jade.interp)+" "+jade.escape(null==(jade.interp=a)?"":jade.interp)+"</div>")},f=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.state||e["GamePanel/state"];t.push('<div class="bGamePanelProgress__eStatus"><span id="jsGamePanel__ProgressBlock__Unpacking" class="bGamePanelProgress__eStatusUnpacking">'+jade.escape(null==(jade.interp=n("Game-Panel","Unpacking"))?"":jade.interp)+"...</span>"),"progress"==s||"pause"==s?(t.push('<span id="jsGamePanel__ProgressBlock__ProgressData" class="bGamePanelProgress__eStatusProgress">'),a.progress&&t.push('<span class="bGamePanelProgress__eStatusProgressPercent"><span id="jsGamePanel__ProgressBlock__DownloadedProgress">'+jade.escape(null==(jade.interp=~~a.progress)?"":jade.interp)+"</span>&thinsp;%,&nbsp;</span>"),t.push('<span id="jsGamePanel__ProgressBlock__Downloaded"></span> '+jade.escape(null==(jade.interp=n("Interface","ConjFrom"))?"":jade.interp)+'&nbsp;<span id="jsGamePanel__ProgressBlock__DownloadSize"></span>,&nbsp;'),"progress"==s?t.push('<span id="jsGamePanel__ProgressBlock__DownloadSpeed"></span>'):"pause"==s&&t.push(jade.escape(null==(jade.interp=n("Game-Panel","Pause"))?"":jade.interp)),t.push("</span>")):"prepare"==s&&t.push(""+jade.escape(null==(jade.interp=n("Game-Panel","Preparing"))?"":jade.interp)+"&hellip;"),t.push("</div>")},v=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.state||e["GamePanel/state"];t.push('<div class="bGamePanelProgress__eControlsArea"><div class="bGamePanelProgressControlsArea__eFirst">'),I("pause"==s?{id:"jsGamePanel__ProgressBlock__eButton_Resume",type:"resume",title:n("Game-Panel","Resume")}:{id:"jsGamePanel__ProgressBlock__eButton_Pause",type:"pause",title:n("Game-Panel","Stop")}),t.push("</div>"),a.nonCancelable||(t.push('<div class="bGamePanelProgressControlsArea__eSecond">'),I({id:"jsGamePanel__ProgressBlock__eButton_Cancel",type:"cancel",title:n("Game-Panel","Cancel")}),t.push("</div>")),t.push("</div>")},y=e["Game/current.account"],j=e["L4G.User/UserData.user"],U=e["Game/current.data"],P=(e["Game/current.premium"],"jsBtnPlayBlocked"),S=e["Game/current.serviceId"],C="";if(9==e["Game/current.serviceId"])var C="__Aion";var x=e["Game/current.flags"]||{},B=e["Game/current.account.subscription.endtime_unix_ms"],w=y.needSubscription,k=y.cbtTime,G=!1,T=!("playGame"in x)||x.playGame,L=e["Game/current.actionPage"],A=(!!e["Game/current.data.static_"+L],e[e["Game/current.statusPrefix"]]),M=A.info,H=A.status,E=M.progress,F=A.readyStage,D=F>0&&~["progress","paused"].indexOf(H);if(k&&w){var G=!0;if(1!=x.betaTest)var R=new Date(i.toTimestamp(x.betaTest))}if(x.playGame&&1!=x.playGame){var N=i.toTimestamp(x.playGame);if(N>i.toTimestamp())var T=!1,W=new Date(N)}if(t.push("<div"+jade.attrs({"data-id":e["Game/current.serviceId"],"class":["bGamePanelCommon__eMainSection","bGamePanelCommon__eMainSection__mCompactMargin_Middle","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0,"data-id":!0})+">"),T)d({type:"warning",content:n("Game-Panel","ToPlayTheGameYouMust")}),i.hasError(y,1)&&(t.push('<div style="margin-bottom: 10px; padding-left: 20px;">'),_({link:"?popupWidget=SetContactWidget&contactType=3",dataReloadSections:'SetContactWidget: {"target":"#OverlayContent","ns":"popup"}',minWidth:"160px",text:n("Game-Panel","AddMobile")}),t.push("</div>")),i.hasError(j,2)&&(t.push('<div style="margin-bottom: 10px; padding-left: 20px;">'),_({link:"?popupWidget=SetCountryWidget",dataReloadSections:'SetCountryWidget: {"target":"#OverlayContent","ns":"popup"}',minWidth:"160px",text:n("Game-Panel","SetCountry")}),t.push("</div>")),i.hasError(j,4)&&(t.push('<div style="margin-bottom: 10px; padding-left: 20px;">'),_({link:"?popupWidget=SetContactWidget&contactType=1",dataReloadSections:'SetContactWidget: {"target":"#OverlayContent","ns":"popup"}',minWidth:"160px",text:n("Game-Panel","ConfirmEmail")}),t.push("</div>")),(i.hasError(U,5)||G)&&(t.push('<div style="margin-bottom: 10px; padding-left: 20px;">'),_({link:"?popupWidget=CustomPopupWidget&popupName=code-activation",dataReloadSections:'CustomPopupWidget: {"target":"#OverlayContent","ns":"popup"}',minWidth:"160px",text:n("Game-Panel","EnterActivationCode"),id:"BetaTesterPinCodeButton"}),t.push("</div>")),!i.hasError(y,7)&&!w||k||(t.push('<div style="margin-bottom: 10px; padding-left: 20px;">'),_({link:"?popupWidget=PremiumUpgradeWidget",dataReloadSections:'PremiumUpgradeWidget: {"target":"#OverlayContent","ns":"popup"}',minWidth:"160px",text:n("Game-Panel",(x.needSubscription?"BuySubscription":"ImproveAccount")+C)}),t.push("</div>")),i.hasError(U,12)&&(t.push('<div style="margin-bottom: 10px; padding-left: 20px;padding-right: 20px;">'),_({id:"go-to-uber-security",link:"/settings/security/",dataReloadSections:o,minWidth:"160px",text:n("Game-Panel","TurnOnUbersecurity")}),t.push("</div>")),i.hasError(U,13)&&(t.push('<div style="margin-bottom: 10px; padding-left: 20px;padding-right: 20px;">'),_({id:"go-install-extension",dataReloadSections:o,minWidth:"160px",text:n("Game-Panel","InstallExtension")}),t.push("</div>")),t.push('<div style="text-align: center; margin-top: 20px; margin-bottom: 10px;">'),c({id:P,disabled:!0,width:"full",title:n("Interface","PlayButton")}),t.push("</div>"),w&&B&&d({type:"error",id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpired__Subscription"),hiding:!0}),w&&k&&d({content:n("Game-Panel","BetaTestEndsAfter",{date:R.getDate()+"&nbsp;"+n("Interface","MonthIndex"+R.getMonth())}),type:"promo"}),i.hasError(U,11)&&(d({type:"error",content:n("Game-Panel","BlockedRegion")}),l=e["GameData/services."+S+".errors.11.extra.recommend_url"],l&&d({type:"subinfo",content:n("Game-Panel","BlockedRegionLink",{link:""+l})})),D&&(t.push('<div class="bGamePanel__eProgress bGamePanel__eProgress__mTopIndent">'),g(),f({progress:E}),v({nonCancelable:!0}),t.push("</div>"));else{if(c({id:P,disabled:!0,width:"full",title:n("Interface","PlayButton")}),W){r=W.getDate()+"&nbsp;"+n("Interface","MonthIndex"+W.getMonth());var z=n("Game-Panel","AvailableForPlayAfter."+S,{date:r}),z=z||n("Game-Panel","AvailableForPlayAfter",{date:r})}else var z=n("Game-Panel","NotAvailableForPlay."+S),z=z||n("Game-Panel","NotAvailableForPlay");d({content:z,type:"promo"}),D&&(t.push('<div class="bGamePanel__eProgress bGamePanel__eProgress__mTopIndent">'),g(),f({progress:E}),v({nonCancelable:!0}),t.push("</div>"))}return t.push("</div>"),t.join("")},e.bGamePanel__statusInstalledButBlockedCountry=function(e){var t=[],a=e||{},s=(a.newParams,a.typeModifiers,a.modifiers,a.data),n=a.t,i=(a.utils,function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')}),r=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});o(e)};t.push("<!-- сама кнопка-->");var o=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),l(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),l(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),i({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({
"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},i=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},p=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],r=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var r=r+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var r=r+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var r=r+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),o.length&&n.push(o),l=n.join("; "),a.href){var r=r+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",r]},{"class":!0,style:!0})+">"),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var r=r+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},d=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&d(s);var _=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});t.push("<button"+jade.attrs({type:"command",id:e.id,"class":["bLinkButton","bLinkButton__mType_"+e.type]},{"class":!0,type:!0,id:!0})+">"+jade.escape(null==(jade.interp=e.title)?"":jade.interp)+"</button>")},i=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},p=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],r=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var r=r+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var r=r+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var r=r+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),o.length&&n.push(o),l=n.join("; "),a.href){var r=r+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",r]},{"class":!0,style:!0})+">"),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var r=r+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},u=function(){var a=(this.block,this.attributes||{},this.escaped||{},e["Game/current.newVersion"]);a&&t.push('<div class="bGamePanelProgress__eVersion">'+jade.escape(null==(jade.interp=n("Game-Panel","InstallingVersion"))?"":jade.interp)+" "+jade.escape(null==(jade.interp=a)?"":jade.interp)+"</div>")},c=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.state||e["GamePanel/state"];t.push('<div class="bGamePanelProgress__eStatus"><span id="jsGamePanel__ProgressBlock__Unpacking" class="bGamePanelProgress__eStatusUnpacking">'+jade.escape(null==(jade.interp=n("Game-Panel","Unpacking"))?"":jade.interp)+"...</span>"),"progress"==s||"pause"==s?(t.push('<span id="jsGamePanel__ProgressBlock__ProgressData" class="bGamePanelProgress__eStatusProgress">'),a.progress&&t.push('<span class="bGamePanelProgress__eStatusProgressPercent"><span id="jsGamePanel__ProgressBlock__DownloadedProgress">'+jade.escape(null==(jade.interp=~~a.progress)?"":jade.interp)+"</span>&thinsp;%,&nbsp;</span>"),t.push('<span id="jsGamePanel__ProgressBlock__Downloaded"></span> '+jade.escape(null==(jade.interp=n("Interface","ConjFrom"))?"":jade.interp)+'&nbsp;<span id="jsGamePanel__ProgressBlock__DownloadSize"></span>,&nbsp;'),"progress"==s?t.push('<span id="jsGamePanel__ProgressBlock__DownloadSpeed"></span>'):"pause"==s&&t.push(jade.escape(null==(jade.interp=n("Game-Panel","Pause"))?"":jade.interp)),t.push("</span>")):"prepare"==s&&t.push(""+jade.escape(null==(jade.interp=n("Game-Panel","Preparing"))?"":jade.interp)+"&hellip;"),t.push("</div>")},m=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.state||e["GamePanel/state"];t.push('<div class="bGamePanelProgress__eControlsArea"><div class="bGamePanelProgressControlsArea__eFirst">'),_("pause"==s?{id:"jsGamePanel__ProgressBlock__eButton_Resume",type:"resume",title:n("Game-Panel","Resume")}:{id:"jsGamePanel__ProgressBlock__eButton_Pause",type:"pause",title:n("Game-Panel","Stop")}),t.push("</div>"),a.nonCancelable||(t.push('<div class="bGamePanelProgressControlsArea__eSecond">'),_({id:"jsGamePanel__ProgressBlock__eButton_Cancel",type:"cancel",title:n("Game-Panel","Cancel")}),t.push("</div>")),t.push("</div>")},h=e["Game/current.serviceId"],b=e["GameData/services."+h+".errors.11.extra.recommend_url"],I="jsBtnPlayBlockedCountry",g=e[e["Game/current.statusPrefix"]],f=g.info,v=g.status,y=f.progress,j=g.readyStage;return t.push("<div"+jade.attrs({"data-id":h,"class":["bGamePanelCommon__eMainSection"]},{"data-id":!0})+'><div style="opacity:0.15; padding: 5px 0 15px">'),r({id:I,disabled:!0,width:"full",title:n("Interface","PlayButton")}),t.push("</div>"),p({type:"error",content:n("Game-Panel","BlockedRegion")}),b&&p({type:"subinfo",content:n("Game-Panel","BlockedRegionLink",{link:""+b})}),j>0&&~["progress","paused"].indexOf(v)&&(t.push('<div class="bGamePanel__eProgress bGamePanel__eProgress__mTopIndent">'),u(),c({progress:y}),m({nonCancelable:!0}),t.push("</div>")),t.push("</div>"),t.join("")},e.bGamePanel__statusInstalledButClosed=function(e){var t=[],a=e||{},s=(a.newParams,a.t),n=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},i=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),i=[],r=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var r=r+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var r=r+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var r=r+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&i.push(p),o.length&&i.push(o),l=i.join("; "),a.href){var r=r+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",r]},{"class":!0,style:!0})+">"),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var r=r+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},n=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},r=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});o(e)};t.push("<!-- сама кнопка-->");var o=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),l(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),l(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),n({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},p=e["Game/current.serviceId"];return t.push("<div"+jade.attrs({"data-id":e["Game/current.serviceId"],"class":["bGamePanelCommon__eMainSection","bGamePanelCommon__eMainSection__mCompactMargin_Middle","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0,"data-id":!0})+">"),r({title:s("Interface","PlayButton"),width:"full",disabled:!0}),t.push('<div class="bGamePanelCommon__eTop">'),i.call({block:function(){i({content:s("Interface","RestrictionReasons_"+p),type:"subinfo"})}},{content:s("Interface","CantPlayGame"),type:"error"}),t.push("</div></div>"),t.join("")},e.bGamePanel__statusInstalledButGuest=function(e){var t=[],a=e||{},s=a.t,n=a.utils,i=(a.modifiers,a.typeModifiers,a.newParams,a.data),r=a.plural,o=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),n=a.state||e["GamePanel/state"];t.push('<div class="bGamePanelProgress__eControlsArea"><div class="bGamePanelProgressControlsArea__eFirst">'),d("pause"==n?{id:"jsGamePanel__ProgressBlock__eButton_Resume",type:"resume",title:s("Game-Panel","Resume")}:{id:"jsGamePanel__ProgressBlock__eButton_Pause",type:"pause",title:s("Game-Panel","Stop")}),t.push("</div>"),a.nonCancelable||(t.push('<div class="bGamePanelProgressControlsArea__eSecond">'),d({id:"jsGamePanel__ProgressBlock__eButton_Cancel",type:"cancel",title:s("Game-Panel","Cancel")}),t.push("</div>")),t.push("</div>")},l=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),n=a.state||e["GamePanel/state"];t.push('<div class="bGamePanelProgress__eStatus"><span id="jsGamePanel__ProgressBlock__Unpacking" class="bGamePanelProgress__eStatusUnpacking">'+jade.escape(null==(jade.interp=s("Game-Panel","Unpacking"))?"":jade.interp)+"...</span>"),"progress"==n||"pause"==n?(t.push('<span id="jsGamePanel__ProgressBlock__ProgressData" class="bGamePanelProgress__eStatusProgress">'),a.progress&&t.push('<span class="bGamePanelProgress__eStatusProgressPercent"><span id="jsGamePanel__ProgressBlock__DownloadedProgress">'+jade.escape(null==(jade.interp=~~a.progress)?"":jade.interp)+"</span>&thinsp;%,&nbsp;</span>"),t.push('<span id="jsGamePanel__ProgressBlock__Downloaded"></span> '+jade.escape(null==(jade.interp=s("Interface","ConjFrom"))?"":jade.interp)+'&nbsp;<span id="jsGamePanel__ProgressBlock__DownloadSize"></span>,&nbsp;'),"progress"==n?t.push('<span id="jsGamePanel__ProgressBlock__DownloadSpeed"></span>'):"pause"==n&&t.push(jade.escape(null==(jade.interp=s("Game-Panel","Pause"))?"":jade.interp)),t.push("</span>")):"prepare"==n&&t.push(""+jade.escape(null==(jade.interp=s("Game-Panel","Preparing"))?"":jade.interp)+"&hellip;"),t.push("</div>")},p=function(){var a=(this.block,this.attributes||{},this.escaped||{},e["Game/current.newVersion"]);a&&t.push('<div class="bGamePanelProgress__eVersion">'+jade.escape(null==(jade.interp=s("Game-Panel","InstallingVersion"))?"":jade.interp)+" "+jade.escape(null==(jade.interp=a)?"":jade.interp)+"</div>")},d=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});t.push("<button"+jade.attrs({type:"command",id:e.id,"class":["bLinkButton","bLinkButton__mType_"+e.type]},{"class":!0,type:!0,id:!0})+">"+jade.escape(null==(jade.interp=e.title)?"":jade.interp)+"</button>")},_=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),u({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},u=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")},c=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",p="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var p=p+"True";else var p=p+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",p]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&I({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&I({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&I({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},m=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),I({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},h=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),m(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),m(e),t.push("</button>"))},b=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});h(e)},I=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},I=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},c=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",p="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var p=p+"True";else var p=p+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",p]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&I({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&I({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&I({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},u=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};i&&u(i);var _=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),u({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},I=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},b=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});h(e)};t.push("<!-- сама кнопка-->");var h=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),m(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),m(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var m=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),I({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},g=function(){var a=(this.block,this.attributes||{},this.escaped||{},e["L4G.Currency"]);t.push('<span class="bRubleSymbol">'),"RUB"==a?t.push(null==(jade.interp=s("Interface","RoubleSymbol"))?"":jade.interp):"BRL"==a?t.push(jade.escape(null==(jade.interp="R$")?"":jade.interp)):t.push(jade.escape(null==(jade.interp="&euro;")?"":jade.interp)),t.push("</span>")};i&&g();var f=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),n=e["Game/current.flags"]||{},i=i||e["Game/current.account"],r=e["Game/current.account.status"],o=e["Layout/premiumIsRenewal."+e["Game/current.serviceId"]],l=e["Game/current.premium"],p=e["GameData/services."+e["Game/current.serviceId"]+".premium_enabled"],d=l.premiumPage,u="bPremiumActions",c="ImproveAccount",m=!1,h="pseudo_small",I=!1;if("undefined"!=typeof r)if(3==r){if(n.needSubscription)var f="common"}else if(2==r)var f="premium";else if(1==r)if(n.needSubscription)var f="premium";else var f="common";else var f="basic";if("premium"==f)var m=!0;if(m){var c="ExtendAccountImprovement";if(o)var c="ExtendAccountImprovementAgain"}else var h="small",I=!0;var v="";if(9==e["Game/current.serviceId"])var v="__Aion";if(n.needSubscription)var v="__Subscription";a.modifiers&&(u+=" "+a.modifiers),t.push("<div"+jade.attrs({id:a.id||!1,"class":[u]},{"class":!0,id:!0})+"><div"+jade.attrs({"class":["bPremiumActions__eActionControl",p&&m?"bPremiumActions__eActionControl__mRenewal":""]},{"class":!0})+">"),p?(b({id:"jsBtnBuyPremiumInGamePanel",title:s("Game-Panel",c+v),type:h,shadowed:I,className:"bUIButton__eFrame__mGamePanelPremium",link:"?popupWidget=PremiumUpgradeWidget",dataReloadSections:'PremiumUpgradeWidget: {"target":"#OverlayContent","ns":"popup"}'}),!m&&l.premiumMinPrice&&(t.push("<div"+jade.attrs({id:"gamepanel-premium-min-price","class":["bPremiumActions__eActionControl__eSubInfo",l.isPromoPrice?"bPremiumActions__eActionControl__eSubInfo__mGreen":""]},{"class":!0})+">"+(null==(jade.interp=s("Game-Panel",l.isPromoPrice?"MinPremiumPromoPriceFrom":"MinPremiumPriceFrom"))?"":jade.interp)+"&nbsp;"+jade.escape(null==(jade.interp=l.premiumMinPrice)?"":jade.interp)+"&nbsp;"),g(),t.push("</div>"))):t.push('<div class="bPremiumActions__ePremiumPageLink">'+(null==(jade.interp=l.gamePanelIngamePremium)?"":jade.interp)+"</div>"),
t.push("</div>"),p&&m?(t.push('<div class="bPremiumActions__eSubinfo"><span class="bPremiumActions__eSubinfoContent">'+(null==(jade.interp=s("Game-Panel","AutoImprovement"))?"":jade.interp)+'<span class="bPseudoLink bPremiumActions__eSubinfoPseudolink"><span'+jade.attrs({id:"bPremiumActions__eAutoImprovement","data-improvement-state":""+i.subscription.autopay_enabled,"data-improvement-url":"/subscription/setAutopay?serviceAccountId="+i.service_account_id,"class":["bPremiumActions__eSubinfoPseudolinkText"]},{"data-improvement-state":!0,"data-improvement-url":!0})+">"+(null==(jade.interp=s("Game-Panel",i.subscription.autopay_enabled?"AutoImprovementOn":"AutoImprovementOff"))?"":jade.interp)+"</span></span>"),_({id:"",type:"Grey",modifiers:"bPremiumActions__eHelpIcon",hintContent:s("Game-Panel","AutoImprovementHelp"+v)}),t.push("</span></div>")):d&&l.gamePanelPremiumPage&&t.push("<a"+jade.attrs({id:"gamepanel-premium-page-link",href:l.premiumPageLink,"class":["bPremiumActions__ePremiumPageLink"]},{href:!0})+">"+jade.escape(null==(jade.interp=l.gamePanelPremiumPage)?"":jade.interp)+"</a>"),t.push("</div>")},v=e["Game/current.account"],y=e["Game/current.account.status"],j=e["Game/current.account.subscription.has_active"],U=e["Game/current.account.subscription.endtime_unix_ms"],P=(e["Game/current.data"],e["Game/current.premium"]),S=e["Game/current.disableStatus"],C="play"==e["Game/current.actionPage"],x=+new Date,B=x-U<2592e5,w=9==e["Game/current.serviceId"],k=e["Layout/premiumJustBought."+e["Game/current.serviceId"]],G=e["Game/current.flags"]||{},T=!(!G.betaTest||n.toTimestamp(G.betaTest)<n.toTimestamp());if("undefined"!=typeof v){if(3==y){if(G.needSubscription)var L="common"}else if(2==y)var L="premium";else if(1==y)if(G.needSubscription)var L="premium";else var L="common";else var L="basic";if(parseInt(v.service_account_id,10)>0);}if(T&&33==e["Game/current.serviceId"])var L="common";var A="",M=!1,H=P.actionEnabled,E=P.trialLink;if(w)var M=!0,A="__Aion";if(G.needSubscription)var A="__Subscription";var F=e["Layout/finished."+e["Game/current.serviceId"]]||!1;if(t.push("<div"+jade.attrs({"data-id":e["Game/current.serviceId"],"class":["bGamePanelCommon__eMainSection","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0,"data-id":!0})+">"),!S||!S.disabled){var D=e["Game/current.statusPrefix"],R=e[D],N=R.status,W=R.readyStage;t.push('<form action="./?popupWidget=AuthPopupWidget" method="get" data-reload-sections="AuthPopupWidget: {&quot;target&quot;:&quot;#OverlayContent&quot;,&quot;ns&quot;:&quot;popup&quot;}"><input type="hidden" name="popupWidget" value="AuthPopupWidget"/>'),b({title:s("Interface","PlayButton"),width:"full",className:"jsBtnLogin",id:"bGamePanel__eBtnLogin_jsId"}),t.push("</form>"),W>0&&~["progress","paused"].indexOf(N)&&(t.push('<div class="bGamePanel__eProgress bGamePanel__eProgress__mTopIndent">'),p(),l({progress:e[D+".info.progress"]}),o({nonCancelable:!0}),t.push("</div>"))}if(C)if(S&&S.disabled)c({type:S.type||"warning",content:S.text,hiding:!0});else{if(t.push('<div class="bGamePanelCommon__eTop">'),"install"!==F)if("common"===L&&M&&!U){var z=A;w&&(z+="__50",H&&(z+="_ver2")),c({type:"success",href:E,target:"_blank",id:"trialDurationInfo",content:s("Game-Panel","AccountIsTrial"+z),hiding:!0})}else if("common"===L&&v&&"undefined"!=typeof v.subscription&&j===!1&&U&&(B||M))c(w&&k?{type:"success",id:"premiumDurationInfo",content:s("Game-Panel","ImprovementJustBought"+A),hiding:!0}:{type:"error",id:"premiumDurationInfo",content:s("Game-Panel","ImprovementExpired"+A),hiding:!0});else if("premium"===L&&v&&v.subscription&&v.subscription.has_active){var O=v.subscription.finishTime,q=e["Layout/premiumIsRenewal."+e["Game/current.serviceId"]],Y=e["Layout/premiumRenewalDays."+e["Game/current.serviceId"]];if(k){var V="success",J=Math.floor(Y/30),Q=Y%30;if(J){var $=J+" "+r(J,"Interface","MonthPlural");Q&&($+=" "+s("Game-Panel","ImprovementMonthAndDay")+" "+Q+" "+r(Q,"Interface","DaysPlural"))}else var $=Q+" "+r(Q,"Interface","DaysPlural");c(w?q?{type:V,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementRenewal"+A),hiding:!0}:{type:V,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementJustBought"+A),hiding:!0}:q?{type:V,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementRenewal"+A)+$,hiding:!0}:{type:V,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementJustBought"+A)+$,hiding:!0})}else if("manyDays"==O.type||"lifeTime"==O.type){var V="confirmed";c({type:V,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementExpiresNotSoon"+A)+r(O.daysLeft,"Interface","TimeLeftPlural")+" "+O.daysLeft+" "+r(O.daysLeft,"Interface","DaysPlural"),hiding:!0})}else if("lifeTime"==O.type){var V="confirmed";c({type:V,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementExpiresNotSoon"+A)+r(O.daysLeft,"Interface","TimeLeftPlural")+" "+O.daysLeft+" "+r(O.daysLeft,"Interface","DaysPlural"),hiding:!0})}else{var V="warning";"threeDays"==O.type?c({type:V,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementExpiresSoon"+A)+r(O.daysLeft,"Interface","TimeLeftPlural")+" "+s("Game-Panel","ImprovementExpiresSoonSummary"+A)+" "+O.daysLeft+" "+r(O.daysLeft,"Interface","DaysPlural"),hiding:!0}):"oneDay"==O.type&&c({type:V,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementExpiresVerySoon"+A)+O.timeLeft+" "+O.date,hiding:!0})}}t.push("</div>")}if(C&&(!S||!S.disabled)){if(t.push("<div"+jade.attrs({"class":["bGamePanelCommon__eBottom","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0})+">"),"install"!==F){if(!j&&P&&!B&&P.features&&P.features.length){P.gamePanelRemoveLimitations&&t.push('<h1 class="bGamePanelCommon__eTitleName"> '+jade.escape(null==(jade.interp=P.gamePanelRemoveLimitations)?"":jade.interp)+"</h1>"),t.push('<ul class="bGamePanelCommon__ePremiumFeatures">');var K=0;(function(){var e=P.features;if("number"==typeof e.length)for(var a=0,n=e.length;a<n;a++){var i=e[a];i.showInGamePanel&&(K++,t.push("<li"+jade.attrs({"class":["bGamePanelCommon__ePremiumFeatures__eItem","bGamePanelCommon__ePremiumFeatures__eItem__mIndex"+K]},{"class":!0})+'><i class="bGamePanelCommon__ePremiumFeatures__eItem__eIcon"></i>'+jade.escape(null==(jade.interp=i.text)?"":jade.interp)),i.isNew&&t.push('<div class="bCrossconversion__eTag bCrossconversion__eTag__mGreen">'+jade.escape(null==(jade.interp=s("Interface","NewStatus"))?"":jade.interp)+"</div>"),t.push("</li>"))}else{var n=0;for(var a in e){n++;var i=e[a];i.showInGamePanel&&(K++,t.push("<li"+jade.attrs({"class":["bGamePanelCommon__ePremiumFeatures__eItem","bGamePanelCommon__ePremiumFeatures__eItem__mIndex"+K]},{"class":!0})+'><i class="bGamePanelCommon__ePremiumFeatures__eItem__eIcon"></i>'+jade.escape(null==(jade.interp=i.text)?"":jade.interp)),i.isNew&&t.push('<div class="bCrossconversion__eTag bCrossconversion__eTag__mGreen">'+jade.escape(null==(jade.interp=s("Interface","NewStatus"))?"":jade.interp)+"</div>"),t.push("</li>"))}}}).call(this),t.push("</ul>")}f()}t.push("</div>")}return t.push("</div>"),t.join("")},e.bGamePanel__statusInstalledButMaintenance=function(e){var t=[],a=e||{},s=(a.typeModifiers,a.modifiers,a.data),n=a.t,i=(a.utils,function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')}),r=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],r=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var r=r+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var r=r+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var r=r+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),o.length&&n.push(o),l=n.join("; "),a.href){var r=r+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",r]},{"class":!0,style:!0})+">"),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var r=r+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},o=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&o(s);var l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});t.push("<button"+jade.attrs({type:"command",id:e.id,"class":["bLinkButton","bLinkButton__mType_"+e.type]},{"class":!0,type:!0,id:!0})+">"+jade.escape(null==(jade.interp=e.title)?"":jade.interp)+"</button>")},i=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},r=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],r=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var r=r+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var r=r+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var r=r+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),o.length&&n.push(o),l=n.join("; "),a.href){var r=r+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",r]},{"class":!0,style:!0})+">"),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var r=r+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},p=function(){var a=(this.block,this.attributes||{},this.escaped||{},e["Game/current.newVersion"]);a&&t.push('<div class="bGamePanelProgress__eVersion">'+jade.escape(null==(jade.interp=n("Game-Panel","InstallingVersion"))?"":jade.interp)+" "+jade.escape(null==(jade.interp=a)?"":jade.interp)+"</div>")},d=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.state||e["GamePanel/state"];t.push('<div class="bGamePanelProgress__eStatus"><span id="jsGamePanel__ProgressBlock__Unpacking" class="bGamePanelProgress__eStatusUnpacking">'+jade.escape(null==(jade.interp=n("Game-Panel","Unpacking"))?"":jade.interp)+"...</span>"),"progress"==s||"pause"==s?(t.push('<span id="jsGamePanel__ProgressBlock__ProgressData" class="bGamePanelProgress__eStatusProgress">'),a.progress&&t.push('<span class="bGamePanelProgress__eStatusProgressPercent"><span id="jsGamePanel__ProgressBlock__DownloadedProgress">'+jade.escape(null==(jade.interp=~~a.progress)?"":jade.interp)+"</span>&thinsp;%,&nbsp;</span>"),t.push('<span id="jsGamePanel__ProgressBlock__Downloaded"></span> '+jade.escape(null==(jade.interp=n("Interface","ConjFrom"))?"":jade.interp)+'&nbsp;<span id="jsGamePanel__ProgressBlock__DownloadSize"></span>,&nbsp;'),"progress"==s?t.push('<span id="jsGamePanel__ProgressBlock__DownloadSpeed"></span>'):"pause"==s&&t.push(jade.escape(null==(jade.interp=n("Game-Panel","Pause"))?"":jade.interp)),t.push("</span>")):"prepare"==s&&t.push(""+jade.escape(null==(jade.interp=n("Game-Panel","Preparing"))?"":jade.interp)+"&hellip;"),t.push("</div>")},_=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.state||e["GamePanel/state"];t.push('<div class="bGamePanelProgress__eControlsArea"><div class="bGamePanelProgressControlsArea__eFirst">'),l("pause"==s?{id:"jsGamePanel__ProgressBlock__eButton_Resume",type:"resume",title:n("Game-Panel","Resume")}:{id:"jsGamePanel__ProgressBlock__eButton_Pause",type:"pause",title:n("Game-Panel","Stop")}),t.push("</div>"),a.nonCancelable||(t.push('<div class="bGamePanelProgressControlsArea__eSecond">'),l({id:"jsGamePanel__ProgressBlock__eButton_Cancel",type:"cancel",title:n("Game-Panel","Cancel")}),t.push("</div>")),t.push("</div>")},u=e["Game/current.data"]||e["GameData/services."+e["Game/current.serviceId"]],c=u&&u.promo_game||[],m=e[e["Game/current.statusPrefix"]],h=m.info,b=h.progress,I=m.readyStage,g=e[e["Game/current.statusPrefix"]+".status"];return t.push("<div"+jade.attrs({"data-id":e["Game/current.serviceId"],"class":["bGamePanelCommon__eMainSection","bGamePanelCommon__eMainSection__mCompactMargin_Middle","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0,"data-id":!0})+">"),r({type:"maintenance",size:"big",content:n("Game-Panel","Maintenance"),id:"jsBigMaintenanceMessage"}),I>0&&~["progress","paused"].indexOf(g)&&(t.push("<div"+jade.attrs({"class":["bGamePanel__eProgress","bGamePanel__eProgress__mTopIndent",c.length?"bGamePanel__eProgress__mNegativeBottomIndent":""]},{"class":!0})+">"),p(),d({progress:b}),_({nonCancelable:!0}),t.push("</div>")),c.length&&(t.push('<div class="bGamePanel__ePromoGames"><div class="bGamePanel__ePromoGames__eTitle">'+(null==(jade.interp=n("Game-Panel","MaintenancePromoTitle"))?"":jade.interp)+"</div>"),function(){var e=c;if("number"==typeof e.length)for(var a=0,s=e.length;a<s;a++){var i=e[a];t.push('<div class="bGamePanel__ePromoGames__eItem"><a'+jade.attrs({href:"/"+i.key,style:"background-image:url(/c/gameicons/16/"+i.key+".png)","class":["bGamePanel__eSmallGameIcon","bGamePanel__eSmallGameIcon__mGame_"+i.key]},{"class":!0,href:!0,style:!0})+">"+(null==(jade.interp=i.name)?"":jade.interp)+"</a>"),5===i.type&&t.push('<span class="bGamePanel__ePromoGames__eDesc"> '+(null==(jade.interp=" ("+n("Game-Panel","MaintenancePromoTypeMobile")+")")?"":jade.interp)+"</span>"),t.push("</div>")}else{var s=0;for(var a in e){s++;var i=e[a];t.push('<div class="bGamePanel__ePromoGames__eItem"><a'+jade.attrs({href:"/"+i.key,style:"background-image:url(/c/gameicons/16/"+i.key+".png)","class":["bGamePanel__eSmallGameIcon","bGamePanel__eSmallGameIcon__mGame_"+i.key]},{"class":!0,href:!0,style:!0})+">"+(null==(jade.interp=i.name)?"":jade.interp)+"</a>"),5===i.type&&t.push('<span class="bGamePanel__ePromoGames__eDesc"> '+(null==(jade.interp=" ("+n("Game-Panel","MaintenancePromoTypeMobile")+")")?"":jade.interp)+"</span>"),t.push("</div>")}}}.call(this),t.push("</div>")),t.push("</div>"),t.join("")},e.bGamePanel__statusNotInstalled=function(e){var t=[],a=e||{},s=a.t,n=a.utils,i=(a.modifiers,a.typeModifiers,a.newParams,a.data),r=a.plural,o=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),i=a.serviceId||e["Game/current.serviceId"],r=a.stageSizes||e["Game/current.stageSizes"],o=a.hideStageSize||e["Game/current.lightClientOnlyForNewcomers"],p=e[e["Game/current.statusPrefix"]]||{},_=p.info||{stageSizes:[]},u=p.readyStage,c=u>-1,m=c&&_.stageSizes[0]||r&&r[0]||0;if(!o&&m){if(t.push('<div class="bGamePanel__eStageInfo">'),d({content:s("Game-Panel","LiteClientFirstStageSize",{size:n.getSizeBinaryLocalized(m)}),type:"description-highlight"}),!a.hideHelp){var h=s("Game-Panel","LiteClientDescription."+i),h=h||s("Game-Panel","LiteClientDescription");l({type:"YellowBig",hintContent:h,hintModifiers:"bUIHint__ePopup__mRoundCorners bUIHint__ePopup__mSmall"})}t.push("</div>")}},l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),p({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},p=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")},d=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",p="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var p=p+"True";else var p=p+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",p]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&m({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&m({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&m({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},_=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),m({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},u=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),_(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),_(e),t.push("</button>"))},c=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});u(e)},m=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},m=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},d=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",p="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var p=p+"True";else var p=p+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",p]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&m({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&m({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&m({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},p=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};i&&p(i);var l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),p({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},m=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},c=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});u(e)};t.push("<!-- сама кнопка-->");var u=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),_(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),_(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var _=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),m({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},h=function(){var a=(this.block,this.attributes||{},this.escaped||{},e["L4G.Currency"]);t.push('<span class="bRubleSymbol">'),"RUB"==a?t.push(null==(jade.interp=s("Interface","RoubleSymbol"))?"":jade.interp):"BRL"==a?t.push(jade.escape(null==(jade.interp="R$")?"":jade.interp)):t.push(jade.escape(null==(jade.interp="&euro;")?"":jade.interp)),t.push("</span>")};i&&h();var b=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),n=e["Game/current.flags"]||{},i=i||e["Game/current.account"],r=e["Game/current.account.status"],o=e["Layout/premiumIsRenewal."+e["Game/current.serviceId"]],p=e["Game/current.premium"],d=e["GameData/services."+e["Game/current.serviceId"]+".premium_enabled"],_=p.premiumPage,u="bPremiumActions",m="ImproveAccount",b=!1,I="pseudo_small",g=!1;if("undefined"!=typeof r)if(3==r){if(n.needSubscription)var f="common"}else if(2==r)var f="premium";else if(1==r)if(n.needSubscription)var f="premium";else var f="common";else var f="basic";if("premium"==f)var b=!0;if(b){var m="ExtendAccountImprovement";if(o)var m="ExtendAccountImprovementAgain"}else var I="small",g=!0;var v="";if(9==e["Game/current.serviceId"])var v="__Aion";if(n.needSubscription)var v="__Subscription";a.modifiers&&(u+=" "+a.modifiers),t.push("<div"+jade.attrs({id:a.id||!1,
"class":[u]},{"class":!0,id:!0})+"><div"+jade.attrs({"class":["bPremiumActions__eActionControl",d&&b?"bPremiumActions__eActionControl__mRenewal":""]},{"class":!0})+">"),d?(c({id:"jsBtnBuyPremiumInGamePanel",title:s("Game-Panel",m+v),type:I,shadowed:g,className:"bUIButton__eFrame__mGamePanelPremium",link:"?popupWidget=PremiumUpgradeWidget",dataReloadSections:'PremiumUpgradeWidget: {"target":"#OverlayContent","ns":"popup"}'}),!b&&p.premiumMinPrice&&(t.push("<div"+jade.attrs({id:"gamepanel-premium-min-price","class":["bPremiumActions__eActionControl__eSubInfo",p.isPromoPrice?"bPremiumActions__eActionControl__eSubInfo__mGreen":""]},{"class":!0})+">"+(null==(jade.interp=s("Game-Panel",p.isPromoPrice?"MinPremiumPromoPriceFrom":"MinPremiumPriceFrom"))?"":jade.interp)+"&nbsp;"+jade.escape(null==(jade.interp=p.premiumMinPrice)?"":jade.interp)+"&nbsp;"),h(),t.push("</div>"))):t.push('<div class="bPremiumActions__ePremiumPageLink">'+(null==(jade.interp=p.gamePanelIngamePremium)?"":jade.interp)+"</div>"),t.push("</div>"),d&&b?(t.push('<div class="bPremiumActions__eSubinfo"><span class="bPremiumActions__eSubinfoContent">'+(null==(jade.interp=s("Game-Panel","AutoImprovement"))?"":jade.interp)+'<span class="bPseudoLink bPremiumActions__eSubinfoPseudolink"><span'+jade.attrs({id:"bPremiumActions__eAutoImprovement","data-improvement-state":""+i.subscription.autopay_enabled,"data-improvement-url":"/subscription/setAutopay?serviceAccountId="+i.service_account_id,"class":["bPremiumActions__eSubinfoPseudolinkText"]},{"data-improvement-state":!0,"data-improvement-url":!0})+">"+(null==(jade.interp=s("Game-Panel",i.subscription.autopay_enabled?"AutoImprovementOn":"AutoImprovementOff"))?"":jade.interp)+"</span></span>"),l({id:"",type:"Grey",modifiers:"bPremiumActions__eHelpIcon",hintContent:s("Game-Panel","AutoImprovementHelp"+v)}),t.push("</span></div>")):_&&p.gamePanelPremiumPage&&t.push("<a"+jade.attrs({id:"gamepanel-premium-page-link",href:p.premiumPageLink,"class":["bPremiumActions__ePremiumPageLink"]},{href:!0})+">"+jade.escape(null==(jade.interp=p.gamePanelPremiumPage)?"":jade.interp)+"</a>"),t.push("</div>")},I=e["Game/current.account"],g=e["Game/current.account.status"],f=e["Game/current.account.subscription.has_active"],v=e["Game/current.account.subscription.endtime_unix_ms"],y=(e["Game/current.data"],e["Game/current.premium"]),j=e["Game/current.disableStatus"],U="play"==e["Game/current.actionPage"],P=+new Date,S=P-v<2592e5,C=9==e["Game/current.serviceId"],x=e["Layout/premiumJustBought."+e["Game/current.serviceId"]],B=e["Game/current.flags"]||{},w=!(!B.betaTest||n.toTimestamp(B.betaTest)<n.toTimestamp());if("undefined"!=typeof I){if(3==g){if(B.needSubscription)var k="common"}else if(2==g)var k="premium";else if(1==g)if(B.needSubscription)var k="premium";else var k="common";else var k="basic";if(parseInt(I.service_account_id,10)>0);}if(w&&33==e["Game/current.serviceId"])var k="common";var G="",T=!1,L=y.actionEnabled,A=y.trialLink;if(C)var T=!0,G="__Aion";if(B.needSubscription)var G="__Subscription";var M=e["Layout/finished."+e["Game/current.serviceId"]]||!1;if(t.push("<div"+jade.attrs({"data-id":e["Game/current.serviceId"],"class":["bGamePanelCommon__eMainSection","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0,"data-id":!0})+">"),!j||!j.disabled){t.push("<div"+jade.attrs({"data-id":e["Game/current.serviceId"],"class":["bGamePanelCommon__eInnerSection"]},{"data-id":!0})+">");var B=e["Game/current.flags"],H=B&&B.playGame,E=B&&B.installGame;if(E&&1!=E){var F=n.toTimestamp(E);if(F>n.toTimestamp())var E=!1,D=new Date(F)}else if(0!=E)var E=!0;if(H&&1!=H){var R=n.toTimestamp(H);if(R>n.toTimestamp())var H=!1,N=new Date(R)}else if(0!=H)var H=!0;e["Game/current.account.isPremium"]||"play"==e["Game/current.actionPage"]||d({content:e["Game/current.description"],hiding:!0,type:"summary"}),c({title:s("Interface","InstallButton"),width:"full",className:"jsBtnInstallService",id:"bGamePanel__eBtnInstallService_jsId",disabled:!E}),o(),d({content:e["Game/current.downloadSize"],type:"subinfo",platform:"windows",align:"center",id:"bGamePanel__installServiceSize_jsId"}),E&&!H&&N?d({content:s("Game-Panel","PreloadAvailableForPlayAfter",{date:N.getDate()+"&nbsp;"+s("Interface","MonthIndex"+N.getMonth())}),type:"subinfo"}):D&&d({content:s("Game-Panel","AvailableForDownloadAfter",{date:D.getDate()+"&nbsp;"+s("Interface","MonthIndex"+D.getMonth())}),type:"error"}),t.push("</div>")}if(U)if(j&&j.disabled)d({type:j.type||"warning",content:j.text,hiding:!0});else{if(t.push('<div class="bGamePanelCommon__eTop">'),"install"!==M)if("common"===k&&T&&!v){var W=G;C&&(W+="__50",L&&(W+="_ver2")),d({type:"success",href:A,target:"_blank",id:"trialDurationInfo",content:s("Game-Panel","AccountIsTrial"+W),hiding:!0})}else if("common"===k&&I&&"undefined"!=typeof I.subscription&&f===!1&&v&&(S||T))d(C&&x?{type:"success",id:"premiumDurationInfo",content:s("Game-Panel","ImprovementJustBought"+G),hiding:!0}:{type:"error",id:"premiumDurationInfo",content:s("Game-Panel","ImprovementExpired"+G),hiding:!0});else if("premium"===k&&I&&I.subscription&&I.subscription.has_active){var z=I.subscription.finishTime,O=e["Layout/premiumIsRenewal."+e["Game/current.serviceId"]],q=e["Layout/premiumRenewalDays."+e["Game/current.serviceId"]];if(x){var Y="success",V=Math.floor(q/30),J=q%30;if(V){var Q=V+" "+r(V,"Interface","MonthPlural");J&&(Q+=" "+s("Game-Panel","ImprovementMonthAndDay")+" "+J+" "+r(J,"Interface","DaysPlural"))}else var Q=J+" "+r(J,"Interface","DaysPlural");d(C?O?{type:Y,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementRenewal"+G),hiding:!0}:{type:Y,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementJustBought"+G),hiding:!0}:O?{type:Y,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementRenewal"+G)+Q,hiding:!0}:{type:Y,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementJustBought"+G)+Q,hiding:!0})}else if("manyDays"==z.type||"lifeTime"==z.type){var Y="confirmed";d({type:Y,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementExpiresNotSoon"+G)+r(z.daysLeft,"Interface","TimeLeftPlural")+" "+z.daysLeft+" "+r(z.daysLeft,"Interface","DaysPlural"),hiding:!0})}else if("lifeTime"==z.type){var Y="confirmed";d({type:Y,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementExpiresNotSoon"+G)+r(z.daysLeft,"Interface","TimeLeftPlural")+" "+z.daysLeft+" "+r(z.daysLeft,"Interface","DaysPlural"),hiding:!0})}else{var Y="warning";"threeDays"==z.type?d({type:Y,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementExpiresSoon"+G)+r(z.daysLeft,"Interface","TimeLeftPlural")+" "+s("Game-Panel","ImprovementExpiresSoonSummary"+G)+" "+z.daysLeft+" "+r(z.daysLeft,"Interface","DaysPlural"),hiding:!0}):"oneDay"==z.type&&d({type:Y,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementExpiresVerySoon"+G)+z.timeLeft+" "+z.date,hiding:!0})}}t.push("</div>")}if(U&&(!j||!j.disabled)){if(t.push("<div"+jade.attrs({"class":["bGamePanelCommon__eBottom","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0})+">"),"install"!==M){if(!f&&y&&!S&&y.features&&y.features.length){y.gamePanelRemoveLimitations&&t.push('<h1 class="bGamePanelCommon__eTitleName"> '+jade.escape(null==(jade.interp=y.gamePanelRemoveLimitations)?"":jade.interp)+"</h1>"),t.push('<ul class="bGamePanelCommon__ePremiumFeatures">');var $=0;(function(){var e=y.features;if("number"==typeof e.length)for(var a=0,n=e.length;a<n;a++){var i=e[a];i.showInGamePanel&&($++,t.push("<li"+jade.attrs({"class":["bGamePanelCommon__ePremiumFeatures__eItem","bGamePanelCommon__ePremiumFeatures__eItem__mIndex"+$]},{"class":!0})+'><i class="bGamePanelCommon__ePremiumFeatures__eItem__eIcon"></i>'+jade.escape(null==(jade.interp=i.text)?"":jade.interp)),i.isNew&&t.push('<div class="bCrossconversion__eTag bCrossconversion__eTag__mGreen">'+jade.escape(null==(jade.interp=s("Interface","NewStatus"))?"":jade.interp)+"</div>"),t.push("</li>"))}else{var n=0;for(var a in e){n++;var i=e[a];i.showInGamePanel&&($++,t.push("<li"+jade.attrs({"class":["bGamePanelCommon__ePremiumFeatures__eItem","bGamePanelCommon__ePremiumFeatures__eItem__mIndex"+$]},{"class":!0})+'><i class="bGamePanelCommon__ePremiumFeatures__eItem__eIcon"></i>'+jade.escape(null==(jade.interp=i.text)?"":jade.interp)),i.isNew&&t.push('<div class="bCrossconversion__eTag bCrossconversion__eTag__mGreen">'+jade.escape(null==(jade.interp=s("Interface","NewStatus"))?"":jade.interp)+"</div>"),t.push("</li>"))}}}).call(this),t.push("</ul>")}b()}t.push("</div>")}return t.push("</div>"),t.join("")},e.bGamePanel__statusNotInstalledButClosed=function(e){var t=[],a=e||{},s=(a.newParams,a.t),n=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},i=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),i=[],r=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var r=r+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var r=r+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var r=r+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&i.push(p),o.length&&i.push(o),l=i.join("; "),a.href){var r=r+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",r]},{"class":!0,style:!0})+">"),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var r=r+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},n=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},r=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});o(e)};t.push("<!-- сама кнопка-->");var o=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),l(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),l(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),n({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},p=e["Game/current.serviceId"];return t.push("<div"+jade.attrs({"data-id":e["Game/current.serviceId"],"class":["bGamePanelCommon__eMainSection","bGamePanelCommon__eMainSection__mCompactMargin_Middle","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0,"data-id":!0})+">"),r({title:s("Interface","InstallButton"),width:"full",disabled:!0}),t.push('<div class="bGamePanelCommon__eTop">'),i.call({block:function(){i({content:s("Interface","RestrictionReasons_"+p),type:"subinfo"})}},{content:s("Interface","CantInstallGame"),type:"error"}),t.push("</div></div>"),t.join("")},e.bGamePanel__statusPaused=function(e){var t=[],a=e||{},s=(a.typeModifiers,a.modifiers,a.data),n=a.t,i=a.utils,r=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},o=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),o.length&&n.push(o),l=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},l=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&l(s);var p=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),l({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},d=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.stages||[],r=a.serviceId||e["Game/current.serviceId"],l=a.stageSize||0;s.length&&(s.length=1);var d=Math.floor(a.progress)||0,_=100-d,d=d+"%",_=_+"%",u="";if("small"==a.size)var u="bUIProgressBar__mType_small";if("pause"==a.state)var u=u+" bUIProgressBar__mState_pause";else if("prepare"==a.state)var u=u+" bUIProgressBar__mState_prepare";else if("repair"==a.state)var u=u+" bUIProgressBar__mState_repair";if(t.push('<div class="bUIProgressBar__eContainer"><div'+jade.attrs({id:a.id,"class":["bUIProgressBar",u]},{"class":!0,id:!0})+'><div class="bUIProgressBar__eInner"><div class="bUIProgressBar__eStageHighlights">'),function(){var e=s;if("number"==typeof e.length)for(var a=0,n=e.length;a<n;a++){var i=e[a];t.push("<i"+jade.attrs({style:"margin-right: -"+i+"%","class":["bUIProgressBar__eStageHighlight"]},{style:!0})+"></i>")}else{var n=0;for(var a in e){n++;var i=e[a];t.push("<i"+jade.attrs({style:"margin-right: -"+i+"%","class":["bUIProgressBar__eStageHighlight"]},{style:!0})+"></i>")}}}.call(this),t.push("</div>"),"small"!=a.size&&t.push('<span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=d)?"":jade.interp)+"</span>"),s.length&&(t.push('<div class="bUIProgressBar__eStages">'),function(){var e=s;if("number"==typeof e.length)for(var n=0,i=e.length;n<i;n++){var r=e[n];t.push("<div"+jade.attrs({style:"left: "+r+"%","class":["bUIProgressBar__eStageShift"]},{style:!0})+'><div class="bUIProgressBar__eStage">'),"small"!=a.size&&t.push("<div"+jade.attrs({style:"left: "+(100+(50-r))+"%","class":["bUIProgressBar__eStageStatus"]},{style:!0})+'><span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=d)?"":jade.interp)+"</span></div>"),t.push("</div></div>")}else{var i=0;for(var n in e){i++;var r=e[n];t.push("<div"+jade.attrs({style:"left: "+r+"%","class":["bUIProgressBar__eStageShift"]},{style:!0})+'><div class="bUIProgressBar__eStage">'),"small"!=a.size&&t.push("<div"+jade.attrs({style:"left: "+(100+(50-r))+"%","class":["bUIProgressBar__eStageStatus"]},{style:!0})+'><span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=d)?"":jade.interp)+"</span></div>"),t.push("</div></div>")}}}.call(this),t.push("</div>")),t.push("<div"+jade.attrs({style:"left: -"+_+";","class":["bUIProgressBar__eTrack"]},{style:!0})+"><div"+jade.attrs({style:"left: "+_+";","class":["bUIProgressBar__eComplete"]},{style:!0})+">"),"small"!=a.size&&t.push('<span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=d)?"":jade.interp)+"</span>"),t.push('</div></div></div></div><div class="bUIProgressBar__eExtra">'),s.length){if(t.push('<div class="bUIProgressBar__eStageInfo"><div'+jade.attrs({style:"width: "+s[0]+"%","class":["bUIProgressBar__eStageInfoCell"]},{style:!0})+'></div><div class="bUIProgressBar__eStageInfoCell"><div class="bUIProgressBar__eStageInfoBubble"><i'+jade.attrs({style:"left: "+s[0]+"%","class":["bUIProgressBar__eStageInfoBubble__eArrow"]},{style:!0})+'></i><div class="bUIProgressBar__eStageInfoBubble__eContent">'),o({content:n("Game-Panel","LiteClientFirstStageHintText",{size:i.getSizeBinaryLocalized(l)}),type:"description-highlight"}),!a.hideHelp){var c=n("Game-Panel","LiteClientDescription."+r),c=c||n("Game-Panel","LiteClientDescription");p({type:"YellowBig",hintContent:c,hintModifiers:"bUIHint__ePopup__mRoundCorners bUIHint__ePopup__mSmall"})}t.push("</div></div></div></div>")}t.push("</div></div>")};s&&d(s);var _=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});t.push("<button"+jade.attrs({type:"command",id:e.id,"class":["bLinkButton","bLinkButton__mType_"+e.type]},{"class":!0,type:!0,id:!0})+">"+jade.escape(null==(jade.interp=e.title)?"":jade.interp)+"</button>")},l=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&l(s);var p=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),l({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},_=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});t.push("<button"+jade.attrs({type:"command",id:e.id,"class":["bLinkButton","bLinkButton__mType_"+e.type]},{"class":!0,type:!0,id:!0})+">"+jade.escape(null==(jade.interp=e.title)?"":jade.interp)+"</button>")},r=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},o=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),o.length&&n.push(o),l=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},u=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.state||e["GamePanel/state"];t.push('<div class="bGamePanelProgress__eStatus"><span id="jsGamePanel__ProgressBlock__Unpacking" class="bGamePanelProgress__eStatusUnpacking">'+jade.escape(null==(jade.interp=n("Game-Panel","Unpacking"))?"":jade.interp)+"...</span>"),"progress"==s||"pause"==s?(t.push('<span id="jsGamePanel__ProgressBlock__ProgressData" class="bGamePanelProgress__eStatusProgress">'),a.progress&&t.push('<span class="bGamePanelProgress__eStatusProgressPercent"><span id="jsGamePanel__ProgressBlock__DownloadedProgress">'+jade.escape(null==(jade.interp=~~a.progress)?"":jade.interp)+"</span>&thinsp;%,&nbsp;</span>"),t.push('<span id="jsGamePanel__ProgressBlock__Downloaded"></span> '+jade.escape(null==(jade.interp=n("Interface","ConjFrom"))?"":jade.interp)+'&nbsp;<span id="jsGamePanel__ProgressBlock__DownloadSize"></span>,&nbsp;'),"progress"==s?t.push('<span id="jsGamePanel__ProgressBlock__DownloadSpeed"></span>'):"pause"==s&&t.push(jade.escape(null==(jade.interp=n("Game-Panel","Pause"))?"":jade.interp)),t.push("</span>")):"prepare"==s&&t.push(""+jade.escape(null==(jade.interp=n("Game-Panel","Preparing"))?"":jade.interp)+"&hellip;"),t.push("</div>")},c=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.state||e["GamePanel/state"];t.push('<div class="bGamePanelProgress__eControlsArea"><div class="bGamePanelProgressControlsArea__eFirst">'),_("pause"==s?{id:"jsGamePanel__ProgressBlock__eButton_Resume",type:"resume",title:n("Game-Panel","Resume")}:{id:"jsGamePanel__ProgressBlock__eButton_Pause",type:"pause",title:n("Game-Panel","Stop")}),t.push("</div>"),a.nonCancelable||(t.push('<div class="bGamePanelProgressControlsArea__eSecond">'),_({id:"jsGamePanel__ProgressBlock__eButton_Cancel",type:"cancel",title:n("Game-Panel","Cancel")}),t.push("</div>")),t.push("</div>")},m=e[e["Game/current.statusPrefix"]],h=m.info,b=h.size,I=h.progress,g=m.readyStage,f=g>-1,v=f&&h.stageSizes||[],y=v[0],j=v.map(i.prepareStageSizes(b)),U="pause";return t.push("<div"+jade.attrs({"class":["bGamePanelCommon__eMainSection","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0})+'><div class="bGamePanel__eProgress">'),d({progress:I,state:U,stages:j,stageSize:y}),u({state:U}),c({state:U}),t.push("</div></div>"),t.join("")},e.bGamePanel__statusProgress=function(e){var t=[],a=e||{},s=(a.typeModifiers,a.modifiers,a.data),n=a.t,i=a.utils,r=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},o=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),o.length&&n.push(o),l=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},l=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&l(s);var p=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),l({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},d=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.stages||[],r=a.serviceId||e["Game/current.serviceId"],l=a.stageSize||0;
s.length&&(s.length=1);var d=Math.floor(a.progress)||0,_=100-d,d=d+"%",_=_+"%",u="";if("small"==a.size)var u="bUIProgressBar__mType_small";if("pause"==a.state)var u=u+" bUIProgressBar__mState_pause";else if("prepare"==a.state)var u=u+" bUIProgressBar__mState_prepare";else if("repair"==a.state)var u=u+" bUIProgressBar__mState_repair";if(t.push('<div class="bUIProgressBar__eContainer"><div'+jade.attrs({id:a.id,"class":["bUIProgressBar",u]},{"class":!0,id:!0})+'><div class="bUIProgressBar__eInner"><div class="bUIProgressBar__eStageHighlights">'),function(){var e=s;if("number"==typeof e.length)for(var a=0,n=e.length;a<n;a++){var i=e[a];t.push("<i"+jade.attrs({style:"margin-right: -"+i+"%","class":["bUIProgressBar__eStageHighlight"]},{style:!0})+"></i>")}else{var n=0;for(var a in e){n++;var i=e[a];t.push("<i"+jade.attrs({style:"margin-right: -"+i+"%","class":["bUIProgressBar__eStageHighlight"]},{style:!0})+"></i>")}}}.call(this),t.push("</div>"),"small"!=a.size&&t.push('<span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=d)?"":jade.interp)+"</span>"),s.length&&(t.push('<div class="bUIProgressBar__eStages">'),function(){var e=s;if("number"==typeof e.length)for(var n=0,i=e.length;n<i;n++){var r=e[n];t.push("<div"+jade.attrs({style:"left: "+r+"%","class":["bUIProgressBar__eStageShift"]},{style:!0})+'><div class="bUIProgressBar__eStage">'),"small"!=a.size&&t.push("<div"+jade.attrs({style:"left: "+(100+(50-r))+"%","class":["bUIProgressBar__eStageStatus"]},{style:!0})+'><span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=d)?"":jade.interp)+"</span></div>"),t.push("</div></div>")}else{var i=0;for(var n in e){i++;var r=e[n];t.push("<div"+jade.attrs({style:"left: "+r+"%","class":["bUIProgressBar__eStageShift"]},{style:!0})+'><div class="bUIProgressBar__eStage">'),"small"!=a.size&&t.push("<div"+jade.attrs({style:"left: "+(100+(50-r))+"%","class":["bUIProgressBar__eStageStatus"]},{style:!0})+'><span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=d)?"":jade.interp)+"</span></div>"),t.push("</div></div>")}}}.call(this),t.push("</div>")),t.push("<div"+jade.attrs({style:"left: -"+_+";","class":["bUIProgressBar__eTrack"]},{style:!0})+"><div"+jade.attrs({style:"left: "+_+";","class":["bUIProgressBar__eComplete"]},{style:!0})+">"),"small"!=a.size&&t.push('<span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=d)?"":jade.interp)+"</span>"),t.push('</div></div></div></div><div class="bUIProgressBar__eExtra">'),s.length){if(t.push('<div class="bUIProgressBar__eStageInfo"><div'+jade.attrs({style:"width: "+s[0]+"%","class":["bUIProgressBar__eStageInfoCell"]},{style:!0})+'></div><div class="bUIProgressBar__eStageInfoCell"><div class="bUIProgressBar__eStageInfoBubble"><i'+jade.attrs({style:"left: "+s[0]+"%","class":["bUIProgressBar__eStageInfoBubble__eArrow"]},{style:!0})+'></i><div class="bUIProgressBar__eStageInfoBubble__eContent">'),o({content:n("Game-Panel","LiteClientFirstStageHintText",{size:i.getSizeBinaryLocalized(l)}),type:"description-highlight"}),!a.hideHelp){var c=n("Game-Panel","LiteClientDescription."+r),c=c||n("Game-Panel","LiteClientDescription");p({type:"YellowBig",hintContent:c,hintModifiers:"bUIHint__ePopup__mRoundCorners bUIHint__ePopup__mSmall"})}t.push("</div></div></div></div>")}t.push("</div></div>")};s&&d(s);var _=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});t.push("<button"+jade.attrs({type:"command",id:e.id,"class":["bLinkButton","bLinkButton__mType_"+e.type]},{"class":!0,type:!0,id:!0})+">"+jade.escape(null==(jade.interp=e.title)?"":jade.interp)+"</button>")},l=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&l(s);var p=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),l({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},_=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});t.push("<button"+jade.attrs({type:"command",id:e.id,"class":["bLinkButton","bLinkButton__mType_"+e.type]},{"class":!0,type:!0,id:!0})+">"+jade.escape(null==(jade.interp=e.title)?"":jade.interp)+"</button>")},r=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},o=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),o.length&&n.push(o),l=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},u=function(){var a=(this.block,this.attributes||{},this.escaped||{},e["Game/current.newVersion"]);a&&t.push('<div class="bGamePanelProgress__eVersion">'+jade.escape(null==(jade.interp=n("Game-Panel","InstallingVersion"))?"":jade.interp)+" "+jade.escape(null==(jade.interp=a)?"":jade.interp)+"</div>")},c=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.state||e["GamePanel/state"];t.push('<div class="bGamePanelProgress__eStatus"><span id="jsGamePanel__ProgressBlock__Unpacking" class="bGamePanelProgress__eStatusUnpacking">'+jade.escape(null==(jade.interp=n("Game-Panel","Unpacking"))?"":jade.interp)+"...</span>"),"progress"==s||"pause"==s?(t.push('<span id="jsGamePanel__ProgressBlock__ProgressData" class="bGamePanelProgress__eStatusProgress">'),a.progress&&t.push('<span class="bGamePanelProgress__eStatusProgressPercent"><span id="jsGamePanel__ProgressBlock__DownloadedProgress">'+jade.escape(null==(jade.interp=~~a.progress)?"":jade.interp)+"</span>&thinsp;%,&nbsp;</span>"),t.push('<span id="jsGamePanel__ProgressBlock__Downloaded"></span> '+jade.escape(null==(jade.interp=n("Interface","ConjFrom"))?"":jade.interp)+'&nbsp;<span id="jsGamePanel__ProgressBlock__DownloadSize"></span>,&nbsp;'),"progress"==s?t.push('<span id="jsGamePanel__ProgressBlock__DownloadSpeed"></span>'):"pause"==s&&t.push(jade.escape(null==(jade.interp=n("Game-Panel","Pause"))?"":jade.interp)),t.push("</span>")):"prepare"==s&&t.push(""+jade.escape(null==(jade.interp=n("Game-Panel","Preparing"))?"":jade.interp)+"&hellip;"),t.push("</div>")},m=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.state||e["GamePanel/state"];t.push('<div class="bGamePanelProgress__eControlsArea"><div class="bGamePanelProgressControlsArea__eFirst">'),_("pause"==s?{id:"jsGamePanel__ProgressBlock__eButton_Resume",type:"resume",title:n("Game-Panel","Resume")}:{id:"jsGamePanel__ProgressBlock__eButton_Pause",type:"pause",title:n("Game-Panel","Stop")}),t.push("</div>"),a.nonCancelable||(t.push('<div class="bGamePanelProgressControlsArea__eSecond">'),_({id:"jsGamePanel__ProgressBlock__eButton_Cancel",type:"cancel",title:n("Game-Panel","Cancel")}),t.push("</div>")),t.push("</div>")},h=e[e["Game/current.statusPrefix"]],b=h.info,I=b.size,g=b.progress,f=h.readyStage,v=f>-1,y=v&&b.stageSizes||[],j=y[0],U=y.map(i.prepareStageSizes(I));return t.push("<div"+jade.attrs({"class":["bGamePanelCommon__eMainSection","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0})+'><div class="bGamePanel__eProgress">'),u(),d({progress:g,state:e["GamePanel/state"],stages:U,stageSize:j}),c(),m(),t.push("</div></div>"),t.join("")},e.bGamePanel__statusProgressCancel=function(e){var t=[],a=e||{},s=a.t,n=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},i=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),i=[],r=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var r=r+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var r=r+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var r=r+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&i.push(p),o.length&&i.push(o),l=i.join("; "),a.href){var r=r+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",r]},{"class":!0,style:!0})+">"),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var r=r+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},r=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{}),n=e.yesText||s("Interface","YesButton"),i=e.noText||s("Interface","NoButton");t.push("<div"+jade.attrs({"class":["bDialog",e.modifiers||""]},{"class":!0})+">"),a&&a(),t.push("<div"+jade.attrs({id:e.id||!1,"class":["bDialogButtons"]},{id:!0})+'><div class="bDialogButton bDialogButton__mPosition_Left">'),o({text:n,id:e.YesButtonId,modifiers:"",minWidth:"80px"}),t.push('</div><div class="bDialogButton bDialogButton__mPosition_Right">'),o({text:i,id:e.NoButtonId,modifiers:"",minWidth:"80px"}),t.push("</div></div></div>")},o=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});e.action?(t.push("<form"+jade.attrs({action:""+e.action,method:"get",id:e.id||!1,"class":["bSmallButtonForm"]},{action:!0,method:!0,id:!0})+">"),l(e,!0),t.push("</form>")):l(e,!1)},l=function(e,a){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),s=e.modifiers||"";if(e.isBlock)var s=s+" bSmallButton__mDisplay_Block";t.push("<button"+jade.attrs({style:!!e.minWidth&&"min-width: "+e.minWidth+";",id:!a&&(e.id||!1),"class":["bSmallButton",s]},{"class":!0,style:!0,id:!0})+'><span class="bSmallButton__eShine">'+(null==(jade.interp=e.text)?"":jade.interp)+"</span></button>")};return t.push('<div class="bGamePanelCommon__eMainSection">'),r.call({block:function(){i({content:s("Game-Panel","CancelInstallQuestion"),type:"warning"}),i({content:s("Interface","Downloaded")+' <span id="jsGamePanel__ProgressBlock__Downloaded"></span> '+s("Interface","ConjFrom")+' <span id="jsGamePanel__ProgressBlock__DownloadSize"></span>',type:"explain",id:"jsGamePanel__ProgressBlock__eButton_ProgressStopStatus"})}},{YesButtonId:"jsGamePanel__ProgressBlock__eButton_ProgressStopYes",NoButtonId:"jsGamePanel__ProgressBlock__eButton_ProgressStopNo"}),t.push("</div>"),t.join("")},e.bGamePanel__statusProgressPartials=function(e){var t=[],a=e||{},s=(a.typeModifiers,a.modifiers,a.data),n=(a.t,a.utils,function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")});s&&n(s);return t.join("")},e.bGamePanel__statusProgressPrepare=function(e){var t=[],a=e||{},s=(a.typeModifiers,a.modifiers,a.data),n=a.t,i=a.utils,r=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},o=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),o.length&&n.push(o),l=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},l=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&l(s);var p=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),l({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},d=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.stages||[],r=a.serviceId||e["Game/current.serviceId"],l=a.stageSize||0;s.length&&(s.length=1);var d=Math.floor(a.progress)||0,_=100-d,d=d+"%",_=_+"%",u="";if("small"==a.size)var u="bUIProgressBar__mType_small";if("pause"==a.state)var u=u+" bUIProgressBar__mState_pause";else if("prepare"==a.state)var u=u+" bUIProgressBar__mState_prepare";else if("repair"==a.state)var u=u+" bUIProgressBar__mState_repair";if(t.push('<div class="bUIProgressBar__eContainer"><div'+jade.attrs({id:a.id,"class":["bUIProgressBar",u]},{"class":!0,id:!0})+'><div class="bUIProgressBar__eInner"><div class="bUIProgressBar__eStageHighlights">'),function(){var e=s;if("number"==typeof e.length)for(var a=0,n=e.length;a<n;a++){var i=e[a];t.push("<i"+jade.attrs({style:"margin-right: -"+i+"%","class":["bUIProgressBar__eStageHighlight"]},{style:!0})+"></i>")}else{var n=0;for(var a in e){n++;var i=e[a];t.push("<i"+jade.attrs({style:"margin-right: -"+i+"%","class":["bUIProgressBar__eStageHighlight"]},{style:!0})+"></i>")}}}.call(this),t.push("</div>"),"small"!=a.size&&t.push('<span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=d)?"":jade.interp)+"</span>"),s.length&&(t.push('<div class="bUIProgressBar__eStages">'),function(){var e=s;if("number"==typeof e.length)for(var n=0,i=e.length;n<i;n++){var r=e[n];t.push("<div"+jade.attrs({style:"left: "+r+"%","class":["bUIProgressBar__eStageShift"]},{style:!0})+'><div class="bUIProgressBar__eStage">'),"small"!=a.size&&t.push("<div"+jade.attrs({style:"left: "+(100+(50-r))+"%","class":["bUIProgressBar__eStageStatus"]},{style:!0})+'><span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=d)?"":jade.interp)+"</span></div>"),t.push("</div></div>")}else{var i=0;for(var n in e){i++;var r=e[n];t.push("<div"+jade.attrs({style:"left: "+r+"%","class":["bUIProgressBar__eStageShift"]},{style:!0})+'><div class="bUIProgressBar__eStage">'),"small"!=a.size&&t.push("<div"+jade.attrs({style:"left: "+(100+(50-r))+"%","class":["bUIProgressBar__eStageStatus"]},{style:!0})+'><span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=d)?"":jade.interp)+"</span></div>"),t.push("</div></div>")}}}.call(this),t.push("</div>")),t.push("<div"+jade.attrs({style:"left: -"+_+";","class":["bUIProgressBar__eTrack"]},{style:!0})+"><div"+jade.attrs({style:"left: "+_+";","class":["bUIProgressBar__eComplete"]},{style:!0})+">"),"small"!=a.size&&t.push('<span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=d)?"":jade.interp)+"</span>"),t.push('</div></div></div></div><div class="bUIProgressBar__eExtra">'),s.length){if(t.push('<div class="bUIProgressBar__eStageInfo"><div'+jade.attrs({style:"width: "+s[0]+"%","class":["bUIProgressBar__eStageInfoCell"]},{style:!0})+'></div><div class="bUIProgressBar__eStageInfoCell"><div class="bUIProgressBar__eStageInfoBubble"><i'+jade.attrs({style:"left: "+s[0]+"%","class":["bUIProgressBar__eStageInfoBubble__eArrow"]},{style:!0})+'></i><div class="bUIProgressBar__eStageInfoBubble__eContent">'),o({content:n("Game-Panel","LiteClientFirstStageHintText",{size:i.getSizeBinaryLocalized(l)}),type:"description-highlight"}),!a.hideHelp){var c=n("Game-Panel","LiteClientDescription."+r),c=c||n("Game-Panel","LiteClientDescription");p({type:"YellowBig",hintContent:c,hintModifiers:"bUIHint__ePopup__mRoundCorners bUIHint__ePopup__mSmall"})}t.push("</div></div></div></div>")}t.push("</div></div>")};s&&d(s);var _=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});t.push("<button"+jade.attrs({type:"command",id:e.id,"class":["bLinkButton","bLinkButton__mType_"+e.type]},{"class":!0,type:!0,id:!0})+">"+jade.escape(null==(jade.interp=e.title)?"":jade.interp)+"</button>")},l=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&l(s);var p=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),l({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},_=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});t.push("<button"+jade.attrs({type:"command",id:e.id,"class":["bLinkButton","bLinkButton__mType_"+e.type]},{"class":!0,type:!0,id:!0})+">"+jade.escape(null==(jade.interp=e.title)?"":jade.interp)+"</button>")},r=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},o=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),o.length&&n.push(o),l=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},u=function(){var a=(this.block,this.attributes||{},this.escaped||{},e["Game/current.newVersion"]);a&&t.push('<div class="bGamePanelProgress__eVersion">'+jade.escape(null==(jade.interp=n("Game-Panel","InstallingVersion"))?"":jade.interp)+" "+jade.escape(null==(jade.interp=a)?"":jade.interp)+"</div>")},c=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.state||e["GamePanel/state"];t.push('<div class="bGamePanelProgress__eStatus"><span id="jsGamePanel__ProgressBlock__Unpacking" class="bGamePanelProgress__eStatusUnpacking">'+jade.escape(null==(jade.interp=n("Game-Panel","Unpacking"))?"":jade.interp)+"...</span>"),"progress"==s||"pause"==s?(t.push('<span id="jsGamePanel__ProgressBlock__ProgressData" class="bGamePanelProgress__eStatusProgress">'),a.progress&&t.push('<span class="bGamePanelProgress__eStatusProgressPercent"><span id="jsGamePanel__ProgressBlock__DownloadedProgress">'+jade.escape(null==(jade.interp=~~a.progress)?"":jade.interp)+"</span>&thinsp;%,&nbsp;</span>"),t.push('<span id="jsGamePanel__ProgressBlock__Downloaded"></span> '+jade.escape(null==(jade.interp=n("Interface","ConjFrom"))?"":jade.interp)+'&nbsp;<span id="jsGamePanel__ProgressBlock__DownloadSize"></span>,&nbsp;'),"progress"==s?t.push('<span id="jsGamePanel__ProgressBlock__DownloadSpeed"></span>'):"pause"==s&&t.push(jade.escape(null==(jade.interp=n("Game-Panel","Pause"))?"":jade.interp)),t.push("</span>")):"prepare"==s&&t.push(""+jade.escape(null==(jade.interp=n("Game-Panel","Preparing"))?"":jade.interp)+"&hellip;"),t.push("</div>")},m=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.state||e["GamePanel/state"];t.push('<div class="bGamePanelProgress__eControlsArea"><div class="bGamePanelProgressControlsArea__eFirst">'),_("pause"==s?{id:"jsGamePanel__ProgressBlock__eButton_Resume",type:"resume",title:n("Game-Panel","Resume")}:{id:"jsGamePanel__ProgressBlock__eButton_Pause",type:"pause",title:n("Game-Panel","Stop")}),t.push("</div>"),a.nonCancelable||(t.push('<div class="bGamePanelProgressControlsArea__eSecond">'),_({id:"jsGamePanel__ProgressBlock__eButton_Cancel",type:"cancel",title:n("Game-Panel","Cancel")}),t.push("</div>")),t.push("</div>")},h=e[e["Game/current.statusPrefix"]],b=h.info,I=b.size,g=h.readyStage,f=g>-1,v=f&&b.stageSizes||[],y=v[0],j=v.map(i.prepareStageSizes(I)),U="prepare";return t.push("<div"+jade.attrs({"class":["bGamePanelCommon__eMainSection","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0})+'><div class="bGamePanel__eProgress">'),u(),d({state:U,stages:j,stageSize:y}),c({state:U}),m({state:U}),t.push("</div></div>"),t.join("")},e.bGamePanel__statusUpdateRequired=function(e){var t=[],a=e||{},s=(a.newParams,a.typeModifiers,a.modifiers,a.data),n=a.t,i=a.utils,r=a.plural,o=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),_({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},l=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),o(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),o(e),t.push("</button>"))},p=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});l(e)},d=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");
if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",p="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var p=p+"True";else var p=p+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",p]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&_({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&_({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&_({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},_=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},_=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},d=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",p="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var p=p+"True";else var p=p+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",p]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&_({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&_({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&_({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},u=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&u(s);var c=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),u({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},_=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},p=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});l(e)};t.push("<!-- сама кнопка-->");var l=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),o(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),o(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var o=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),_({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},m=function(){var a=(this.block,this.attributes||{},this.escaped||{},e["L4G.Currency"]);t.push('<span class="bRubleSymbol">'),"RUB"==a?t.push(null==(jade.interp=n("Interface","RoubleSymbol"))?"":jade.interp):"BRL"==a?t.push(jade.escape(null==(jade.interp="R$")?"":jade.interp)):t.push(jade.escape(null==(jade.interp="&euro;")?"":jade.interp)),t.push("</span>")};s&&m();var h=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=e["Game/current.flags"]||{},i=i||e["Game/current.account"],r=e["Game/current.account.status"],o=e["Layout/premiumIsRenewal."+e["Game/current.serviceId"]],l=e["Game/current.premium"],d=e["GameData/services."+e["Game/current.serviceId"]+".premium_enabled"],_=l.premiumPage,u="bPremiumActions",h="ImproveAccount",b=!1,I="pseudo_small",g=!1;if("undefined"!=typeof r)if(3==r){if(s.needSubscription)var f="common"}else if(2==r)var f="premium";else if(1==r)if(s.needSubscription)var f="premium";else var f="common";else var f="basic";if("premium"==f)var b=!0;if(b){var h="ExtendAccountImprovement";if(o)var h="ExtendAccountImprovementAgain"}else var I="small",g=!0;var v="";if(9==e["Game/current.serviceId"])var v="__Aion";if(s.needSubscription)var v="__Subscription";a.modifiers&&(u+=" "+a.modifiers),t.push("<div"+jade.attrs({id:a.id||!1,"class":[u]},{"class":!0,id:!0})+"><div"+jade.attrs({"class":["bPremiumActions__eActionControl",d&&b?"bPremiumActions__eActionControl__mRenewal":""]},{"class":!0})+">"),d?(p({id:"jsBtnBuyPremiumInGamePanel",title:n("Game-Panel",h+v),type:I,shadowed:g,className:"bUIButton__eFrame__mGamePanelPremium",link:"?popupWidget=PremiumUpgradeWidget",dataReloadSections:'PremiumUpgradeWidget: {"target":"#OverlayContent","ns":"popup"}'}),!b&&l.premiumMinPrice&&(t.push("<div"+jade.attrs({id:"gamepanel-premium-min-price","class":["bPremiumActions__eActionControl__eSubInfo",l.isPromoPrice?"bPremiumActions__eActionControl__eSubInfo__mGreen":""]},{"class":!0})+">"+(null==(jade.interp=n("Game-Panel",l.isPromoPrice?"MinPremiumPromoPriceFrom":"MinPremiumPriceFrom"))?"":jade.interp)+"&nbsp;"+jade.escape(null==(jade.interp=l.premiumMinPrice)?"":jade.interp)+"&nbsp;"),m(),t.push("</div>"))):t.push('<div class="bPremiumActions__ePremiumPageLink">'+(null==(jade.interp=l.gamePanelIngamePremium)?"":jade.interp)+"</div>"),t.push("</div>"),d&&b?(t.push('<div class="bPremiumActions__eSubinfo"><span class="bPremiumActions__eSubinfoContent">'+(null==(jade.interp=n("Game-Panel","AutoImprovement"))?"":jade.interp)+'<span class="bPseudoLink bPremiumActions__eSubinfoPseudolink"><span'+jade.attrs({id:"bPremiumActions__eAutoImprovement","data-improvement-state":""+i.subscription.autopay_enabled,"data-improvement-url":"/subscription/setAutopay?serviceAccountId="+i.service_account_id,"class":["bPremiumActions__eSubinfoPseudolinkText"]},{"data-improvement-state":!0,"data-improvement-url":!0})+">"+(null==(jade.interp=n("Game-Panel",i.subscription.autopay_enabled?"AutoImprovementOn":"AutoImprovementOff"))?"":jade.interp)+"</span></span>"),c({id:"",type:"Grey",modifiers:"bPremiumActions__eHelpIcon",hintContent:n("Game-Panel","AutoImprovementHelp"+v)}),t.push("</span></div>")):_&&l.gamePanelPremiumPage&&t.push("<a"+jade.attrs({id:"gamepanel-premium-page-link",href:l.premiumPageLink,"class":["bPremiumActions__ePremiumPageLink"]},{href:!0})+">"+jade.escape(null==(jade.interp=l.gamePanelPremiumPage)?"":jade.interp)+"</a>"),t.push("</div>")},b=e["Game/current.account"],I=e["Game/current.account.status"],g=e["Game/current.account.subscription.has_active"],f=e["Game/current.account.subscription.endtime_unix_ms"],v=(e["Game/current.data"],e["Game/current.premium"]),y=e["Game/current.disableStatus"],j="play"==e["Game/current.actionPage"],U=+new Date,P=U-f<2592e5,S=9==e["Game/current.serviceId"],C=e["Layout/premiumJustBought."+e["Game/current.serviceId"]],x=e["Game/current.flags"]||{},B=!(!x.betaTest||i.toTimestamp(x.betaTest)<i.toTimestamp());if("undefined"!=typeof b){if(3==I){if(x.needSubscription)var w="common"}else if(2==I)var w="premium";else if(1==I)if(x.needSubscription)var w="premium";else var w="common";else var w="basic";if(parseInt(b.service_account_id,10)>0);}if(B&&33==e["Game/current.serviceId"])var w="common";var k="",G=!1,T=v.actionEnabled,L=v.trialLink;if(S)var G=!0,k="__Aion";if(x.needSubscription)var k="__Subscription";var A=e["Layout/finished."+e["Game/current.serviceId"]]||!1;if(t.push("<div"+jade.attrs({"data-id":e["Game/current.serviceId"],"class":["bGamePanelCommon__eMainSection","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0,"data-id":!0})+">"),y&&y.disabled||(t.push('<div class="bGamePanelCommon__eInnerSection">'),e["L4G.Maintenance/maintenance.services."+e["Game/current.serviceId"]]&&d({type:"maintenance",content:n("Game-Panel","MaintenanceSmall"),id:"jsSmallMaintenanceMessage"}),d({type:"warning",content:n("Game-Panel","UpdateNeeded"),id:"jsUpdateRequiredMessage"}),p({title:n("Interface","UpdateButton"),width:"full",id:"bGamePanel__eBtnUpdateService_jsId",premium:e["Game/current.account.isPremium"]}),t.push("</div>")),j)if(y&&y.disabled)d({type:y.type||"warning",content:y.text,hiding:!0});else{if(t.push('<div class="bGamePanelCommon__eTop">'),"install"!==A)if("common"===w&&G&&!f){var M=k;S&&(M+="__50",T&&(M+="_ver2")),d({type:"success",href:L,target:"_blank",id:"trialDurationInfo",content:n("Game-Panel","AccountIsTrial"+M),hiding:!0})}else if("common"===w&&b&&"undefined"!=typeof b.subscription&&g===!1&&f&&(P||G))d(S&&C?{type:"success",id:"premiumDurationInfo",content:n("Game-Panel","ImprovementJustBought"+k),hiding:!0}:{type:"error",id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpired"+k),hiding:!0});else if("premium"===w&&b&&b.subscription&&b.subscription.has_active){var H=b.subscription.finishTime,E=e["Layout/premiumIsRenewal."+e["Game/current.serviceId"]],F=e["Layout/premiumRenewalDays."+e["Game/current.serviceId"]];if(C){var D="success",R=Math.floor(F/30),N=F%30;if(R){var W=R+" "+r(R,"Interface","MonthPlural");N&&(W+=" "+n("Game-Panel","ImprovementMonthAndDay")+" "+N+" "+r(N,"Interface","DaysPlural"))}else var W=N+" "+r(N,"Interface","DaysPlural");d(S?E?{type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementRenewal"+k),hiding:!0}:{type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementJustBought"+k),hiding:!0}:E?{type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementRenewal"+k)+W,hiding:!0}:{type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementJustBought"+k)+W,hiding:!0})}else if("manyDays"==H.type||"lifeTime"==H.type){var D="confirmed";d({type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresNotSoon"+k)+r(H.daysLeft,"Interface","TimeLeftPlural")+" "+H.daysLeft+" "+r(H.daysLeft,"Interface","DaysPlural"),hiding:!0})}else if("lifeTime"==H.type){var D="confirmed";d({type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresNotSoon"+k)+r(H.daysLeft,"Interface","TimeLeftPlural")+" "+H.daysLeft+" "+r(H.daysLeft,"Interface","DaysPlural"),hiding:!0})}else{var D="warning";"threeDays"==H.type?d({type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresSoon"+k)+r(H.daysLeft,"Interface","TimeLeftPlural")+" "+n("Game-Panel","ImprovementExpiresSoonSummary"+k)+" "+H.daysLeft+" "+r(H.daysLeft,"Interface","DaysPlural"),hiding:!0}):"oneDay"==H.type&&d({type:D,id:"premiumDurationInfo",content:n("Game-Panel","ImprovementExpiresVerySoon"+k)+H.timeLeft+" "+H.date,hiding:!0})}}t.push("</div>")}if(j&&(!y||!y.disabled)){if(t.push("<div"+jade.attrs({"class":["bGamePanelCommon__eBottom","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0})+">"),"install"!==A){if(!g&&v&&!P&&v.features&&v.features.length){v.gamePanelRemoveLimitations&&t.push('<h1 class="bGamePanelCommon__eTitleName"> '+jade.escape(null==(jade.interp=v.gamePanelRemoveLimitations)?"":jade.interp)+"</h1>"),t.push('<ul class="bGamePanelCommon__ePremiumFeatures">');var z=0;(function(){var e=v.features;if("number"==typeof e.length)for(var a=0,s=e.length;a<s;a++){var i=e[a];i.showInGamePanel&&(z++,t.push("<li"+jade.attrs({"class":["bGamePanelCommon__ePremiumFeatures__eItem","bGamePanelCommon__ePremiumFeatures__eItem__mIndex"+z]},{"class":!0})+'><i class="bGamePanelCommon__ePremiumFeatures__eItem__eIcon"></i>'+jade.escape(null==(jade.interp=i.text)?"":jade.interp)),i.isNew&&t.push('<div class="bCrossconversion__eTag bCrossconversion__eTag__mGreen">'+jade.escape(null==(jade.interp=n("Interface","NewStatus"))?"":jade.interp)+"</div>"),t.push("</li>"))}else{var s=0;for(var a in e){s++;var i=e[a];i.showInGamePanel&&(z++,t.push("<li"+jade.attrs({"class":["bGamePanelCommon__ePremiumFeatures__eItem","bGamePanelCommon__ePremiumFeatures__eItem__mIndex"+z]},{"class":!0})+'><i class="bGamePanelCommon__ePremiumFeatures__eItem__eIcon"></i>'+jade.escape(null==(jade.interp=i.text)?"":jade.interp)),i.isNew&&t.push('<div class="bCrossconversion__eTag bCrossconversion__eTag__mGreen">'+jade.escape(null==(jade.interp=n("Interface","NewStatus"))?"":jade.interp)+"</div>"),t.push("</li>"))}}}).call(this),t.push("</ul>")}h()}t.push("</div>")}return t.push("</div>"),t.join("")},e.bGamePanel__unavailable=function(e){var t=[],a=e||{},s=a.t,n=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},i=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),i=[],r=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var r=r+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var r=r+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var r=r+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&i.push(p),o.length&&i.push(o),l=i.join("; "),a.href){var r=r+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",r]},{"class":!0,style:!0})+">"),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var r=r+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")};t.push("<div"+jade.attrs({"data-id":e["Game/current.serviceId"],"class":["bGamePanelCommon__eMainSection","bGamePanelCommon__eMainSection__mCompactMargin_Middle","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0,"data-id":!0})+">");var r=e["L4G.Application/in-availableServices.environment"];return i({type:"info",content:s("Game-Panel","GameDisabledForEnv",{env:r.toUpperCase()})}),t.push("</div>"),t.join("")},e.bGamePanel__unhandledError=function(e){var t=[],a=e||{},s=a.t,n=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},i=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),i=[],r=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var r=r+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var r=r+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var r=r+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&i.push(p),o.length&&i.push(o),l=i.join("; "),a.href){var r=r+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",r]},{"class":!0,style:!0})+">"),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var r=r+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},r=e["Game/current.serviceId"],o=(e["L4G.Application/error"]||e["L4G.Application/services."+r+".error"]||{}).code||e["L4G.Application/in-status.services."+r+".last_ec"],l=e["GamePanel/supportLink"],p=e["GamePanel/gamesSupportUrls."+r];t.push('<div data-js-widgets="block!bGamePanel/bGamePanel__defaultState__server" class="bGamePanel__eDefaultState bGamePanel__eDefaultState__mState_fault bGamePanelCommon__eMainSection"><div class="bGamePanelDefaultState__eFault">');var d={code:o,wrapStart:'<a target="_blank" href="'+l+'">',wrapEnd:"</a>"};return l||(d.wrapStart="",d.wrapEnd=""),i.call({block:function(){t.push('<div class="bGamePanelDefaultState__eFaultButton"><button class="bSmallButton jsGamePanel__eDefaultState__Refresh"><span class="bSmallButton__eShine">'+(null==(jade.interp=s("Interface","UpdateButton"))?"":jade.interp)+"</span></button></div>"),l?i({content:s("Game-Panel","ErrorCodeComment",d),type:"subinfo"}):(p&&(d.wrapStart='<a target="_blank" href="'+p+'">',d.wrapEnd="</a>"),i({content:s("Game-Panel","ErrorCodeDefaultComment",d),type:"subinfo"}))}},{content:s("Game-Panel","ErrorCodeOccurred",d),type:"error"}),t.push("</div></div>"),t.join("")},e.bGamePanel__workingModeFault=function(e){var t=[],a=e||{},s=a.t,n=a.utils,i=(a.modifiers,a.typeModifiers,a.newParams,a.data),r=a.plural,o=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),i=a.serviceId||e["Game/current.serviceId"],r=a.stageSizes||e["Game/current.stageSizes"],o=a.hideStageSize||e["Game/current.lightClientOnlyForNewcomers"],p=e[e["Game/current.statusPrefix"]]||{},_=p.info||{stageSizes:[]},u=p.readyStage,c=u>-1,m=c&&_.stageSizes[0]||r&&r[0]||0;if(!o&&m){if(t.push('<div class="bGamePanel__eStageInfo">'),d({content:s("Game-Panel","LiteClientFirstStageSize",{size:n.getSizeBinaryLocalized(m)}),type:"description-highlight"}),!a.hideHelp){var h=s("Game-Panel","LiteClientDescription."+i),h=h||s("Game-Panel","LiteClientDescription");l({type:"YellowBig",hintContent:h,hintModifiers:"bUIHint__ePopup__mRoundCorners bUIHint__ePopup__mSmall"})}t.push("</div>")}},l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),p({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},p=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")},d=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",p="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var p=p+"True";else var p=p+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",p]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&m({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&m({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&m({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},_=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),m({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},u=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),_(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),_(e),t.push("</button>"))},c=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});u(e)},m=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},m=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},d=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",p="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var p=p+"True";else var p=p+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,
"class":["bInfoMessage__eLink",p]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&m({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&m({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&m({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},p=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};i&&p(i);var l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),p({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},m=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},c=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});u(e)};t.push("<!-- сама кнопка-->");var u=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),_(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),_(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var _=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),m({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},h=function(){var a=(this.block,this.attributes||{},this.escaped||{},e["L4G.Currency"]);t.push('<span class="bRubleSymbol">'),"RUB"==a?t.push(null==(jade.interp=s("Interface","RoubleSymbol"))?"":jade.interp):"BRL"==a?t.push(jade.escape(null==(jade.interp="R$")?"":jade.interp)):t.push(jade.escape(null==(jade.interp="&euro;")?"":jade.interp)),t.push("</span>")};i&&h();var b=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),n=e["Game/current.flags"]||{},i=i||e["Game/current.account"],r=e["Game/current.account.status"],o=e["Layout/premiumIsRenewal."+e["Game/current.serviceId"]],p=e["Game/current.premium"],d=e["GameData/services."+e["Game/current.serviceId"]+".premium_enabled"],_=p.premiumPage,u="bPremiumActions",m="ImproveAccount",b=!1,I="pseudo_small",g=!1;if("undefined"!=typeof r)if(3==r){if(n.needSubscription)var f="common"}else if(2==r)var f="premium";else if(1==r)if(n.needSubscription)var f="premium";else var f="common";else var f="basic";if("premium"==f)var b=!0;if(b){var m="ExtendAccountImprovement";if(o)var m="ExtendAccountImprovementAgain"}else var I="small",g=!0;var v="";if(9==e["Game/current.serviceId"])var v="__Aion";if(n.needSubscription)var v="__Subscription";a.modifiers&&(u+=" "+a.modifiers),t.push("<div"+jade.attrs({id:a.id||!1,"class":[u]},{"class":!0,id:!0})+"><div"+jade.attrs({"class":["bPremiumActions__eActionControl",d&&b?"bPremiumActions__eActionControl__mRenewal":""]},{"class":!0})+">"),d?(c({id:"jsBtnBuyPremiumInGamePanel",title:s("Game-Panel",m+v),type:I,shadowed:g,className:"bUIButton__eFrame__mGamePanelPremium",link:"?popupWidget=PremiumUpgradeWidget",dataReloadSections:'PremiumUpgradeWidget: {"target":"#OverlayContent","ns":"popup"}'}),!b&&p.premiumMinPrice&&(t.push("<div"+jade.attrs({id:"gamepanel-premium-min-price","class":["bPremiumActions__eActionControl__eSubInfo",p.isPromoPrice?"bPremiumActions__eActionControl__eSubInfo__mGreen":""]},{"class":!0})+">"+(null==(jade.interp=s("Game-Panel",p.isPromoPrice?"MinPremiumPromoPriceFrom":"MinPremiumPriceFrom"))?"":jade.interp)+"&nbsp;"+jade.escape(null==(jade.interp=p.premiumMinPrice)?"":jade.interp)+"&nbsp;"),h(),t.push("</div>"))):t.push('<div class="bPremiumActions__ePremiumPageLink">'+(null==(jade.interp=p.gamePanelIngamePremium)?"":jade.interp)+"</div>"),t.push("</div>"),d&&b?(t.push('<div class="bPremiumActions__eSubinfo"><span class="bPremiumActions__eSubinfoContent">'+(null==(jade.interp=s("Game-Panel","AutoImprovement"))?"":jade.interp)+'<span class="bPseudoLink bPremiumActions__eSubinfoPseudolink"><span'+jade.attrs({id:"bPremiumActions__eAutoImprovement","data-improvement-state":""+i.subscription.autopay_enabled,"data-improvement-url":"/subscription/setAutopay?serviceAccountId="+i.service_account_id,"class":["bPremiumActions__eSubinfoPseudolinkText"]},{"data-improvement-state":!0,"data-improvement-url":!0})+">"+(null==(jade.interp=s("Game-Panel",i.subscription.autopay_enabled?"AutoImprovementOn":"AutoImprovementOff"))?"":jade.interp)+"</span></span>"),l({id:"",type:"Grey",modifiers:"bPremiumActions__eHelpIcon",hintContent:s("Game-Panel","AutoImprovementHelp"+v)}),t.push("</span></div>")):_&&p.gamePanelPremiumPage&&t.push("<a"+jade.attrs({id:"gamepanel-premium-page-link",href:p.premiumPageLink,"class":["bPremiumActions__ePremiumPageLink"]},{href:!0})+">"+jade.escape(null==(jade.interp=p.gamePanelPremiumPage)?"":jade.interp)+"</a>"),t.push("</div>")},I=e["Game/current.account"],g=e["Game/current.account.status"],f=e["Game/current.account.subscription.has_active"],v=e["Game/current.account.subscription.endtime_unix_ms"],y=(e["Game/current.data"],e["Game/current.premium"]),j=e["Game/current.disableStatus"],U="play"==e["Game/current.actionPage"],P=+new Date,S=P-v<2592e5,C=9==e["Game/current.serviceId"],x=e["Layout/premiumJustBought."+e["Game/current.serviceId"]],B=e["Game/current.flags"]||{},w=!(!B.betaTest||n.toTimestamp(B.betaTest)<n.toTimestamp());if("undefined"!=typeof I){if(3==g){if(B.needSubscription)var k="common"}else if(2==g)var k="premium";else if(1==g)if(B.needSubscription)var k="premium";else var k="common";else var k="basic";if(parseInt(I.service_account_id,10)>0);}if(w&&33==e["Game/current.serviceId"])var k="common";var G="",T=!1,L=y.actionEnabled,A=y.trialLink;if(C)var T=!0,G="__Aion";if(B.needSubscription)var G="__Subscription";var M=e["Layout/finished."+e["Game/current.serviceId"]]||!1;if(t.push("<div"+jade.attrs({"data-id":e["Game/current.serviceId"],"class":["bGamePanelCommon__eMainSection","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0,"data-id":!0})+">"),j&&j.disabled||(t.push("<form"+jade.attrs({method:"GET",action:e["Game/current.downloadUrl"],"data-id":e["Game/current.serviceId"],"class":["bGamePanelCommon__eInnerSection"]},{method:!0,action:!0,"data-id":!0})+">"),e["Game/current.account.isPremium"]||"play"==e["Game/current.actionPage"]||d({content:e["Game/current.description"],hiding:!0,type:"summary"}),c({title:s("Interface","InstallButton"),width:"full",className:"jsBtnServiceNoPlugin",id:"bGamePanel__eBtnInstallPlugin_jsId"}),o(),d({content:e["Game/current.downloadSize"],type:"subinfo",platform:"windows",align:"center",id:"bGamePanel__installPluginSize_jsId"}),t.push("</form>")),U)if(j&&j.disabled)d({type:j.type||"warning",content:j.text,hiding:!0});else{if(t.push('<div class="bGamePanelCommon__eTop">'),"install"!==M)if("common"===k&&T&&!v){var H=G;C&&(H+="__50",L&&(H+="_ver2")),d({type:"success",href:A,target:"_blank",id:"trialDurationInfo",content:s("Game-Panel","AccountIsTrial"+H),hiding:!0})}else if("common"===k&&I&&"undefined"!=typeof I.subscription&&f===!1&&v&&(S||T))d(C&&x?{type:"success",id:"premiumDurationInfo",content:s("Game-Panel","ImprovementJustBought"+G),hiding:!0}:{type:"error",id:"premiumDurationInfo",content:s("Game-Panel","ImprovementExpired"+G),hiding:!0});else if("premium"===k&&I&&I.subscription&&I.subscription.has_active){var E=I.subscription.finishTime,F=e["Layout/premiumIsRenewal."+e["Game/current.serviceId"]],D=e["Layout/premiumRenewalDays."+e["Game/current.serviceId"]];if(x){var R="success",N=Math.floor(D/30),W=D%30;if(N){var z=N+" "+r(N,"Interface","MonthPlural");W&&(z+=" "+s("Game-Panel","ImprovementMonthAndDay")+" "+W+" "+r(W,"Interface","DaysPlural"))}else var z=W+" "+r(W,"Interface","DaysPlural");d(C?F?{type:R,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementRenewal"+G),hiding:!0}:{type:R,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementJustBought"+G),hiding:!0}:F?{type:R,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementRenewal"+G)+z,hiding:!0}:{type:R,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementJustBought"+G)+z,hiding:!0})}else if("manyDays"==E.type||"lifeTime"==E.type){var R="confirmed";d({type:R,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementExpiresNotSoon"+G)+r(E.daysLeft,"Interface","TimeLeftPlural")+" "+E.daysLeft+" "+r(E.daysLeft,"Interface","DaysPlural"),hiding:!0})}else if("lifeTime"==E.type){var R="confirmed";d({type:R,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementExpiresNotSoon"+G)+r(E.daysLeft,"Interface","TimeLeftPlural")+" "+E.daysLeft+" "+r(E.daysLeft,"Interface","DaysPlural"),hiding:!0})}else{var R="warning";"threeDays"==E.type?d({type:R,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementExpiresSoon"+G)+r(E.daysLeft,"Interface","TimeLeftPlural")+" "+s("Game-Panel","ImprovementExpiresSoonSummary"+G)+" "+E.daysLeft+" "+r(E.daysLeft,"Interface","DaysPlural"),hiding:!0}):"oneDay"==E.type&&d({type:R,id:"premiumDurationInfo",content:s("Game-Panel","ImprovementExpiresVerySoon"+G)+E.timeLeft+" "+E.date,hiding:!0})}}t.push("</div>")}if(U&&(!j||!j.disabled)){if(t.push("<div"+jade.attrs({"class":["bGamePanelCommon__eBottom","bGamePanelFixed__eHiding",e["Layout/panel.isCompact"]?"bGamePanelFixed__eHiding__mCompact_true":""]},{"class":!0})+">"),"install"!==M){if(!f&&y&&!S&&y.features&&y.features.length){y.gamePanelRemoveLimitations&&t.push('<h1 class="bGamePanelCommon__eTitleName"> '+jade.escape(null==(jade.interp=y.gamePanelRemoveLimitations)?"":jade.interp)+"</h1>"),t.push('<ul class="bGamePanelCommon__ePremiumFeatures">');var O=0;(function(){var e=y.features;if("number"==typeof e.length)for(var a=0,n=e.length;a<n;a++){var i=e[a];i.showInGamePanel&&(O++,t.push("<li"+jade.attrs({"class":["bGamePanelCommon__ePremiumFeatures__eItem","bGamePanelCommon__ePremiumFeatures__eItem__mIndex"+O]},{"class":!0})+'><i class="bGamePanelCommon__ePremiumFeatures__eItem__eIcon"></i>'+jade.escape(null==(jade.interp=i.text)?"":jade.interp)),i.isNew&&t.push('<div class="bCrossconversion__eTag bCrossconversion__eTag__mGreen">'+jade.escape(null==(jade.interp=s("Interface","NewStatus"))?"":jade.interp)+"</div>"),t.push("</li>"))}else{var n=0;for(var a in e){n++;var i=e[a];i.showInGamePanel&&(O++,t.push("<li"+jade.attrs({"class":["bGamePanelCommon__ePremiumFeatures__eItem","bGamePanelCommon__ePremiumFeatures__eItem__mIndex"+O]},{"class":!0})+'><i class="bGamePanelCommon__ePremiumFeatures__eItem__eIcon"></i>'+jade.escape(null==(jade.interp=i.text)?"":jade.interp)),i.isNew&&t.push('<div class="bCrossconversion__eTag bCrossconversion__eTag__mGreen">'+jade.escape(null==(jade.interp=s("Interface","NewStatus"))?"":jade.interp)+"</div>"),t.push("</li>"))}}}).call(this),t.push("</ul>")}b()}t.push("</div>")}return t.push("</div>"),t.join("")},e.bGamePanel__workingModeNeedUpdate=function(e){var t=[],a=e||{},s=a.t,n=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},i=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),i=[],r=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var r=r+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var r=r+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var r=r+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&i.push(p),o.length&&i.push(o),l=i.join("; "),a.href){var r=r+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",r]},{"class":!0,style:!0})+">"),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var r=r+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&n({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},r=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});e.action?(t.push("<form"+jade.attrs({action:""+e.action,method:"get",id:e.id||!1,"class":["bSmallButtonForm"]},{action:!0,method:!0,id:!0})+">"),o(e,!0),t.push("</form>")):o(e,!1)},o=function(e,a){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),s=e.modifiers||"";if(e.isBlock)var s=s+" bSmallButton__mDisplay_Block";t.push("<button"+jade.attrs({style:!!e.minWidth&&"min-width: "+e.minWidth+";",id:!a&&(e.id||!1),"class":["bSmallButton",s]},{"class":!0,style:!0,id:!0})+'><span class="bSmallButton__eShine">'+(null==(jade.interp=e.text)?"":jade.interp)+"</span></button>")};return t.push('<div class="bGamePanelCommon__eMainSection">'),i({type:"warning",content:s("Game-Panel","New4GameAppNeeded")}),t.push('<div class="bGamePanel__eContainer bGamePanel__eContainer__mType_shift"><div class="bGamePanel__eContainer bGamePanel__eContainer__mType_inline bGamePanel__eContainer__mType_centered">'),r({text:s("Interface","Download4GameAppButton"),action:e["4game/app.downloadUrl"],id:"jsGamePanelDownloadApp"}),i({type:"subinfo",content:e["4game/app.size"],align:"center",hiding:!0}),t.push("</div></div></div>"),t.join("")},e.bGamePanelMini=function(e){var t=[],a=e||{},s=(a.newParams,a.typeModifiers,a.modifiers,a.data),n=a.t,i=a.utils,r=a.key,o=a.state,l=a.labels,p=a.lang,d=a.stageSizes,_=a.serviceId,u=a.size,c=a.progress,m=a.stages,h=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},b=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});I(e)};t.push("<!-- сама кнопка-->");var I=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),g(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),g(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var g=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),h({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},h=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},f=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",p="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var p=p+"True";else var p=p+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",p]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&h({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&h({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&h({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},h=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},f=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",p="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var p=p+"True";else var p=p+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",p]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&h({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&h({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&h({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},v=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&v(s);var y=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),v({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},j=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.stages||[],r=a.serviceId||e["Game/current.serviceId"],o=a.stageSize||0;s.length&&(s.length=1);var l=Math.floor(a.progress)||0,p=100-l,l=l+"%",p=p+"%",d="";if("small"==a.size)var d="bUIProgressBar__mType_small";if("pause"==a.state)var d=d+" bUIProgressBar__mState_pause";else if("prepare"==a.state)var d=d+" bUIProgressBar__mState_prepare";else if("repair"==a.state)var d=d+" bUIProgressBar__mState_repair";if(t.push('<div class="bUIProgressBar__eContainer"><div'+jade.attrs({id:a.id,"class":["bUIProgressBar",d]},{"class":!0,id:!0})+'><div class="bUIProgressBar__eInner"><div class="bUIProgressBar__eStageHighlights">'),function(){var e=s;if("number"==typeof e.length)for(var a=0,n=e.length;a<n;a++){var i=e[a];t.push("<i"+jade.attrs({style:"margin-right: -"+i+"%","class":["bUIProgressBar__eStageHighlight"]},{style:!0})+"></i>")}else{var n=0;for(var a in e){n++;var i=e[a];t.push("<i"+jade.attrs({style:"margin-right: -"+i+"%","class":["bUIProgressBar__eStageHighlight"]},{style:!0})+"></i>")}}}.call(this),t.push("</div>"),"small"!=a.size&&t.push('<span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=l)?"":jade.interp)+"</span>"),s.length&&(t.push('<div class="bUIProgressBar__eStages">'),function(){var e=s;if("number"==typeof e.length)for(var n=0,i=e.length;n<i;n++){var r=e[n];t.push("<div"+jade.attrs({style:"left: "+r+"%","class":["bUIProgressBar__eStageShift"]},{style:!0})+'><div class="bUIProgressBar__eStage">'),"small"!=a.size&&t.push("<div"+jade.attrs({style:"left: "+(100+(50-r))+"%","class":["bUIProgressBar__eStageStatus"]},{style:!0})+'><span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=l)?"":jade.interp)+"</span></div>"),t.push("</div></div>")}else{var i=0;for(var n in e){i++;var r=e[n];t.push("<div"+jade.attrs({style:"left: "+r+"%","class":["bUIProgressBar__eStageShift"]},{style:!0})+'><div class="bUIProgressBar__eStage">'),"small"!=a.size&&t.push("<div"+jade.attrs({style:"left: "+(100+(50-r))+"%","class":["bUIProgressBar__eStageStatus"]},{style:!0})+'><span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=l)?"":jade.interp)+"</span></div>"),t.push("</div></div>")}}}.call(this),t.push("</div>")),t.push("<div"+jade.attrs({style:"left: -"+p+";","class":["bUIProgressBar__eTrack"]},{style:!0})+"><div"+jade.attrs({style:"left: "+p+";","class":["bUIProgressBar__eComplete"]},{style:!0})+">"),"small"!=a.size&&t.push('<span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=l)?"":jade.interp)+"</span>"),t.push('</div></div></div></div><div class="bUIProgressBar__eExtra">'),s.length){if(t.push('<div class="bUIProgressBar__eStageInfo"><div'+jade.attrs({style:"width: "+s[0]+"%","class":["bUIProgressBar__eStageInfoCell"]},{style:!0})+'></div><div class="bUIProgressBar__eStageInfoCell"><div class="bUIProgressBar__eStageInfoBubble"><i'+jade.attrs({style:"left: "+s[0]+"%","class":["bUIProgressBar__eStageInfoBubble__eArrow"]},{style:!0})+'></i><div class="bUIProgressBar__eStageInfoBubble__eContent">'),f({content:n("Game-Panel","LiteClientFirstStageHintText",{size:i.getSizeBinaryLocalized(o)}),type:"description-highlight"}),!a.hideHelp){var _=n("Game-Panel","LiteClientDescription."+r),_=_||n("Game-Panel","LiteClientDescription");y({type:"YellowBig",hintContent:_,hintModifiers:"bUIHint__ePopup__mRoundCorners bUIHint__ePopup__mSmall"})}t.push("</div></div></div></div>")}t.push("</div></div>")};s&&j(s);var v=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&v(s);var y=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),v({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,
parentContext:!0,modifiers:n}),t.push("</span>")},h=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},f=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",p="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var p=p+"True";else var p=p+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",p]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&h({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&h({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&h({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},U=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.serviceId||e["Game/current.serviceId"],r=a.stageSizes||e["Game/current.stageSizes"],o=a.hideStageSize||e["Game/current.lightClientOnlyForNewcomers"],l=e[e["Game/current.statusPrefix"]]||{},p=l.info||{stageSizes:[]},d=l.readyStage,_=d>-1,u=_&&p.stageSizes[0]||r&&r[0]||0;if(!o&&u){if(t.push('<div class="bGamePanel__eStageInfo">'),f({content:n("Game-Panel","LiteClientFirstStageSize",{size:i.getSizeBinaryLocalized(u)}),type:"description-highlight"}),!a.hideHelp){var c=n("Game-Panel","LiteClientDescription."+s),c=c||n("Game-Panel","LiteClientDescription");y({type:"YellowBig",hintContent:c,hintModifiers:"bUIHint__ePopup__mRoundCorners bUIHint__ePopup__mSmall"})}t.push("</div>")}},P="/"+r+"/play/";t.push("<div"+jade.attrs({"data-state":o,"class":["bGamePanelMini"]},{"data-state":!0})+">");var S=l&&l.install||("ru"===p?"Установить":"Install"),C=l&&l.update||("ru"===p?"Обновить":"Update"),x=l&&l.play||("ru"===p?"Играть":"Play"),B=(d||[])[0];return"not_installed"==o?(b({title:S,width:"full"}),t.push('<div class="bGamePanelMini__eInfo">'),d&&U({serviceId:_,stageSizes:d,hideHelp:!0}),f({content:u,type:"subinfo",platform:"windows",align:"center"}),t.push("</div>")):"paused"==o?b({title:S,width:"full"}):"progress"==o?(j({progress:c,state:c?"progress":"prepare",stages:m,hideHelp:!0,stageSize:B}),t.push('<div class="bGamePanelMini__eInfo">'),f({content:'Подробнее на <a href="'+P+'">странице сообщества</a>',type:"subinfo"}),t.push("</div>")):"installed"==o||"playing"==o?b({title:x,width:"full"}):"pausing"==o||"resuming"==o||"cancelling"==o?j({progress:c,state:"prepare",stages:m,hideHelp:!0,stageSize:B}):"update_required"==o||"full_update_required"==o?b({title:C,width:"full"}):"spinner"==o?b({title:"Что-то происходит",loading:!0,disabled:!0,width:"full"}):"need_update"==o?f.call({block:function(){f({content:'Подробнее на <a href="'+P+'">странице сообщества</a>',type:"subinfo"})}},{content:"Необходимо установить обновление",type:"warning"}):"error"==o?f.call({block:function(){f({content:'Подробнее на <a href="'+P+'">странице сообщества</a>',type:"subinfo"})}},{content:"Запуск игры невозможен",type:"error"}):"install_error"==o?f.call({block:function(){f({content:'Подробнее на <a href="'+P+'">странице сообщества</a>',type:"subinfo"})}},{content:"Установка невозможна",type:"error"}):"need_password"==o?f.call({block:function(){f({content:'Введи его на <a href="'+P+'">странице сообщества</a>',type:"subinfo"})}},{content:"Для запуска игры нужен пароль",type:"warning"}):"app_error"==o&&f.call({block:function(){f({content:'Подробнее на <a href="'+P+'">странице сообщества</a>',type:"subinfo"})}},{content:"Произошла ошибка",type:"error"}),t.push("</div>"),t.join("")},e.bGamesPromoList__layout=function(e){var t=[],a=e||{},s=(a.typeModifiers,a.modifiers,a.data),n=a.t,i=a.utils,r=a.model,o=a.serviceId,l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},p=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&l({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&l({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&l({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},p=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&l({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&l({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&l({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},d=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&d(s);var _=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),d({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},u=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.stages||[],r=a.serviceId||e["Game/current.serviceId"],o=a.stageSize||0;s.length&&(s.length=1);var l=Math.floor(a.progress)||0,d=100-l,l=l+"%",d=d+"%",u="";if("small"==a.size)var u="bUIProgressBar__mType_small";if("pause"==a.state)var u=u+" bUIProgressBar__mState_pause";else if("prepare"==a.state)var u=u+" bUIProgressBar__mState_prepare";else if("repair"==a.state)var u=u+" bUIProgressBar__mState_repair";if(t.push('<div class="bUIProgressBar__eContainer"><div'+jade.attrs({id:a.id,"class":["bUIProgressBar",u]},{"class":!0,id:!0})+'><div class="bUIProgressBar__eInner"><div class="bUIProgressBar__eStageHighlights">'),function(){var e=s;if("number"==typeof e.length)for(var a=0,n=e.length;a<n;a++){var i=e[a];t.push("<i"+jade.attrs({style:"margin-right: -"+i+"%","class":["bUIProgressBar__eStageHighlight"]},{style:!0})+"></i>")}else{var n=0;for(var a in e){n++;var i=e[a];t.push("<i"+jade.attrs({style:"margin-right: -"+i+"%","class":["bUIProgressBar__eStageHighlight"]},{style:!0})+"></i>")}}}.call(this),t.push("</div>"),"small"!=a.size&&t.push('<span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=l)?"":jade.interp)+"</span>"),s.length&&(t.push('<div class="bUIProgressBar__eStages">'),function(){var e=s;if("number"==typeof e.length)for(var n=0,i=e.length;n<i;n++){var r=e[n];t.push("<div"+jade.attrs({style:"left: "+r+"%","class":["bUIProgressBar__eStageShift"]},{style:!0})+'><div class="bUIProgressBar__eStage">'),"small"!=a.size&&t.push("<div"+jade.attrs({style:"left: "+(100+(50-r))+"%","class":["bUIProgressBar__eStageStatus"]},{style:!0})+'><span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=l)?"":jade.interp)+"</span></div>"),t.push("</div></div>")}else{var i=0;for(var n in e){i++;var r=e[n];t.push("<div"+jade.attrs({style:"left: "+r+"%","class":["bUIProgressBar__eStageShift"]},{style:!0})+'><div class="bUIProgressBar__eStage">'),"small"!=a.size&&t.push("<div"+jade.attrs({style:"left: "+(100+(50-r))+"%","class":["bUIProgressBar__eStageStatus"]},{style:!0})+'><span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=l)?"":jade.interp)+"</span></div>"),t.push("</div></div>")}}}.call(this),t.push("</div>")),t.push("<div"+jade.attrs({style:"left: -"+d+";","class":["bUIProgressBar__eTrack"]},{style:!0})+"><div"+jade.attrs({style:"left: "+d+";","class":["bUIProgressBar__eComplete"]},{style:!0})+">"),"small"!=a.size&&t.push('<span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=l)?"":jade.interp)+"</span>"),t.push('</div></div></div></div><div class="bUIProgressBar__eExtra">'),s.length){if(t.push('<div class="bUIProgressBar__eStageInfo"><div'+jade.attrs({style:"width: "+s[0]+"%","class":["bUIProgressBar__eStageInfoCell"]},{style:!0})+'></div><div class="bUIProgressBar__eStageInfoCell"><div class="bUIProgressBar__eStageInfoBubble"><i'+jade.attrs({style:"left: "+s[0]+"%","class":["bUIProgressBar__eStageInfoBubble__eArrow"]},{style:!0})+'></i><div class="bUIProgressBar__eStageInfoBubble__eContent">'),p({content:n("Game-Panel","LiteClientFirstStageHintText",{size:i.getSizeBinaryLocalized(o)}),type:"description-highlight"}),!a.hideHelp){var c=n("Game-Panel","LiteClientDescription."+r),c=c||n("Game-Panel","LiteClientDescription");_({type:"YellowBig",hintContent:c,hintModifiers:"bUIHint__ePopup__mRoundCorners bUIHint__ePopup__mSmall"})}t.push("</div></div></div></div>")}t.push("</div></div>")};s&&u(s);var c=r["MyGames/gameData"][o],m="/"+c.key+"/install/",h=(r["GameData/services."+o+".static_install"],r["L4G.Application/in-status.services."+o]),b=h.info,I=b.size,g=b.progress,f=h.readyStage,v=f>-1,y=v&&b.stageSizes||[],j=y[0],U=y.map(i.prepareStageSizes(I));return t.push('<div class="bGamesPromoListItem__eProgress"><div class="bGamesPromoListItemProgress__eDesc"><a'+jade.attrs({href:m,"data-link-service-id":""+o,id:"GamesPromoListItemTitle_"+o,"class":["bGamesPromoListItemProgress__eTitle"]},{href:!0,"data-link-service-id":!0,id:!0})+"><img"+jade.attrs({width:"64",height:"64",src:"/c/home/icon-"+o+"-home.png","class":["bGamesPromoListItemProgress__ePic"]},{width:!0,height:!0,src:!0})+"/>"+(null==(jade.interp=r["MyGames/gameData"][o].title)?"":jade.interp)+"</a><div"+jade.attrs({id:"GamesPromoListItemStatus_"+o,"class":["bGamesPromoListItemProgress__eStatus"]},{id:!0})+'><span class="bGamesPromoListItemProgress__eStatusText">&nbsp;</span>'),p({content:n("Interface","Error"),type:"error",href:m}),t.push('</div><div class="bGamesPromoListItemProgress__eTrack"><div class="bGamesPromoListItemProgress__eProgressBar">'),u({progress:g,size:"small",stages:U,hideHelp:!0,stageSize:j}),t.push("</div><div"+jade.attrs({id:"GamesPromoListItemTrackStatus_"+o,"class":["bGamesPromoListItemProgress__eTrackStatus"]},{id:!0})+'><span class="bGamesPromoListItemProgress__eTrackStatusUnpacking">'+jade.escape(null==(jade.interp=n("Game-Panel","Unpacking"))?"":jade.interp)+'</span><span class="bGamesPromoListItemProgress__eTrackStatusProgress"><span class="bGamesPromoListItemProgress__eTrackStatusDownloaded">&nbsp;</span>&nbsp;'+(null==(jade.interp=n("Interface","ConjFrom"))?"":jade.interp)+'&nbsp;<span class="bGamesPromoListItemProgress__eTrackStatusSize">&nbsp;</span><span class="bGamesPromoListItemProgress__eTrackStatusSpeed">&nbsp;</span></span></div></div></div></div>'),t.join("")},e.bHelp_mixin=function(e){var t=[],a=e||{},s=(a.typeModifiers,a.modifiers,a.data),n=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&n(s);return t.join("")},e.bInfoMessage__mixin=function(e){var t=[];return t.join("")},e.bLinkButton_mixin=function(e){var t=[];return t.join("")},e.bPlayPromo__eArticle=function(e){var t=[],a=e||{},s=a.data,n=s.caption||null,i=s.image||null,r=s.link||null,o=s.tag||null,l=s.invisible||!1,p=s.theme||null,d=s.big||!1,_="";if(p)var _=_+" bPlayPromo__eArticle__mTheme_"+p;if(d)var _=_+" bPlayPromo__eArticle__mType_big";if(l)var _=_+" bPlayPromo__eArticle__mType_invisible";return t.push("<article"+jade.attrs({"class":["bPlayPromo__eArticle",_]},{"class":!0})+'><div class="bPlayPromo__eWrap"><a'+jade.attrs({href:r,target:"_blank","class":["bPlayLayout__eLink"]},{href:!0,target:!0})+'><span class="bPlayPromo__eImage"><img src="data:image/gif;base64,R0lGODlhOgAkAIAAAP///wAAACH5BAEAAAAALAAAAAA6ACQAAAIuhI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuC8fyTNf2jef6zvf+DwwKh0RGAQA7" class="bPlayPromo__eSizer"/><img'+jade.attrs({src:i,width:"290",height:"180","class":["bPlayPromo__eImg"]},{src:!0,width:!0,height:!0})+"/></span>"+(null==(jade.interp=n)?"":jade.interp)),o&&t.push('<span class="bPlayPromo__eTag">'+jade.escape(null==(jade.interp=o)?"":jade.interp)+"</span>"),t.push("</a></div></article>"),t.join("")},e.bPremiumActions_mixin=function(e){var t=[],a=e||{},s=(a.typeModifiers,a.modifiers,a.data),n=(a.newParams,a.t),i=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&i(s);t.push("<!-- сама кнопка-->");t.push("<!-- добавляем дополнительный элемент, если нужно-->");var r=function(){var a=(this.block,this.attributes||{},this.escaped||{},e["L4G.Currency"]);t.push('<span class="bRubleSymbol">'),"RUB"==a?t.push(null==(jade.interp=n("Interface","RoubleSymbol"))?"":jade.interp):"BRL"==a?t.push(jade.escape(null==(jade.interp="R$")?"":jade.interp)):t.push(jade.escape(null==(jade.interp="&euro;")?"":jade.interp)),t.push("</span>")};s&&r();return t.join("")},e.bPreorderSubscription_mixin=function(e){var t=[],a=e||{},s=a.modifiers,n=a.dataAttr,i=a.fieldAttr,r=(a.newParams,a.t),o=a.data,l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},p=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{}),r="password"==e.type,o=e.errorStroke||!0;s=[],n={},i={},e.modifiers&&s.push(e.modifiers),e.placeholder&&s.push("jsUIInput__mPlaceholder"),(e.pattern||e.required)&&s.push("jsUIInput__mValidate"),e.patternReplaceExclude&&s.push("jsUIInput__mReplace"),"full"==e.width&&s.push("bUIInput__mWidth_full"),o&&s.push("jsUIInput__mHasErrorStroke"),r&&s.push("bUIInput__mType_Password","jsUIInput__mPassword"),(e.disabled||e.readonly)&&s.push("bUIInput__mEvent_Disabled"),e.dataAttributes&&function(){var t=e.dataAttributes;if("number"==typeof t.length)for(var a=0,s=t.length;a<s;a++){var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}else{var s=0;for(var a in t){s++;var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}}}.call(this),t.push("<span"+jade.attrs({"data-js-widgets":"block!bUIInput","data-target":"bUIInput","class":["jsUIInput","bUIInput",s.join(" ")]},{"class":!0,"data-js-widgets":!0,"data-target":!0})+'><span class="bUIInput__eBorder"><span class="bUIInput__eOutline jsUIInput__eOutline"><span class="bUIInput__ePlaceholderGap"><span class="bUIInput__ePlaceholder"></span><span class="bUIInput__ePlaceholderText">'),e.placeholder?t.push(null==(jade.interp=e.placeholder)?"":jade.interp):t.push("&nbsp;"),t.push("</span><input"+jade.attrs({disabled:"disabled","class":["bUIInput__eInputBg","jsUIInput__eInputBg",e.placeholder&&!e.value?"bUIInput__eInputBg__mPlaceholder_Visible":void 0]},{"class":!0,disabled:!0})+'/><span class="bUIInput__eShadow"></span>'),r&&t.push("<input"+jade.attrs({type:"text",name:e.name,disabled:"disabled",id:e.id?e.id+"__PlainText":void 0,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,required:e.required||e.pattern?"required":void 0,pattern:e.pattern,tabindex:e.tabindex,"data-group":e.group,"class":["jsUIInput__eControls","jsUIInput__ePasswordText","bUIInput__eControl","bUIInput__ePassword"]},{type:!0,name:!0,disabled:!0,id:!0,autocomplete:!0,maxlength:!0,required:!0,pattern:!0,tabindex:!0,"data-group":!0})+"/>"),t.push("<input"+jade.attrs({id:e.id,type:e.type||"text",name:e.name,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,value:e.value,disabled:e.disabled?"disabled":void 0,readonly:e.readonly?"readonly":void 0,autofocus:e.autofocus?"autofocus":void 0,"data-error":e.placeholder?e.placeholder:void 0,required:e.required||e.pattern?"required":void 0,min:e.min,max:e.max,pattern:e.pattern,"data-pattern-replace-exclude":e.patternReplaceExclude,tabindex:e.tabindex,"data-error-area":e.errorArea,"data-can-be-empty":e.canBeEmpty?"true":void 0,onclick:e.errorsSet?"return "+JSON.stringify(e.errorsSet):void 0,"data-group":e.group,"class":["jsUIInput__eControl","jsUIInput__eControls","bUIInput__eControl",r?"jsUIInput__ePassword":void 0]},{"class":!0,id:!0,type:!0,name:!0,autocomplete:!0,maxlength:!0,value:!0,disabled:!0,readonly:!0,autofocus:!0,"data-error":!0,required:!0,min:!0,max:!0,pattern:!0,"data-pattern-replace-exclude":!0,tabindex:!0,"data-error-area":!0,"data-can-be-empty":!0,onclick:!0,"data-group":!0})+"/></span>"),r&&(t.push('<span class="bUIInput__ePasswordEye jsUIInput__ePasswordEye"></span>'),a&&a()),t.push("</span></span></span>"),e.errorMessage&&l(e)},d=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},_=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});u(e)};t.push("<!-- сама кнопка-->");var u=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),c(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),c(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var c=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),d({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},d=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},d=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},m=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",p="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var p=p+"True";else var p=p+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",p]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&d({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&d({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&d({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},h=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});if(s=[],e.theme&&s.push("bPreorderSubscription__mTheme-"+e.theme),t.push("<div"+jade.attrs({"class":["bPreorderSubscription",s.join(" ")]},{"class":!0})+">"),"loading"==e.state)d({type:"big"});else if("failure"==e.state)m.call({block:function(){m({content:"Попробуйте обновить страницу",type:"subinfo"})}},{content:"Что-то пошло не так!",type:"error"});else if("need_name"==e.state||"submit_username"==e.state)t.push('<form novalidate="novalidate" data-target="bForm_simple" data-validate-submit="true" data-js-widgets="block!bForm/bForm_simple" class="bPreorderSubscription__eForm jsForm"><ul class="bPreorderSubscription__eColumns bPreorderSubscription__eColumns__mDefaultIndent bPreorderSubscription__eColumns__mCount-3"><li class="bPreorderSubscription__eColumn bPreorderSubscription__eColumn__mWidth-2">'),p({id:"field_fio",name:"username",placeholder:"Имя и фамилия",autofocus:!0,width:"full",required:!0,errorStroke:!1,errorMessage:!1,errorArea:".jsUserName__Error",errorsSet:{empty:"Введите имя и фамилию",format:"Проверьте правильность ввода имени и фамилии"},pattern:"^\\s*\\D+\\s+\\D+\\s*$"}),l({modifiers:"jsUserName__Error"}),t.push('<p class="bPreorderSubscription__eDesc__mSubDesc">Пожалуйста, укажи свои реальные данные. В&nbsp;дальнейшем ты&nbsp;не&nbsp;сможешь изменить их&nbsp;самостоятельно</p></li><li class="bPreorderSubscription__eColumn">'),_({id:"button_accepte_fio",title:"Подтвердить",loading:"submit_username"==e.state,width:"full",shadowed:!0,color:"green"}),t.push('<p class="bPreorderSubscription__eDesc__mCenter"><a id="link_cancel_fio" class="bPreorderSubscription__eLink bPreorderSubscription__eLink__mCancelUsername">Отменить</a></p></li></ul></form>');else{t.push("<ul"+jade.attrs({"class":["bPreorderSubscription__eColumns","bPreorderSubscription__eColumns__mCouponsIndent","bPreorderSubscription__eColumns__mCount-"+e.couponsCount]},{"class":!0})+">");var a=0;(function(){var s=e.coupons;if("number"==typeof s.length)for(var n=0,i=s.length;n<i;n++){var o=s[n];if(t.push('<li class="bPreorderSubscription__eColumn"><div class="bPreorderSubscription__eCoupon"><div class="bPreorderSubscription__eCoupon__eControl">'),
"purchase"==e.state)if(o.id==e.activeCouponId)var l=!0,p=!1;else var l=!1,p=!0;_({id:o.id,name:"purchase",title:"на "+r("Interface",o.nameId+" monthly"),loading:l,disabled:p,width:"full",shadowed:!0,color:"green",className:"bUIButton__mCoupon-"+ ++a}),t.push('</div><p class="bPreorderSubscription__eCoupon__ePriceContainer">'),o.oldPrice&&t.push('<span class="bPreorderSubscription__eCoupon__ePrice bPreorderSubscription__eCoupon__ePrice__mOldPrice"><i class="bPreorderSubscription__eIcon bPreorderSubscription__eIcon__mSvg bPreorderSubscription__eIcon__mDash"><svg viewBox="0 0 100 100" preserveAspectRatio="none" class="bPreorderSubscription__eIcon__eSvg"><path d="M0,60 L 100,10 100,20 0,70 Z" class="bPreorderSubscription__eIcon__ePath"></path></svg></i>'+(null==(jade.interp=o.oldPrice)?"":jade.interp)+'&nbsp;<span class="bRubleSymbol">руб</span></span>'),t.push('<span class="bPreorderSubscription__eCoupon__ePrice">'+(null==(jade.interp=o.price)?"":jade.interp)+'&nbsp;<span class="bRubleSymbol">руб</span></span></p></div></li>')}else{var i=0;for(var n in s){i++;var o=s[n];if(t.push('<li class="bPreorderSubscription__eColumn"><div class="bPreorderSubscription__eCoupon"><div class="bPreorderSubscription__eCoupon__eControl">'),"purchase"==e.state)if(o.id==e.activeCouponId)var l=!0,p=!1;else var l=!1,p=!0;_({id:o.id,name:"purchase",title:"на "+r("Interface",o.nameId+" monthly"),loading:l,disabled:p,width:"full",shadowed:!0,color:"green",className:"bUIButton__mCoupon-"+ ++a}),t.push('</div><p class="bPreorderSubscription__eCoupon__ePriceContainer">'),o.oldPrice&&t.push('<span class="bPreorderSubscription__eCoupon__ePrice bPreorderSubscription__eCoupon__ePrice__mOldPrice"><i class="bPreorderSubscription__eIcon bPreorderSubscription__eIcon__mSvg bPreorderSubscription__eIcon__mDash"><svg viewBox="0 0 100 100" preserveAspectRatio="none" class="bPreorderSubscription__eIcon__eSvg"><path d="M0,60 L 100,10 100,20 0,70 Z" class="bPreorderSubscription__eIcon__ePath"></path></svg></i>'+(null==(jade.interp=o.oldPrice)?"":jade.interp)+'&nbsp;<span class="bRubleSymbol">руб</span></span>'),t.push('<span class="bPreorderSubscription__eCoupon__ePrice">'+(null==(jade.interp=o.price)?"":jade.interp)+'&nbsp;<span class="bRubleSymbol">руб</span></span></p></div></li>')}}}).call(this),t.push("</ul>")}t.push("</div>")};return o&&h(o),t.join("")},e.bPseudoButton_mixin=function(e){var t=[];return t.join("")},e.bRubleSymbol_mixin=function(e){var t=[],a=e||{},s=a.t,n=a.data,i=function(){var a=(this.block,this.attributes||{},this.escaped||{},e["L4G.Currency"]);t.push('<span class="bRubleSymbol">'),"RUB"==a?t.push(null==(jade.interp=s("Interface","RoubleSymbol"))?"":jade.interp):"BRL"==a?t.push(jade.escape(null==(jade.interp="R$")?"":jade.interp)):t.push(jade.escape(null==(jade.interp="&euro;")?"":jade.interp)),t.push("</span>")};return n&&i(),t.join("")},e.bSetContacts=function(e){var t=[],a=e||{},s=(a.modifiers,a.dataAttr,a.fieldAttr,a.newParams,a.t),n=a.resendLinkAttrs,i=a.errors,r=a.config,o=(a.typeModifiers,a.data),l=a.state,p=a.identityParts,d=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')};t.push("<!-- сама кнопка-->");t.push("<!-- добавляем дополнительный элемент, если нужно-->");var d=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},d=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},_=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a='class="bSetContacts__eLink"',i='data-resend-code-handler-id="'+e.resendCode+'"';'id="'+e.switchContactTypeId+'"','data-switch-contact-type-handler-id="'+e.switchContactType+'"';if(n=[a,i].join(" "),t.push("<div"+jade.attrs({id:e.id,"class":["bUIPopup__eFooter","bUIPopup__eFooter__mPadding_True"]},{id:!0})+'><div class="bUIPopup__eFooter__eContent">'),e.showHelper||e.text)switch(e.type){case"tel":t.push('<b class="bUIPopup__eText bUIPopup__eText__mStyle_Bold bUIPopup__eText__mColor_Red">'+(null==(jade.interp=s("User","SetContactNoSMSTitle"))?"":jade.interp)+"</b>"),e.resendCode?t.push(null==(jade.interp=s("User","SetContactNoSMSResend",{attributes:n}))?"":jade.interp):t.push(null==(jade.interp=s("User","SetContactNoSMSCalmDown"))?"":jade.interp);break;case"email":t.push('<b class="bUIPopup__eText bUIPopup__eText__mStyle_Bold bUIPopup__eText__mColor_Red">'+(null==(jade.interp=s("User","SetContactNoEmailTitle"))?"":jade.interp)+"</b>"+(null==(jade.interp=s("User","SetContactNoEmailDesc"))?"":jade.interp)),e.resendCode&&t.push(null==(jade.interp=s("User","SetContactNoEmailResend",{attributes:n}))?"":jade.interp);break;default:t.push(null==(jade.interp=e.text)?"":jade.interp)}if(e.switchContactType){if(t.push("<a"+jade.attrs({id:e.switchContactTypeId,"data-switch-contact-type-handler-id":e.switchContactType,"class":["bSetContacts__eLink"]},{id:!0,"data-switch-contact-type-handler-id":!0})+">"),e.switchContactTypeText)t.push(null==(jade.interp=e.switchContactTypeText)?"":jade.interp);else switch(e.type){case"tel":t.push(null==(jade.interp=s("User","SetContactUseEmail"))?"":jade.interp);break;case"email":t.push(null==(jade.interp=s("User","SetContactUseMobile"))?"":jade.interp)}t.push("</a>")}e.changeMobileNumber&&t.push('<a href="#" class="bSetContacts__eLink">'+(null==(jade.interp=s("User","SetContactChangeMobile"))?"":jade.interp)+"</a>"),t.push('</div><div class="bUIPopup__eFooter__eLoaderContainer">'),d({type:"black"}),t.push("</div></div>")},u=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});switch(e.error){case i.NO_L4G_APP:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=s("User","SetContactErrorNoL4GApp"))?"":jade.interp)+"</div>"),_({text:s("User","SetContactErrorNoL4GAppSolution")});break;case i.UNKNOWN:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=s("User","SetContactErrorUnknown"))?"":jade.interp)+"</div>"),_({text:s("User","SetContactErrorUnknownSolution")});break;case i.DEVICE_IS_TRUSTED:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=s("User","SetContactErrorDeviseIsTrusted"))?"":jade.interp)+"</div>");break;case i.NO_DEVICE_TO_DELETE:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=s("User","SetContactErrorNoDeviceToDelete"))?"":jade.interp)+"</div>"),_({text:s("User","SetContactErrorNoDeviceToDeleteSolution")});break;case i.FORBIDDEN_OPERATION:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=s("User","SetContactErrorForbidden"))?"":jade.interp)+"</div>");break;case i.UNABLE_TO_CHANGE_MOBILE:t.push('<div id="jsSetContactWidget__UnableToChangeMobile" class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=s("User","unableToChangeMobile__text",{link:r.supportUrl}))?"":jade.interp)+"</div>");break;case i.CODE_EXPIRED:t.push('<div id="jsSetContactWidget__CodeExpired" class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=s("User","codeExpired__text"))?"":jade.interp)+"</div>");break;case i.CUSTOM:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=e.errorText||s("User","SetContactErrorUnknown"))?"":jade.interp)+"</div>")}},c=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};o&&c(o);if(l.identity){p=l.identity.split(":");p[0],p[1]}return t.push("<form"+jade.attrs({novalidate:"novalidate","data-target":"bForm_simple","data-validate-submit":"true","data-js-widgets":"block!bForm/bForm_simple","data-submit-handler-id":l.submitHandlerId},{novalidate:!0,"data-target":!0,"data-validate-submit":!0,"data-js-widgets":!0,"data-submit-handler-id":!0})+">"),l.error?u({error:l.error}):t.push(""),t.push("</form>"),t.join("")},e.bSetContacts_mixins=function(e){var t=[],a=e||{};a.modifiers,a.dataAttr,a.fieldAttr,a.newParams,a.t,a.resendLinkAttrs,a.errors,a.config;t.push("<!-- сама кнопка-->");t.push("<!-- добавляем дополнительный элемент, если нужно-->");return t.join("")},e.bShootingRange_mixin=function(e){var t=[],a=e||{},s=(a.newParams,a.data),n=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},i=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});r(e)};t.push("<!-- сама кнопка-->");var r=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),o(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),o(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var o=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),n({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},l=function(e){this.block,this.attributes||{},this.escaped||{};e.addMoreMoney?(t.push('<form action="./?popupWidget=PaymentTerminalWidget" method="get" data-reload-sections="PaymentTerminalWidget: {&quot;target&quot;:&quot;#OverlayContent&quot;,&quot;ns&quot;:&quot;popup&quot;}"><input type="hidden" name="popupWidget" value="PaymentTerminalWidget"/>'),i({title:e.title}),t.push("</form>")):(t.push("<form"+jade.attrs({action:e.url,"class":["pPb_bShootingRange__eGame__ePaymentForm"]},{action:!0})+"><input"+jade.attrs({type:"hidden",name:"item",value:e.item},{type:!0,name:!0,value:!0})+"/>"),i({title:e.title}),t.push("</form>"))};return s&&l(s),t.join("")},e.bSmallButton_mixin=function(e){var t=[];return t.join("")},e.bUIButton=function(e){var t=[];return t.join("")},e.bUIButton_mixin=function(e){var t=[],a=e||{};a.newParams;t.push("<!-- сама кнопка-->");t.push("<!-- добавляем дополнительный элемент, если нужно-->");return t.join("")},e.bUICaptcha_mixin=function(e){var t=[],a=e||{};a.modifiers,a.dataAttr,a.fieldAttr,a.t;return t.join("")},e.bUICheckbox_mixin=function(e){var t=[],a=e||{},s=(a.typeModifiers,a.modifiers,a.data),n=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&n(s);return t.join("")},e.bUIErrorMessage_mixin=function(e){var t=[],a=e||{};a.modifiers;return t.join("")},e.bUIHint_mixin=function(e){var t=[],a=e||{},s=(a.typeModifiers,a.modifiers,a.data),n=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};return s&&n(s),t.join("")},e.bUIIcons_mixin=function(e){var t=[],a=e||{};a.typeModifiers,a.modifiers;return t.join("")},e.bUIInput_mixin=function(e){var t=[],a=e||{};a.modifiers,a.dataAttr,a.fieldAttr;return t.join("")},e.bUIProgressBar_mixin=function(e){var t=[],a=e||{},s=(a.typeModifiers,a.modifiers,a.data),n=a.t,i=a.utils,r=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},o=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),o.length&&n.push(o),l=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},l=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};s&&l(s);var p=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.type||"Grey",s=e.hintContent||"",n=e.hintModifiers,i=!e.contentRaw,r=e.hintArrowPosition||"right";t.push("<span"+jade.attrs({id:e.id||!1,"class":["bHelp",e.modifiers||""]},{"class":!0,id:!0})+"><span"+jade.attrs({id:!!e.id&&e.id+"-helpIcon","class":["bUIIcons__eIcon","jsUIIcons__eIcon","bUIIcons__eIcon__mType_Question"+a]},{"class":!0,id:!0})+"></span>"),l({id:!!e.id&&e.id+"-helpHint",content:s,escapedContent:i,arrow:r,parentContext:!0,modifiers:n}),t.push("</span>")},d=function(a){var a=(this.block,this.attributes||{},this.escaped||{},a||{}),s=a.stages||[],r=a.serviceId||e["Game/current.serviceId"],l=a.stageSize||0;s.length&&(s.length=1);var d=Math.floor(a.progress)||0,_=100-d,d=d+"%",_=_+"%",u="";if("small"==a.size)var u="bUIProgressBar__mType_small";if("pause"==a.state)var u=u+" bUIProgressBar__mState_pause";else if("prepare"==a.state)var u=u+" bUIProgressBar__mState_prepare";else if("repair"==a.state)var u=u+" bUIProgressBar__mState_repair";if(t.push('<div class="bUIProgressBar__eContainer"><div'+jade.attrs({id:a.id,"class":["bUIProgressBar",u]},{"class":!0,id:!0})+'><div class="bUIProgressBar__eInner"><div class="bUIProgressBar__eStageHighlights">'),function(){var e=s;if("number"==typeof e.length)for(var a=0,n=e.length;a<n;a++){var i=e[a];t.push("<i"+jade.attrs({style:"margin-right: -"+i+"%","class":["bUIProgressBar__eStageHighlight"]},{style:!0})+"></i>")}else{var n=0;for(var a in e){n++;var i=e[a];t.push("<i"+jade.attrs({style:"margin-right: -"+i+"%","class":["bUIProgressBar__eStageHighlight"]},{style:!0})+"></i>")}}}.call(this),t.push("</div>"),"small"!=a.size&&t.push('<span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=d)?"":jade.interp)+"</span>"),s.length&&(t.push('<div class="bUIProgressBar__eStages">'),function(){var e=s;if("number"==typeof e.length)for(var n=0,i=e.length;n<i;n++){var r=e[n];t.push("<div"+jade.attrs({style:"left: "+r+"%","class":["bUIProgressBar__eStageShift"]},{style:!0})+'><div class="bUIProgressBar__eStage">'),"small"!=a.size&&t.push("<div"+jade.attrs({style:"left: "+(100+(50-r))+"%","class":["bUIProgressBar__eStageStatus"]},{style:!0})+'><span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=d)?"":jade.interp)+"</span></div>"),t.push("</div></div>")}else{var i=0;for(var n in e){i++;var r=e[n];t.push("<div"+jade.attrs({style:"left: "+r+"%","class":["bUIProgressBar__eStageShift"]},{style:!0})+'><div class="bUIProgressBar__eStage">'),"small"!=a.size&&t.push("<div"+jade.attrs({style:"left: "+(100+(50-r))+"%","class":["bUIProgressBar__eStageStatus"]},{style:!0})+'><span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=d)?"":jade.interp)+"</span></div>"),t.push("</div></div>")}}}.call(this),t.push("</div>")),t.push("<div"+jade.attrs({style:"left: -"+_+";","class":["bUIProgressBar__eTrack"]},{style:!0})+"><div"+jade.attrs({style:"left: "+_+";","class":["bUIProgressBar__eComplete"]},{style:!0})+">"),"small"!=a.size&&t.push('<span class="bUIProgressBar__eStatus">'+jade.escape(null==(jade.interp=d)?"":jade.interp)+"</span>"),t.push('</div></div></div></div><div class="bUIProgressBar__eExtra">'),s.length){if(t.push('<div class="bUIProgressBar__eStageInfo"><div'+jade.attrs({style:"width: "+s[0]+"%","class":["bUIProgressBar__eStageInfoCell"]},{style:!0})+'></div><div class="bUIProgressBar__eStageInfoCell"><div class="bUIProgressBar__eStageInfoBubble"><i'+jade.attrs({style:"left: "+s[0]+"%","class":["bUIProgressBar__eStageInfoBubble__eArrow"]},{style:!0})+'></i><div class="bUIProgressBar__eStageInfoBubble__eContent">'),o({content:n("Game-Panel","LiteClientFirstStageHintText",{size:i.getSizeBinaryLocalized(l)}),type:"description-highlight"}),!a.hideHelp){var c=n("Game-Panel","LiteClientDescription."+r),c=c||n("Game-Panel","LiteClientDescription");p({type:"YellowBig",hintContent:c,hintModifiers:"bUIHint__ePopup__mRoundCorners bUIHint__ePopup__mSmall"})}t.push("</div></div></div></div>")}t.push("</div></div>")};return s&&d(s),t.join("")},e.bUIRadiobutton_mixin=function(e){var t=[],a=e||{};a.bUIRadiobuttonGroup__GroupModificator;return t.join("")},e.bUISpinner_mixin=function(e){var t=[];return t.join("")},e.bUberSecuritySettings=function(e){var t=[],a=e||{},s=(a.newParams,a.typeModifiers),n=a.modifiers,i=a.data,r=a.t,o=a.state,l=a.settingsTypes,p=a.contactTypes,d=a.contactActions,_=a.update,u=a.subcontent,c=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},m=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});h(e)};t.push("<!-- сама кнопка-->");var h=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),b(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),b(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var b=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),c({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},c=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},I=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});s={newWindow:"bUIIcons__eIcon__mType_NewWindow",newWindowGrey:"bUIIcons__eIcon__mType_NewWindowGrey",questionBlack:"bUIIcons__eIcon__mType_QuestionBlack",questionBlackHoverGrey:"bUIIcons__eIcon__mType_QuestionBlackHoverGrey",questionGrey:"bUIIcons__eIcon__mType_QuestionGrey",questionGreyBig:"bUIIcons__eIcon__mType_QuestionGreyBig"},n=[],e.mixin&&n.push(e.mixin),e.type&&n.push(s[e.type]||"ModifierNotFound"),t.push("<span"+jade.attrs({"class":["jsUIIcons__eIcon","bUIIcons__eIcon",n.join(" ")]},{"class":!0})+"></span>")},g=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")},f=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});n=[],e.mixin&&n.push(e.mixin),e.parentContext?n.push("bUIHint__mContext_Parent"):n.push("jsUIHint__mContext_Preceding"),t.push("<span"+jade.attrs({"data-js-widgets":"block!bUIHint","class":["jsUIHint","bUIIcon","bUIHint",n.join(" ")]},{"class":!0,"data-js-widgets":!0})+">"),g({opened:e.opened||!1,mixin:e.hintMixin,content:e.content,arrow:e.arrowSide}),I(e),t.push("</span>")};i&&g(i);var v=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});e.hint?(t.push("<div"+jade.attrs({"class":["bUICheckbox__eHintWrapper",e.hint.wrapperMixin]},{"class":!0})+">"),y(e,!0),f({type:"questionGreyBig",content:e.hint.content,mixin:(e.hint.mixin?e.hint.mixin+" ":"")+"bUICheckbox__eHintHandler",arrowSide:e.hint.arrowSide||"bottom",parentContext:!0}),t.push("</div>")):y(e)},y=function(e,a){var e=(this.block,this.attributes||{},this.escaped||{},e||{});n=[],e.type&&"example"==e.type&&n.push("bUICheckbox__mType_Example"),e.mixin&&n.push(e.mixin),t.push("<label"+jade.attrs({"class":["jsUICheckbox","bUICheckbox",n.join(" ")]},{"class":!0})+">"),e.designed?(t.push("<span"+jade.attrs({"class":["jsUICheckbox__eFakeCheckbox","bUICheckbox__eFakeCheckbox",e.checked?"bUICheckbox__eFakeCheckbox__mChecked_True":void 0]},{"class":!0})+'><span class="bUICheckbox__eInputWrap">'),j(e),t.push("</span></span>")):j(e),e.text&&t.push('<span class="bUICheckbox__eLabel">'+(null==(jade.interp=e.text)?"":jade.interp)+"</span>"),t.push("</label>")},j=function(e){this.block,this.attributes||{},this.escaped||{};t.push("<input"+jade.attrs({type:"checkbox",name:e.inputName,value:e.inputValue,id:e.id,tabindex:e.tabindex,checked:e.checked?"checked":void 0,disabled:e.disabled?"disabled":void 0,required:e.required?"required":void 0,"data-group":e.group,"data-js-widgets":"block!bUICheckbox","class":["jsUICheckbox__eInput","bUICheckbox__eInput"]},{type:!0,name:!0,value:!0,id:!0,tabindex:!0,checked:!0,disabled:!0,required:!0,"data-group":!0,"data-js-widgets":!0})+"/>")},U=function(e,a){this.block,this.attributes||{},this.escaped||{};if(e){var s=e.additionalInfo||{};t.push('<div class="bUberSecurity__eList__eBodyRow bUberSecurity__eList__eBodyRow__mHasContent"><div class="bUberSecurity__eList__eCell"><div class="bUberSecurity__eList__eCellIndent"><div class="bUberSecurity__eList__eControl">'),v({id:"checkbox_comp_"+a,group:"trustedComputers",required:!0,inputValue:e.value,inputName:"trusted_computer_"+a,designed:!0,mixin:"bUICheckbox__mCenter"}),t.push('</div><div class="bUberSecurity__eList__eLayout"><div class="bUberSecurity__eList__eInfo">'+(null==(jade.interp=s.browserName||r("Interface","TrustedComputersNoInfo"))?"":jade.interp)+'</div><div class="bUberSecurity__eList__eDesc">'+(null==(jade.interp=s.deviceName)?"":jade.interp)+'</div></div></div></div><div class="bUberSecurity__eList__eCell"><div class="bUberSecurity__eList__eCellIndent"><div class="bUberSecurity__eList__eInfo">'+(null==(jade.interp=s.lastLoginAt)?"":jade.interp)+'</div></div></div><div class="bUberSecurity__eList__eCell"><div class="bUberSecurity__eList__eCellIndent">'),
s.isCurrentDevice&&t.push('<div class="bUberSecurity__eList__eInfo bUberSecurity__eList__eInfo__mSuccess">'+(null==(jade.interp=r("Interface","TrustedComputersCurrentInUse"))?"":jade.interp)+"</div>"),s.lastLoginIP&&t.push('<div class="bUberSecurity__eList__eDesc">IP: '+(null==(jade.interp=s.lastLoginIP)?"":jade.interp)+"</div>"),t.push("</div></div></div>")}else t.push('<div class="bUberSecurity__eList__eBodyRow"></div>')},P=function(e){this.block,this.attributes||{},this.escaped||{};t.push('<div class="bUberSecurity"><h2 class="bUberSecurity__eCaption">'+(null==(jade.interp=r("Interface","TrustedComputersTurnOnCaption"))?"":jade.interp)+'</h2><p class="bUberSecurity__eDesc">'+(null==(jade.interp=r("Interface","TrustedComputersTurnOnDesc"))?"":jade.interp)+'</p><p class="bUberSecurity__eDesc bUberSecurity__eDesc__mTopIndent">'),o.hasEmail?(t.push("<a"+jade.attrs({href:"?popupWidget=SetContactWidget&contactType="+l.UBERSECURITY,"data-reload-sections":'SetContactWidget: {"target":"#OverlayContent","ns":"popup"}'},{href:!0,"data-reload-sections":!0})+">"),m({id:"uber_security_top_btn_turn_on",title:r("Interface","TrustedComputersTurnOnBtn"),color:"armored",shadowed:!0}),t.push("</a>")):m({id:"uber_security_top_btn_turn_on",title:r("Interface","TrustedComputersTurnOnBtn"),color:"armored",shadowed:!0,disabled:!0}),o.hasEmail||t.push('<span class="bUberSecurity__eSubDesc bUberSecurity__eSubDesc__mInline bUberSecurity__eSubDesc__mLeftIndent">'+(null==(jade.interp=r("Interface","TrustedComputersNoEmailText1"))?"":jade.interp)+"<br/><a"+jade.attrs({href:"?popupWidget=SetContactWidget&contactType="+p.EMAIL,"data-reload-sections":'SetContactWidget: {"target":"#OverlayContent","ns":"popup"}',"class":["bUberSecurity__eLink"]},{href:!0,"data-reload-sections":!0})+">"+(null==(jade.interp=r("Interface","TrustedComputersNoEmailText2"))?"":jade.interp)+"</a></span>"),t.push("</p></div>")},S=function(){this.block,this.attributes||{},this.escaped||{};if(t.push('<div class="bUberSecurity"><div class="bUberSecurity__eList__eContainer">'),o.l4gAppIsActive&&(o.deviceInfo?o.deviceIsInList||(t.push('<div class="bUberSecurity__eNewComputer"><div class="bUberSecurity__eList__eCell bUberSecurity__eList__eCell__mAlignTop"><div class="bUberSecurity__eList__eCellIndent"><div class="bUberSecurity__eList__eControl bUberSecurity__eList__eControl__mDummy"></div><div class="bUberSecurity__eList__eLayout"><div class="bUberSecurity__eList__eInfo">'+(null==(jade.interp=o.deviceInfo.browserName)?"":jade.interp)+'&nbsp;<span class="bUberSecurity__eList__eInfo bUberSecurity__eList__eInfo__mSuccess">'+(null==(jade.interp=r("Interface","TrustedComputersCurrentInUse"))?"":jade.interp)+'</span></div><div class="bUberSecurity__eList__eDesc">'+(null==(jade.interp=o.deviceInfo.deviceName)?"":jade.interp)+'</div></div></div></div><div class="bUberSecurity__eList__eCell bUberSecurity__eList__eCell__mWidth2from3 bUberSecurity__eList__eCell__mAlignTop"><div class="bUberSecurity__eList__eCellIndent"><div class="bUberSecurity__eList__eInfo">'+(null==(jade.interp=r("Interface","TrustedComputersNotInList"))?"":jade.interp)+'</div><div class="bUberSecurity__eList__eDesc bUberSecurity__eList__eDesc__mUncut bUberSecurity__eList__eDesc__mUncutTopIndent">'),m({id:"uber_security_add_btn",title:r("Interface","TrustedComputersAddBtn"),link:"?popupWidget=SetContactWidget&contactType="+p.DEVICE,dataReloadSections:'SetContactWidget: {"target":"#OverlayContent","ns":"popup"}',shadowed:!0,color:"none",type:"micro"}),t.push("</div></div></div></div>")):(t.push('<div class="bUberSecurity__eNewComputer bUberSecurity__eNewComputer__mLoading">'),c({type:"big"}),t.push("</div>"))),t.push('<form novalidate="novalidate" data-target="bForm_simple" data-validate-submit="true" data-js-widgets="block!bForm/bForm_simple">'),o.updatingDeviceList)t.push('<div class="bUberSecurity__eLoader">'),c({type:"big"}),t.push("</div>");else if(o.deviceList.length){t.push('<div class="bUberSecurity__eList">');for(var e=0;e<5;)U(o.deviceList[e],e++);t.push('</div><div class="bUberSecurity__eList__eFooterRow">'),m({id:"unlink_computer_btn",title:r("Interface","TrustedComputersRemoveBtn"),shadowed:!0,color:"none",type:"micro"}),t.push('<div id="selection_counter" class="bUberSecurity__eList__eCell"></div></div>')}t.push('<p class="bUberSecurity__eDesc">'+(null==(jade.interp=r("Interface","TrustedComputersDesc"))?"":jade.interp)+"</p></form></div></div>")},C=function(){this.block,this.attributes||{},this.escaped||{};o.ubersecurityIsActive?(t.push('<div class="bInternalContent__eForm"><h1 class="bInternalContent__eHeader bInternalContent__eHeader__mAlignLeft">'+(null==(jade.interp=r("User","PersonalSecurityTitle"))?"":jade.interp)+'</h1><div class="bInternalOptionsPageOptionsPanelSectionItem mFirst">'),S(),t.push('</div><div class="bInternalOptionsPageOptionsPanelSectionItem mLast"><h3 class="bUberSecurity__eTitle">'+(null==(jade.interp=r("Interface","TrustedComputersTurnOffTitle"))?"":jade.interp)+'</h3><p class="bUberSecurity__eDesc">'+(null==(jade.interp=r("Interface","TrustedComputersTurnOffDesc"))?"":jade.interp)+'</p><p class="bUberSecurity__eDesc"><a'+jade.attrs({id:"uber_security_link_turn_off",href:"?popupWidget=SetContactWidget&contactType="+l.UBERSECURITY+"&contactAction="+d.DELETE,"data-reload-sections":'SetContactWidget: {"target":"#OverlayContent","ns":"popup"}',"class":["bUberSecurity__eLink"]},{id:!0,href:!0,"data-reload-sections":!0})+">"+(null==(jade.interp=r("Interface","TrustedComputersTurnOffLink"))?"":jade.interp)+"</a></p></div></div>")):P()};return _?C():(t.push('<div class="bInternalContainer"><aside class="bInternalSidebar"><section id="AccountSecuritySettingsWidget" data-target="#AccountSecuritySettingsWidget" data-js-widgets="block!bAccountSecuritySettingsWidget" data-security-page="data-security-page"><div class="bUberSecurity__eLoader">'),c({type:"big"}),t.push('</div></section></aside><section class="bInternalContent">'),C(),t.push('</section></div><div class="bInternalSubContent">'),o.ubersecurityIsActive||(t.push('<div id="uber_security_comics" class="bUberSecurityComics">'+(null==(jade.interp=u.comics)?"":jade.interp)+'</div><div class="bUberSecurityInstructions">'+(null==(jade.interp=u.instructions)?"":jade.interp)+'<p class="bUberSecurity__eDesc bUberSecurity__eDesc__mCenter bUberSecurity__eDesc__mTopIndent">'),o.hasEmail?(t.push("<a"+jade.attrs({href:"?popupWidget=SetContactWidget&contactType="+l.UBERSECURITY,"data-reload-sections":'SetContactWidget: {"target":"#OverlayContent","ns":"popup"}'},{href:!0,"data-reload-sections":!0})+">"),m({id:"uber_security_bottom_btn_turn_on",title:r("Interface","TrustedComputersTurnOnBtn"),color:"armored",shadowed:!0}),t.push("</a>")):m({id:"uber_security_bottom_btn_turn_on",title:r("Interface","TrustedComputersTurnOnBtn"),color:"armored",shadowed:!0,disabled:!0}),t.push("</p>"),o.hasEmail||t.push('<p class="bUberSecurity__eDesc bUberSecurity__eDesc__mCenter bUberSecurity__eDesc__mTopIndent bUberSecurity__eSubDesc">'+(null==(jade.interp=r("Interface","TrustedComputersNoEmailText1"))?"":jade.interp)+" <a"+jade.attrs({href:"?popupWidget=SetContactWidget&contactType="+p.EMAIL,"data-reload-sections":'SetContactWidget: {"target":"#OverlayContent","ns":"popup"}',"class":["bUberSecurity__eLink"]},{href:!0,"data-reload-sections":!0})+">"+(null==(jade.interp=r("Interface","TrustedComputersNoEmailText2"))?"":jade.interp)+"</a></p>"),t.push('</div><div class="bUberSecurityFAQ">'+(null==(jade.interp=u.faq)?"":jade.interp)+"</div>")),t.push("</div>")),t.join("")},e.controls=function(e){var t=[],a=e||{},s=a.modifiers,n=a.dataAttr,i=a.fieldAttr,r=a.newParams,o=a.t,l=a.typeModifiers,p=a.data,d=a.errorMessage,_=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},u=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{}),r="password"==e.type,o=e.errorStroke||!0;s=[],n={},i={},e.modifiers&&s.push(e.modifiers),e.placeholder&&s.push("jsUIInput__mPlaceholder"),(e.pattern||e.required)&&s.push("jsUIInput__mValidate"),e.patternReplaceExclude&&s.push("jsUIInput__mReplace"),"full"==e.width&&s.push("bUIInput__mWidth_full"),o&&s.push("jsUIInput__mHasErrorStroke"),r&&s.push("bUIInput__mType_Password","jsUIInput__mPassword"),(e.disabled||e.readonly)&&s.push("bUIInput__mEvent_Disabled"),e.dataAttributes&&function(){var t=e.dataAttributes;if("number"==typeof t.length)for(var a=0,s=t.length;a<s;a++){var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}else{var s=0;for(var a in t){s++;var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}}}.call(this),t.push("<span"+jade.attrs({"data-js-widgets":"block!bUIInput","data-target":"bUIInput","class":["jsUIInput","bUIInput",s.join(" ")]},{"class":!0,"data-js-widgets":!0,"data-target":!0})+'><span class="bUIInput__eBorder"><span class="bUIInput__eOutline jsUIInput__eOutline"><span class="bUIInput__ePlaceholderGap"><span class="bUIInput__ePlaceholder"></span><span class="bUIInput__ePlaceholderText">'),e.placeholder?t.push(null==(jade.interp=e.placeholder)?"":jade.interp):t.push("&nbsp;"),t.push("</span><input"+jade.attrs({disabled:"disabled","class":["bUIInput__eInputBg","jsUIInput__eInputBg",e.placeholder&&!e.value?"bUIInput__eInputBg__mPlaceholder_Visible":void 0]},{"class":!0,disabled:!0})+'/><span class="bUIInput__eShadow"></span>'),r&&t.push("<input"+jade.attrs({type:"text",name:e.name,disabled:"disabled",id:e.id?e.id+"__PlainText":void 0,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,required:e.required||e.pattern?"required":void 0,pattern:e.pattern,tabindex:e.tabindex,"data-group":e.group,"class":["jsUIInput__eControls","jsUIInput__ePasswordText","bUIInput__eControl","bUIInput__ePassword"]},{type:!0,name:!0,disabled:!0,id:!0,autocomplete:!0,maxlength:!0,required:!0,pattern:!0,tabindex:!0,"data-group":!0})+"/>"),t.push("<input"+jade.attrs({id:e.id,type:e.type||"text",name:e.name,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,value:e.value,disabled:e.disabled?"disabled":void 0,readonly:e.readonly?"readonly":void 0,autofocus:e.autofocus?"autofocus":void 0,"data-error":e.placeholder?e.placeholder:void 0,required:e.required||e.pattern?"required":void 0,min:e.min,max:e.max,pattern:e.pattern,"data-pattern-replace-exclude":e.patternReplaceExclude,tabindex:e.tabindex,"data-error-area":e.errorArea,"data-can-be-empty":e.canBeEmpty?"true":void 0,onclick:e.errorsSet?"return "+JSON.stringify(e.errorsSet):void 0,"data-group":e.group,"class":["jsUIInput__eControl","jsUIInput__eControls","bUIInput__eControl",r?"jsUIInput__ePassword":void 0]},{"class":!0,id:!0,type:!0,name:!0,autocomplete:!0,maxlength:!0,value:!0,disabled:!0,readonly:!0,autofocus:!0,"data-error":!0,required:!0,min:!0,max:!0,pattern:!0,"data-pattern-replace-exclude":!0,tabindex:!0,"data-error-area":!0,"data-can-be-empty":!0,onclick:!0,"data-group":!0})+"/></span>"),r&&(t.push('<span class="bUIInput__ePasswordEye jsUIInput__ePasswordEye"></span>'),a&&a()),t.push("</span></span></span>"),e.errorMessage&&_(e)},c=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},m=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});h(e)};t.push("<!-- сама кнопка-->");var h=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),b(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),b(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var b=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),c({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},I=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),t=e.modifiers||"",a='<div class="bUIButton__eIcon">#text#</div>',s={vk:["bUIButton__mVK","jsVKConnect"],facebook:["bUIButton__mBlueFacebook","jsFacebookConnect"],odnoklassniki:["bUIButton__mOK","jsOKConnect"],yandex:["bUIButton__mYA","jsYAConnect"]};r=Object.create(e),r.modifiers=["bUIButton__mType_SocialButton"].concat(s[e.type],t).join(" "),r.template=a,m(r)},c=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},_=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},u=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{}),r="password"==e.type,o=e.errorStroke||!0;s=[],n={},i={},e.modifiers&&s.push(e.modifiers),e.placeholder&&s.push("jsUIInput__mPlaceholder"),(e.pattern||e.required)&&s.push("jsUIInput__mValidate"),e.patternReplaceExclude&&s.push("jsUIInput__mReplace"),"full"==e.width&&s.push("bUIInput__mWidth_full"),o&&s.push("jsUIInput__mHasErrorStroke"),r&&s.push("bUIInput__mType_Password","jsUIInput__mPassword"),(e.disabled||e.readonly)&&s.push("bUIInput__mEvent_Disabled"),e.dataAttributes&&function(){var t=e.dataAttributes;if("number"==typeof t.length)for(var a=0,s=t.length;a<s;a++){var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}else{var s=0;for(var a in t){s++;var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}}}.call(this),t.push("<span"+jade.attrs({"data-js-widgets":"block!bUIInput","data-target":"bUIInput","class":["jsUIInput","bUIInput",s.join(" ")]},{"class":!0,"data-js-widgets":!0,"data-target":!0})+'><span class="bUIInput__eBorder"><span class="bUIInput__eOutline jsUIInput__eOutline"><span class="bUIInput__ePlaceholderGap"><span class="bUIInput__ePlaceholder"></span><span class="bUIInput__ePlaceholderText">'),e.placeholder?t.push(null==(jade.interp=e.placeholder)?"":jade.interp):t.push("&nbsp;"),t.push("</span><input"+jade.attrs({disabled:"disabled","class":["bUIInput__eInputBg","jsUIInput__eInputBg",e.placeholder&&!e.value?"bUIInput__eInputBg__mPlaceholder_Visible":void 0]},{"class":!0,disabled:!0})+'/><span class="bUIInput__eShadow"></span>'),r&&t.push("<input"+jade.attrs({type:"text",name:e.name,disabled:"disabled",id:e.id?e.id+"__PlainText":void 0,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,required:e.required||e.pattern?"required":void 0,pattern:e.pattern,tabindex:e.tabindex,"data-group":e.group,"class":["jsUIInput__eControls","jsUIInput__ePasswordText","bUIInput__eControl","bUIInput__ePassword"]},{type:!0,name:!0,disabled:!0,id:!0,autocomplete:!0,maxlength:!0,required:!0,pattern:!0,tabindex:!0,"data-group":!0})+"/>"),t.push("<input"+jade.attrs({id:e.id,type:e.type||"text",name:e.name,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,value:e.value,disabled:e.disabled?"disabled":void 0,readonly:e.readonly?"readonly":void 0,autofocus:e.autofocus?"autofocus":void 0,"data-error":e.placeholder?e.placeholder:void 0,required:e.required||e.pattern?"required":void 0,min:e.min,max:e.max,pattern:e.pattern,"data-pattern-replace-exclude":e.patternReplaceExclude,tabindex:e.tabindex,"data-error-area":e.errorArea,"data-can-be-empty":e.canBeEmpty?"true":void 0,onclick:e.errorsSet?"return "+JSON.stringify(e.errorsSet):void 0,"data-group":e.group,"class":["jsUIInput__eControl","jsUIInput__eControls","bUIInput__eControl",r?"jsUIInput__ePassword":void 0]},{"class":!0,id:!0,type:!0,name:!0,autocomplete:!0,maxlength:!0,value:!0,disabled:!0,readonly:!0,autofocus:!0,"data-error":!0,required:!0,min:!0,max:!0,pattern:!0,"data-pattern-replace-exclude":!0,tabindex:!0,"data-error-area":!0,"data-can-be-empty":!0,onclick:!0,"data-group":!0})+"/></span>"),r&&(t.push('<span class="bUIInput__ePasswordEye jsUIInput__ePasswordEye"></span>'),a&&a()),t.push("</span></span></span>"),e.errorMessage&&_(e)},_=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},g=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});if(e.external)var a=void 0,n=e.external;else var i=+new Date,a="captcha_"+i,n="/captcha/?c="+i;s=[],e.modifiers&&s.push(e.modifiers),e.width&&s.push("bUICaptcha__mWidth_"+e.width),e.hidden&&s.push("bUICaptcha__mState_Hidden"),t.push("<table"+jade.attrs({cellspacing:"0",cellpadding:"0","class":["bUICaptcha",s.join(" ")]},{"class":!0,cellspacing:!0,cellpadding:!0})+'><tr><td class="bUICaptcha__eLeft">'),e.showLabel&&t.push('<span class="bUICaptcha__eLabel">'+(null==(jade.interp=o("Interface","EnterNumbersFromTheImage"))?"":jade.interp)+"</span>"),t.push("<a"+jade.attrs({href:"?",tabindex:"-1",onclick:e.external?void 0:"return false;","class":["bUICaptcha__eLinkImage"]},{href:!0,tabindex:!0,onclick:!0})+"><img"+jade.attrs({id:a,src:n,width:"128",height:"34",onclick:e.external?void 0:"this.src='"+n+"&amp;' + Math.random();",alt:o("Interface","CaptchaPlaceholder"),"class":["bUICaptcha__eImage",e.imgModifiers]},{"class":!0,id:!0,src:!0,width:!0,height:!0,onclick:!0,alt:!0})+'/></a></td><td class="bUICaptcha__eCenter"><a'+jade.attrs({href:"?",tabindex:"-1",onclick:e.external?void 0:"document.getElementById('"+a+"').src='"+n+"&amp;' + Math.random(); return false;","class":["bUICaptcha__eReload"]},{href:!0,tabindex:!0,onclick:!0})+'></a></td><td class="bUICaptcha__eRight">'),u({name:e.name||"captcha",modifiers:"bUIInput__mSize_Small",placeholder:o("Interface","CaptchaPlaceholder"),pattern:e.pattern,width:"full"==e.width||"comfort"==e.width?"full":void 0,required:e.required,errorStroke:e.errorStroke,errorMessage:!1,errorArea:e.errorArea,errorsSet:e.errorsSet,maxlength:e.maxlength||6,autocomplete:!1}),t.push("</td></tr></table>"),e.errorMessage&&_(e)},f=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});l={newWindow:"bUIIcons__eIcon__mType_NewWindow",newWindowGrey:"bUIIcons__eIcon__mType_NewWindowGrey",questionBlack:"bUIIcons__eIcon__mType_QuestionBlack",questionBlackHoverGrey:"bUIIcons__eIcon__mType_QuestionBlackHoverGrey",questionGrey:"bUIIcons__eIcon__mType_QuestionGrey",questionGreyBig:"bUIIcons__eIcon__mType_QuestionGreyBig"},s=[],e.mixin&&s.push(e.mixin),e.type&&s.push(l[e.type]||"ModifierNotFound"),t.push("<span"+jade.attrs({"class":["jsUIIcons__eIcon","bUIIcons__eIcon",s.join(" ")]},{"class":!0})+"></span>")},v=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")},y=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});s=[],e.mixin&&s.push(e.mixin),e.parentContext?s.push("bUIHint__mContext_Parent"):s.push("jsUIHint__mContext_Preceding"),t.push("<span"+jade.attrs({"data-js-widgets":"block!bUIHint","class":["jsUIHint","bUIIcon","bUIHint",s.join(" ")]},{"class":!0,"data-js-widgets":!0})+">"),v({opened:e.opened||!1,mixin:e.hintMixin,content:e.content,arrow:e.arrowSide}),f(e),t.push("</span>")};p&&v(p);var j=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});e.hint?(t.push("<div"+jade.attrs({"class":["bUICheckbox__eHintWrapper",e.hint.wrapperMixin]},{"class":!0})+">"),U(e,!0),y({type:"questionGreyBig",content:e.hint.content,mixin:(e.hint.mixin?e.hint.mixin+" ":"")+"bUICheckbox__eHintHandler",arrowSide:e.hint.arrowSide||"bottom",parentContext:!0}),t.push("</div>")):U(e)},U=function(e,a){var e=(this.block,this.attributes||{},this.escaped||{},e||{});s=[],e.type&&"example"==e.type&&s.push("bUICheckbox__mType_Example"),e.mixin&&s.push(e.mixin),t.push("<label"+jade.attrs({"class":["jsUICheckbox","bUICheckbox",s.join(" ")]},{"class":!0})+">"),e.designed?(t.push("<span"+jade.attrs({"class":["jsUICheckbox__eFakeCheckbox","bUICheckbox__eFakeCheckbox",e.checked?"bUICheckbox__eFakeCheckbox__mChecked_True":void 0]},{"class":!0})+'><span class="bUICheckbox__eInputWrap">'),P(e),t.push("</span></span>")):P(e),e.text&&t.push('<span class="bUICheckbox__eLabel">'+(null==(jade.interp=e.text)?"":jade.interp)+"</span>"),t.push("</label>")},P=function(e){this.block,this.attributes||{},this.escaped||{};t.push("<input"+jade.attrs({type:"checkbox",name:e.inputName,value:e.inputValue,id:e.id,tabindex:e.tabindex,checked:e.checked?"checked":void 0,disabled:e.disabled?"disabled":void 0,required:e.required?"required":void 0,"data-group":e.group,"data-js-widgets":"block!bUICheckbox","class":["jsUICheckbox__eInput","bUICheckbox__eInput"]},{type:!0,name:!0,value:!0,id:!0,tabindex:!0,checked:!0,disabled:!0,required:!0,"data-group":!0,"data-js-widgets":!0})+"/>")},c=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},S=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",p="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var p=p+"True";else var p=p+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",p]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&c({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&c({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&c({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},_=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")};switch(p.name){case"bUIButton":m(p.params);break;case"bUIInput":u(p.params);break;case"bUISpinner":c(p.params);break;case"bUICaptcha":g(p.params);break;case"bInfoMessage":S(p.params);break;case"bUIErrorMessage":_(p.params);break;case"bUICheckbox":j(p.params);break;case"bUIButtonSocial":I(p.params);break;default:d='"'+p.name+'" is not defined in controls list. Add it to /common/controls.jade template.',console.warn(d),t.push('<span class="error">'+(null==(jade.interp=d)?"":jade.interp)+"</span>")}return t.join("")},e.PurchaseButton=function(e){var t=[],a=e||{},s=(a.newParams,a.data),n=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},i=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});r(e)};t.push("<!-- сама кнопка-->");var r=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),o(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),o(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var o=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),n({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});e.hidden||(t.push('<div class="bPurchaseButton">'),i({title:e.title,width:"full",loading:e.loading,disabled:e.disabled,id:e.id,tabindex:"3",color:e.color,className:e.className}),t.push("</div>"))};return l(s),t.join("")},e.bSingleplayerBuy_mixin=function(e){var t=[],a=e||{},s=(a.newParams,a.t),n=a.extend,i=a.data,r=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},o=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});l(e)};t.push("<!-- сама кнопка-->");var l=function(e){
var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),p(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),p(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var p=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),r({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},r=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},d=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),o.length&&n.push(o),l=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&r({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},_=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="progress"==e.state||"check"==e.state,i="check"==e.state||"inactive"==e.state||"maintenance"==e.state,i=i||e.requirements["change-country"]||e.isSaleClosed,r=function(t,a){return s("Interface",t,n({},e,a))},l=[],p={origin:"Origin",steam:"Steam",uplay:"Uplay",gog:"GOG.com",rsc:"Rockstar Social Club",battlenet:"Battle.net"};e.theme&&l.push("bSingleplayerBuy__mTheme-"+e.theme),t.push("<div"+jade.attrs({"class":["bSingleplayerBuy",l.join(" ")]},{"class":!0})+">"),e.showGamePurchaseInfo&&(t.push('<p class="bSingleplayerBuy__eMessage">'),e.isSaleClosed||(e.preorder&&!e.platform?t.push(null==(jade.interp=r("GamePurchaseInfoPreorderNoPlatform"))?"":jade.interp):t.push(null==(jade.interp=r(e.preorder?"GamePurchaseInfoPreorderPlatform":"GamePurchaseInfoPlatform",{platformTitle:p[e.platform]||e.platform}))?"":jade.interp)),t.push("</p>")),"failure"==e.state?d.call({block:function(){d({content:r("GamePurchaseErrorDescriptionFail"),type:"subinfo"})}},{content:r("GamePurchaseErrorTitle"),type:"error"}):(o({title:e.title,width:"full",loading:a,disabled:i,id:a?"div-buyLoader":"button-buyEdition",tabindex:"3",color:e.color,className:e.className}),e.isSaleClosed&&d({content:r("GamePurchaseErrorDescriptionClosed"),type:"error"}),"retry"==e.state&&d.call({block:function(){d({content:r("GamePurchaseErrorDescriptionTryAgain"),type:"subinfo"})}},{content:r("GamePurchaseErrorTitle"),type:"error"}),"maintenance"==e.state&&d({content:e.maintenanceMessage||r("GamePurchaseErrorDescriptionMaintenance"),type:"warning"}),e.requirements["change-country"]&&d({content:r("GamePurchaseErrorDescriptionUnsupportedRegion"),type:"warning"})),t.push("</div>")};return i&&_(i),t.join("")},e.bSingleplayerDiscount_mixin=function(e){var t=[],a=e||{},s=a.modifiers,n=a.data,i=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},r=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],r=a.type?"bInfoMessage__mType_"+a.type:"",o="",l="";if(a.style)var o=a.style;if(a.platform)var r=r+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var r=r+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var r=r+" bInfoMessage__mSize_"+a.size;var p=a.align?"text-align: "+a.align:"",d="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var d=d+"True";else var d=d+"False";if(p.length&&n.push(p),o.length&&n.push(o),l=n.join("; "),a.href){var r=r+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:o,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",d]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:p,"class":["bInfoMessage",r]},{"class":!0,style:!0})+">"),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var r=r+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+l,id:a.id,"class":["bInfoMessage",r]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&i({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},i=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},o=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});s=["bSingleplayerDiscount__mCollapsed"],e.theme&&s.push("bSingleplayerDiscount__mTheme-"+e.theme),e.status?l(e):(t.push("<div"+jade.attrs({"class":["bSingleplayerDiscount",s.join(" ")]},{"class":!0})+'><div id="link-enterPromoCode" class="bSingleplayerDiscount__eTrigger">Ввести код на скидку<i class="bSingleplayerDiscount__eIcon bSingleplayerDiscount__eIcon__mArrow bSingleplayerDiscount__eIcon__mSvg"><svg class="bSingleplayerDiscount__eIcon-svg"><path d="M7.5,4.204c-0.121,0-0.241-0.043-0.338-0.131L4,1.177L0.838,4.073c-0.204,0.187-0.52,0.174-0.707-0.031c-0.187-0.204-0.172-0.521,0.031-0.707l3.5-3.204c0.191-0.174,0.484-0.174,0.676,0l3.5,3.204c0.203,0.187,0.218,0.503,0.031,0.707C7.771,4.149,7.635,4.204,7.5,4.204z" class="bSingleplayerDiscount__eIcon-path"></path></svg></i></div><div class="bSingleplayerDiscount__eContainer"><form class="bSingleplayerDiscount__eForm"><div class="bSingleplayerDiscount__eInput">'),i({type:"black"}),t.push('<input id="button-crossClear" type="reset" value="" tabindex="2" class="bSingleplayerDiscount__eIcon bSingleplayerDiscount__eIcon__mFloatRight bSingleplayerDiscount__eIcon__mCancel"/><div class="bSingleplayerDiscount__eInputIndent"><input id="field-discountCode" type="text" placeholder="Код на скидку" tabindex="1" class="bSingleplayerDiscount__eInputField"/></div></div><div class="bSingleplayerDiscount__eMessage">'),l(e),t.push("</div></form></div></div>"))},l=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});"invalid"==e.state&&r({content:"Неверный код",type:"tinyError",id:"div-failedActivation"}),"discount-error"==e.state&&r({content:"Скидка недоступна",type:"tinyError",id:"div-failedActivation"}),"valid"==e.state&&t.push('<div id="div-successActivation" class="bSingleplayerDiscount__eInfo">Код верный. Скидка '+(null==(jade.interp=e.prices.oldPrice-e.prices.price)?"":jade.interp)+'&nbsp;<span class="bRubleSymbol bRubleSymbol__mType_standart">руб</span></div>')};return n&&o(n),t.join("")},e.bSingleplayerPrice_mixin=function(e){var t=[],a=e||{},s=a.modifiers,n=a.data,i=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a=e.prices.oldPrice&&e.prices.oldPrice!=e.prices.price;s=[],e.theme&&s.push("bSingleplayerPrice__mTheme-"+e.theme),a&&s.push("bSingleplayerPrice__mDiscount"),t.push("<div"+jade.attrs({"class":["bSingleplayerPrice",s.join(" ")]},{"class":!0})+"><div"+jade.attrs({id:a?"div-sumWithDiscount":"div-sumWithoutDiscount","class":["bSingleplayerPrice__eCurrentPrice"]},{id:!0})+">"+(null==(jade.interp=e.prices.price)?"":jade.interp)+'&nbsp;<span class="bRubleSymbol">руб</span></div>'),a&&t.push('<div class="bSingleplayerPrice__eOldPrice">'+(null==(jade.interp=e.prices.oldPrice)?"":jade.interp)+'&nbsp;<span class="bRubleSymbol">руб</span></div>'),t.push("</div>")};return n&&i(n),t.join("")},e.bSetContacts_appBind=function(e){var t=[],a=e||{},s=a.modifiers,n=a.dataAttr,i=a.fieldAttr,r=(a.newParams,a.t),o=a.resendLinkAttrs,l=a.errors,p=a.config,d=a.typeModifiers,_=a.data,u=a.state,c=a.identityParts,m=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},h=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{}),r="password"==e.type,o=e.errorStroke||!0;s=[],n={},i={},e.modifiers&&s.push(e.modifiers),e.placeholder&&s.push("jsUIInput__mPlaceholder"),(e.pattern||e.required)&&s.push("jsUIInput__mValidate"),e.patternReplaceExclude&&s.push("jsUIInput__mReplace"),"full"==e.width&&s.push("bUIInput__mWidth_full"),o&&s.push("jsUIInput__mHasErrorStroke"),r&&s.push("bUIInput__mType_Password","jsUIInput__mPassword"),(e.disabled||e.readonly)&&s.push("bUIInput__mEvent_Disabled"),e.dataAttributes&&function(){var t=e.dataAttributes;if("number"==typeof t.length)for(var a=0,s=t.length;a<s;a++){var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}else{var s=0;for(var a in t){s++;var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}}}.call(this),t.push("<span"+jade.attrs({"data-js-widgets":"block!bUIInput","data-target":"bUIInput","class":["jsUIInput","bUIInput",s.join(" ")]},{"class":!0,"data-js-widgets":!0,"data-target":!0})+'><span class="bUIInput__eBorder"><span class="bUIInput__eOutline jsUIInput__eOutline"><span class="bUIInput__ePlaceholderGap"><span class="bUIInput__ePlaceholder"></span><span class="bUIInput__ePlaceholderText">'),e.placeholder?t.push(null==(jade.interp=e.placeholder)?"":jade.interp):t.push("&nbsp;"),t.push("</span><input"+jade.attrs({disabled:"disabled","class":["bUIInput__eInputBg","jsUIInput__eInputBg",e.placeholder&&!e.value?"bUIInput__eInputBg__mPlaceholder_Visible":void 0]},{"class":!0,disabled:!0})+'/><span class="bUIInput__eShadow"></span>'),r&&t.push("<input"+jade.attrs({type:"text",name:e.name,disabled:"disabled",id:e.id?e.id+"__PlainText":void 0,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,required:e.required||e.pattern?"required":void 0,pattern:e.pattern,tabindex:e.tabindex,"data-group":e.group,"class":["jsUIInput__eControls","jsUIInput__ePasswordText","bUIInput__eControl","bUIInput__ePassword"]},{type:!0,name:!0,disabled:!0,id:!0,autocomplete:!0,maxlength:!0,required:!0,pattern:!0,tabindex:!0,"data-group":!0})+"/>"),t.push("<input"+jade.attrs({id:e.id,type:e.type||"text",name:e.name,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,value:e.value,disabled:e.disabled?"disabled":void 0,readonly:e.readonly?"readonly":void 0,autofocus:e.autofocus?"autofocus":void 0,"data-error":e.placeholder?e.placeholder:void 0,required:e.required||e.pattern?"required":void 0,min:e.min,max:e.max,pattern:e.pattern,"data-pattern-replace-exclude":e.patternReplaceExclude,tabindex:e.tabindex,"data-error-area":e.errorArea,"data-can-be-empty":e.canBeEmpty?"true":void 0,onclick:e.errorsSet?"return "+JSON.stringify(e.errorsSet):void 0,"data-group":e.group,"class":["jsUIInput__eControl","jsUIInput__eControls","bUIInput__eControl",r?"jsUIInput__ePassword":void 0]},{"class":!0,id:!0,type:!0,name:!0,autocomplete:!0,maxlength:!0,value:!0,disabled:!0,readonly:!0,autofocus:!0,"data-error":!0,required:!0,min:!0,max:!0,pattern:!0,"data-pattern-replace-exclude":!0,tabindex:!0,"data-error-area":!0,"data-can-be-empty":!0,onclick:!0,"data-group":!0})+"/></span>"),r&&(t.push('<span class="bUIInput__ePasswordEye jsUIInput__ePasswordEye"></span>'),a&&a()),t.push("</span></span></span>"),e.errorMessage&&m(e)},b=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},I=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});g(e)};t.push("<!-- сама кнопка-->");var g=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),f(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),f(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var f=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),b({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},b=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},m=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},h=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{}),r="password"==e.type,o=e.errorStroke||!0;s=[],n={},i={},e.modifiers&&s.push(e.modifiers),e.placeholder&&s.push("jsUIInput__mPlaceholder"),(e.pattern||e.required)&&s.push("jsUIInput__mValidate"),e.patternReplaceExclude&&s.push("jsUIInput__mReplace"),"full"==e.width&&s.push("bUIInput__mWidth_full"),o&&s.push("jsUIInput__mHasErrorStroke"),r&&s.push("bUIInput__mType_Password","jsUIInput__mPassword"),(e.disabled||e.readonly)&&s.push("bUIInput__mEvent_Disabled"),e.dataAttributes&&function(){var t=e.dataAttributes;if("number"==typeof t.length)for(var a=0,s=t.length;a<s;a++){var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}else{var s=0;for(var a in t){s++;var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}}}.call(this),t.push("<span"+jade.attrs({"data-js-widgets":"block!bUIInput","data-target":"bUIInput","class":["jsUIInput","bUIInput",s.join(" ")]},{"class":!0,"data-js-widgets":!0,"data-target":!0})+'><span class="bUIInput__eBorder"><span class="bUIInput__eOutline jsUIInput__eOutline"><span class="bUIInput__ePlaceholderGap"><span class="bUIInput__ePlaceholder"></span><span class="bUIInput__ePlaceholderText">'),e.placeholder?t.push(null==(jade.interp=e.placeholder)?"":jade.interp):t.push("&nbsp;"),t.push("</span><input"+jade.attrs({disabled:"disabled","class":["bUIInput__eInputBg","jsUIInput__eInputBg",e.placeholder&&!e.value?"bUIInput__eInputBg__mPlaceholder_Visible":void 0]},{"class":!0,disabled:!0})+'/><span class="bUIInput__eShadow"></span>'),r&&t.push("<input"+jade.attrs({type:"text",name:e.name,disabled:"disabled",id:e.id?e.id+"__PlainText":void 0,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,required:e.required||e.pattern?"required":void 0,pattern:e.pattern,tabindex:e.tabindex,"data-group":e.group,"class":["jsUIInput__eControls","jsUIInput__ePasswordText","bUIInput__eControl","bUIInput__ePassword"]},{type:!0,name:!0,disabled:!0,id:!0,autocomplete:!0,maxlength:!0,required:!0,pattern:!0,tabindex:!0,"data-group":!0})+"/>"),t.push("<input"+jade.attrs({id:e.id,type:e.type||"text",name:e.name,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,value:e.value,disabled:e.disabled?"disabled":void 0,readonly:e.readonly?"readonly":void 0,autofocus:e.autofocus?"autofocus":void 0,"data-error":e.placeholder?e.placeholder:void 0,required:e.required||e.pattern?"required":void 0,min:e.min,max:e.max,pattern:e.pattern,"data-pattern-replace-exclude":e.patternReplaceExclude,tabindex:e.tabindex,"data-error-area":e.errorArea,"data-can-be-empty":e.canBeEmpty?"true":void 0,onclick:e.errorsSet?"return "+JSON.stringify(e.errorsSet):void 0,"data-group":e.group,"class":["jsUIInput__eControl","jsUIInput__eControls","bUIInput__eControl",r?"jsUIInput__ePassword":void 0]},{"class":!0,id:!0,type:!0,name:!0,autocomplete:!0,maxlength:!0,value:!0,disabled:!0,readonly:!0,autofocus:!0,"data-error":!0,required:!0,min:!0,max:!0,pattern:!0,"data-pattern-replace-exclude":!0,tabindex:!0,"data-error-area":!0,"data-can-be-empty":!0,onclick:!0,"data-group":!0})+"/></span>"),r&&(t.push('<span class="bUIInput__ePasswordEye jsUIInput__ePasswordEye"></span>'),a&&a()),t.push("</span></span></span>"),e.errorMessage&&m(e)},m=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},v=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});if(e.external)var a=void 0,n=e.external;else var i=+new Date,a="captcha_"+i,n="/captcha/?c="+i;s=[],e.modifiers&&s.push(e.modifiers),e.width&&s.push("bUICaptcha__mWidth_"+e.width),e.hidden&&s.push("bUICaptcha__mState_Hidden"),t.push("<table"+jade.attrs({cellspacing:"0",cellpadding:"0","class":["bUICaptcha",s.join(" ")]},{"class":!0,cellspacing:!0,cellpadding:!0})+'><tr><td class="bUICaptcha__eLeft">'),e.showLabel&&t.push('<span class="bUICaptcha__eLabel">'+(null==(jade.interp=r("Interface","EnterNumbersFromTheImage"))?"":jade.interp)+"</span>"),t.push("<a"+jade.attrs({href:"?",tabindex:"-1",onclick:e.external?void 0:"return false;","class":["bUICaptcha__eLinkImage"]},{href:!0,tabindex:!0,onclick:!0})+"><img"+jade.attrs({id:a,src:n,width:"128",height:"34",onclick:e.external?void 0:"this.src='"+n+"&amp;' + Math.random();",alt:r("Interface","CaptchaPlaceholder"),"class":["bUICaptcha__eImage",e.imgModifiers]},{"class":!0,id:!0,src:!0,width:!0,height:!0,onclick:!0,alt:!0})+'/></a></td><td class="bUICaptcha__eCenter"><a'+jade.attrs({href:"?",tabindex:"-1",onclick:e.external?void 0:"document.getElementById('"+a+"').src='"+n+"&amp;' + Math.random(); return false;","class":["bUICaptcha__eReload"]},{href:!0,tabindex:!0,onclick:!0})+'></a></td><td class="bUICaptcha__eRight">'),h({name:e.name||"captcha",modifiers:"bUIInput__mSize_Small",placeholder:r("Interface","CaptchaPlaceholder"),pattern:e.pattern,width:"full"==e.width||"comfort"==e.width?"full":void 0,required:e.required,errorStroke:e.errorStroke,errorMessage:!1,errorArea:e.errorArea,errorsSet:e.errorsSet,maxlength:e.maxlength||6,autocomplete:!1}),t.push("</td></tr></table>"),e.errorMessage&&m(e)},b=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},m=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},y=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a='class="bSetContacts__eLink"',s='data-resend-code-handler-id="'+e.resendCode+'"';'id="'+e.switchContactTypeId+'"','data-switch-contact-type-handler-id="'+e.switchContactType+'"';if(o=[a,s].join(" "),t.push("<div"+jade.attrs({id:e.id,"class":["bUIPopup__eFooter","bUIPopup__eFooter__mPadding_True"]},{id:!0})+'><div class="bUIPopup__eFooter__eContent">'),e.showHelper||e.text)switch(e.type){case"tel":t.push('<b class="bUIPopup__eText bUIPopup__eText__mStyle_Bold bUIPopup__eText__mColor_Red">'+(null==(jade.interp=r("User","SetContactNoSMSTitle"))?"":jade.interp)+"</b>"),e.resendCode?t.push(null==(jade.interp=r("User","SetContactNoSMSResend",{attributes:o}))?"":jade.interp):t.push(null==(jade.interp=r("User","SetContactNoSMSCalmDown"))?"":jade.interp);break;case"email":t.push('<b class="bUIPopup__eText bUIPopup__eText__mStyle_Bold bUIPopup__eText__mColor_Red">'+(null==(jade.interp=r("User","SetContactNoEmailTitle"))?"":jade.interp)+"</b>"+(null==(jade.interp=r("User","SetContactNoEmailDesc"))?"":jade.interp)),e.resendCode&&t.push(null==(jade.interp=r("User","SetContactNoEmailResend",{attributes:o}))?"":jade.interp);break;default:t.push(null==(jade.interp=e.text)?"":jade.interp)}if(e.switchContactType){if(t.push("<a"+jade.attrs({id:e.switchContactTypeId,"data-switch-contact-type-handler-id":e.switchContactType,"class":["bSetContacts__eLink"]},{id:!0,"data-switch-contact-type-handler-id":!0})+">"),e.switchContactTypeText)t.push(null==(jade.interp=e.switchContactTypeText)?"":jade.interp);else switch(e.type){case"tel":t.push(null==(jade.interp=r("User","SetContactUseEmail"))?"":jade.interp);break;case"email":t.push(null==(jade.interp=r("User","SetContactUseMobile"))?"":jade.interp)}t.push("</a>")}e.changeMobileNumber&&t.push('<a href="#" class="bSetContacts__eLink">'+(null==(jade.interp=r("User","SetContactChangeMobile"))?"":jade.interp)+"</a>"),t.push('</div><div class="bUIPopup__eFooter__eLoaderContainer">'),b({type:"black"}),t.push("</div></div>")},j=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});e.header&&t.push('<h1 class="bUIPopup__eHeader">'+(null==(jade.interp=e.header)?"":jade.interp)+"</h1>"),e.captcha&&(t.push('<div class="bExternalPageFormItem">'),v({external:e.captcha.img,pattern:"[0-9]{6}",errorStroke:!1,errorMessage:!0,width:"comfort"}),e.captcha.errorText&&m({message:e.captcha.errorText}),t.push("</div>")),e.buttonTitle&&I({id:e.buttonId,width:"full",title:e.buttonTitle,className:"bUIButton__mState_disabled"})},U=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{});if(e.header&&t.push('<h1 class="bUIPopup__eHeader">'+(null==(jade.interp=e.header)?"":jade.interp)+"</h1>"),e.styled)switch(e.type){case"tel":t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_confirmCode">'+(null==(jade.interp=e.description)?"":jade.interp)+"</div>");break;case"email":t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_confirmEmail">'+(null==(jade.interp=e.description)?"":jade.interp)+"</div>")}else t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mType_text bExternalPageFormItem__mText_identity">'),e.description?t.push(null==(jade.interp=e.description)?"":jade.interp):t.push(null==(jade.interp=r("User","SetContactConfirmCode",{identity:e.identity}))?"":jade.interp),t.push("</div>");t.push("<div"+jade.attrs({id:e.id,"class":["bExternalPageFormItem","bExternalPageFormItem__mAlign_center","bExternalPageFormItem__mType_smscode"]},{id:!0})+">"),h({id:e.inputId,name:"code",placeholder:r("User","change_mobile_confirmOldNumberCode__codePlaceholder"),autofocus:!0,width:"full",required:!0,pattern:"[0-9]{4}",maxlength:4,errorStroke:!1,errorMessage:!1,errorArea:".jsCode__Error",errorsSet:{empty:r("User","ConfirmCodeRequired"),format:r("User","InvalidSymboldInConfirmCode")}}),m({modifiers:"jsCode__Error",message:e.codeErrorText}),t.push("</div>"),j({captcha:e.captcha}),a&&a(),I({id:e.buttonId,width:"full",title:e.buttonTitle,className:"bUIButton__mState_disabled"})},P=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});switch(e.error){case l.NO_L4G_APP:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorNoL4GApp"))?"":jade.interp)+"</div>"),y({text:r("User","SetContactErrorNoL4GAppSolution")});break;case l.UNKNOWN:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorUnknown"))?"":jade.interp)+"</div>"),y({text:r("User","SetContactErrorUnknownSolution")});break;case l.DEVICE_IS_TRUSTED:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorDeviseIsTrusted"))?"":jade.interp)+"</div>");break;case l.NO_DEVICE_TO_DELETE:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorNoDeviceToDelete"))?"":jade.interp)+"</div>"),y({text:r("User","SetContactErrorNoDeviceToDeleteSolution")});break;case l.FORBIDDEN_OPERATION:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorForbidden"))?"":jade.interp)+"</div>");
break;case l.UNABLE_TO_CHANGE_MOBILE:t.push('<div id="jsSetContactWidget__UnableToChangeMobile" class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","unableToChangeMobile__text",{link:p.supportUrl}))?"":jade.interp)+"</div>");break;case l.CODE_EXPIRED:t.push('<div id="jsSetContactWidget__CodeExpired" class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","codeExpired__text"))?"":jade.interp)+"</div>");break;case l.CUSTOM:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=e.errorText||r("User","SetContactErrorUnknown"))?"":jade.interp)+"</div>")}},S=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});d={newWindow:"bUIIcons__eIcon__mType_NewWindow",newWindowGrey:"bUIIcons__eIcon__mType_NewWindowGrey",questionBlack:"bUIIcons__eIcon__mType_QuestionBlack",questionBlackHoverGrey:"bUIIcons__eIcon__mType_QuestionBlackHoverGrey",questionGrey:"bUIIcons__eIcon__mType_QuestionGrey",questionGreyBig:"bUIIcons__eIcon__mType_QuestionGreyBig"},s=[],e.mixin&&s.push(e.mixin),e.type&&s.push(d[e.type]||"ModifierNotFound"),t.push("<span"+jade.attrs({"class":["jsUIIcons__eIcon","bUIIcons__eIcon",s.join(" ")]},{"class":!0})+"></span>")},C=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")},x=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});s=[],e.mixin&&s.push(e.mixin),e.parentContext?s.push("bUIHint__mContext_Parent"):s.push("jsUIHint__mContext_Preceding"),t.push("<span"+jade.attrs({"data-js-widgets":"block!bUIHint","class":["jsUIHint","bUIIcon","bUIHint",s.join(" ")]},{"class":!0,"data-js-widgets":!0})+">"),C({opened:e.opened||!1,mixin:e.hintMixin,content:e.content,arrow:e.arrowSide}),S(e),t.push("</span>")};_&&C(_);var B=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});e.hint?(t.push("<div"+jade.attrs({"class":["bUICheckbox__eHintWrapper",e.hint.wrapperMixin]},{"class":!0})+">"),w(e,!0),x({type:"questionGreyBig",content:e.hint.content,mixin:(e.hint.mixin?e.hint.mixin+" ":"")+"bUICheckbox__eHintHandler",arrowSide:e.hint.arrowSide||"bottom",parentContext:!0}),t.push("</div>")):w(e)},w=function(e,a){var e=(this.block,this.attributes||{},this.escaped||{},e||{});s=[],e.type&&"example"==e.type&&s.push("bUICheckbox__mType_Example"),e.mixin&&s.push(e.mixin),t.push("<label"+jade.attrs({"class":["jsUICheckbox","bUICheckbox",s.join(" ")]},{"class":!0})+">"),e.designed?(t.push("<span"+jade.attrs({"class":["jsUICheckbox__eFakeCheckbox","bUICheckbox__eFakeCheckbox",e.checked?"bUICheckbox__eFakeCheckbox__mChecked_True":void 0]},{"class":!0})+'><span class="bUICheckbox__eInputWrap">'),k(e),t.push("</span></span>")):k(e),e.text&&t.push('<span class="bUICheckbox__eLabel">'+(null==(jade.interp=e.text)?"":jade.interp)+"</span>"),t.push("</label>")},k=function(e){this.block,this.attributes||{},this.escaped||{};t.push("<input"+jade.attrs({type:"checkbox",name:e.inputName,value:e.inputValue,id:e.id,tabindex:e.tabindex,checked:e.checked?"checked":void 0,disabled:e.disabled?"disabled":void 0,required:e.required?"required":void 0,"data-group":e.group,"data-js-widgets":"block!bUICheckbox","class":["jsUICheckbox__eInput","bUICheckbox__eInput"]},{type:!0,name:!0,value:!0,id:!0,tabindex:!0,checked:!0,disabled:!0,required:!0,"data-group":!0,"data-js-widgets":!0})+"/>")},G="",T="";if(u.identity){c=u.identity.split(":");var G=c[0],T=c[1]}return t.push("<form"+jade.attrs({novalidate:"novalidate","data-target":"bForm_simple","data-validate-submit":"true","data-js-widgets":"block!bForm/bForm_simple","data-submit-handler-id":u.submitHandlerId},{novalidate:!0,"data-target":!0,"data-validate-submit":!0,"data-js-widgets":!0,"data-submit-handler-id":!0})+">"),u.error?P({error:u.error}):"captcha"==u.step?j({header:r("User","AddAppBindInitTitle"),captcha:u.captcha,buttonTitle:r("User","change_mobile_confirmCode__buttonTitle")}):"standalone-error"==u.step?P({error:l.CUSTOM,errorText:u.identityErrorText}):(U.call({block:function(){t.push('<div class="bExternalPageFormItem">'),B({text:r("User","AddAppBindRememberComputer"),id:"jsAppBindWidget__RememberComputer",inputName:"add_to_trusted",inputValue:"1",designed:!0,inlineBlock:!0,hint:{content:r("User","AddAppBindRememberComputerHint"),mixin:"jsAppBind_rememberComputer_hintHandler",wrapperMixin:"bUICheckbox__eHintWrapper__mType_unfettered bUICheckbox__eHintWrapper__mType_left",arrowSide:"left"}}),t.push("</div>")}},{header:r("User","AddAppBindInitTitle"),inputId:"jsAppBindWidget__ConfirmCode",buttonTitle:r("User","AddAppBindPostButton"),buttonId:"jsAppBindWidget__ConfirmCode__Button",identity:T,codeErrorText:u.codeErrorText,captcha:u.captcha}),y({type:G,showHelper:!0,resendCode:u.resendCodeHandlerId})),t.push("</form>"),t.join("")},e.bSetContacts_device=function(e){var t=[],a=e||{},s=a.modifiers,n=a.dataAttr,i=a.fieldAttr,r=(a.newParams,a.t),o=a.resendLinkAttrs,l=a.errors,p=a.config,d=(a.typeModifiers,a.data),_=a.state,u=a.identityParts,c=a.actions,m=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},h=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{}),r="password"==e.type,o=e.errorStroke||!0;s=[],n={},i={},e.modifiers&&s.push(e.modifiers),e.placeholder&&s.push("jsUIInput__mPlaceholder"),(e.pattern||e.required)&&s.push("jsUIInput__mValidate"),e.patternReplaceExclude&&s.push("jsUIInput__mReplace"),"full"==e.width&&s.push("bUIInput__mWidth_full"),o&&s.push("jsUIInput__mHasErrorStroke"),r&&s.push("bUIInput__mType_Password","jsUIInput__mPassword"),(e.disabled||e.readonly)&&s.push("bUIInput__mEvent_Disabled"),e.dataAttributes&&function(){var t=e.dataAttributes;if("number"==typeof t.length)for(var a=0,s=t.length;a<s;a++){var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}else{var s=0;for(var a in t){s++;var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}}}.call(this),t.push("<span"+jade.attrs({"data-js-widgets":"block!bUIInput","data-target":"bUIInput","class":["jsUIInput","bUIInput",s.join(" ")]},{"class":!0,"data-js-widgets":!0,"data-target":!0})+'><span class="bUIInput__eBorder"><span class="bUIInput__eOutline jsUIInput__eOutline"><span class="bUIInput__ePlaceholderGap"><span class="bUIInput__ePlaceholder"></span><span class="bUIInput__ePlaceholderText">'),e.placeholder?t.push(null==(jade.interp=e.placeholder)?"":jade.interp):t.push("&nbsp;"),t.push("</span><input"+jade.attrs({disabled:"disabled","class":["bUIInput__eInputBg","jsUIInput__eInputBg",e.placeholder&&!e.value?"bUIInput__eInputBg__mPlaceholder_Visible":void 0]},{"class":!0,disabled:!0})+'/><span class="bUIInput__eShadow"></span>'),r&&t.push("<input"+jade.attrs({type:"text",name:e.name,disabled:"disabled",id:e.id?e.id+"__PlainText":void 0,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,required:e.required||e.pattern?"required":void 0,pattern:e.pattern,tabindex:e.tabindex,"data-group":e.group,"class":["jsUIInput__eControls","jsUIInput__ePasswordText","bUIInput__eControl","bUIInput__ePassword"]},{type:!0,name:!0,disabled:!0,id:!0,autocomplete:!0,maxlength:!0,required:!0,pattern:!0,tabindex:!0,"data-group":!0})+"/>"),t.push("<input"+jade.attrs({id:e.id,type:e.type||"text",name:e.name,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,value:e.value,disabled:e.disabled?"disabled":void 0,readonly:e.readonly?"readonly":void 0,autofocus:e.autofocus?"autofocus":void 0,"data-error":e.placeholder?e.placeholder:void 0,required:e.required||e.pattern?"required":void 0,min:e.min,max:e.max,pattern:e.pattern,"data-pattern-replace-exclude":e.patternReplaceExclude,tabindex:e.tabindex,"data-error-area":e.errorArea,"data-can-be-empty":e.canBeEmpty?"true":void 0,onclick:e.errorsSet?"return "+JSON.stringify(e.errorsSet):void 0,"data-group":e.group,"class":["jsUIInput__eControl","jsUIInput__eControls","bUIInput__eControl",r?"jsUIInput__ePassword":void 0]},{"class":!0,id:!0,type:!0,name:!0,autocomplete:!0,maxlength:!0,value:!0,disabled:!0,readonly:!0,autofocus:!0,"data-error":!0,required:!0,min:!0,max:!0,pattern:!0,"data-pattern-replace-exclude":!0,tabindex:!0,"data-error-area":!0,"data-can-be-empty":!0,onclick:!0,"data-group":!0})+"/></span>"),r&&(t.push('<span class="bUIInput__ePasswordEye jsUIInput__ePasswordEye"></span>'),a&&a()),t.push("</span></span></span>"),e.errorMessage&&m(e)},b=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},I=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});g(e)};t.push("<!-- сама кнопка-->");var g=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),f(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),f(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var f=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),b({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},b=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},m=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},h=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{}),r="password"==e.type,o=e.errorStroke||!0;s=[],n={},i={},e.modifiers&&s.push(e.modifiers),e.placeholder&&s.push("jsUIInput__mPlaceholder"),(e.pattern||e.required)&&s.push("jsUIInput__mValidate"),e.patternReplaceExclude&&s.push("jsUIInput__mReplace"),"full"==e.width&&s.push("bUIInput__mWidth_full"),o&&s.push("jsUIInput__mHasErrorStroke"),r&&s.push("bUIInput__mType_Password","jsUIInput__mPassword"),(e.disabled||e.readonly)&&s.push("bUIInput__mEvent_Disabled"),e.dataAttributes&&function(){var t=e.dataAttributes;if("number"==typeof t.length)for(var a=0,s=t.length;a<s;a++){var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}else{var s=0;for(var a in t){s++;var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}}}.call(this),t.push("<span"+jade.attrs({"data-js-widgets":"block!bUIInput","data-target":"bUIInput","class":["jsUIInput","bUIInput",s.join(" ")]},{"class":!0,"data-js-widgets":!0,"data-target":!0})+'><span class="bUIInput__eBorder"><span class="bUIInput__eOutline jsUIInput__eOutline"><span class="bUIInput__ePlaceholderGap"><span class="bUIInput__ePlaceholder"></span><span class="bUIInput__ePlaceholderText">'),e.placeholder?t.push(null==(jade.interp=e.placeholder)?"":jade.interp):t.push("&nbsp;"),t.push("</span><input"+jade.attrs({disabled:"disabled","class":["bUIInput__eInputBg","jsUIInput__eInputBg",e.placeholder&&!e.value?"bUIInput__eInputBg__mPlaceholder_Visible":void 0]},{"class":!0,disabled:!0})+'/><span class="bUIInput__eShadow"></span>'),r&&t.push("<input"+jade.attrs({type:"text",name:e.name,disabled:"disabled",id:e.id?e.id+"__PlainText":void 0,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,required:e.required||e.pattern?"required":void 0,pattern:e.pattern,tabindex:e.tabindex,"data-group":e.group,"class":["jsUIInput__eControls","jsUIInput__ePasswordText","bUIInput__eControl","bUIInput__ePassword"]},{type:!0,name:!0,disabled:!0,id:!0,autocomplete:!0,maxlength:!0,required:!0,pattern:!0,tabindex:!0,"data-group":!0})+"/>"),t.push("<input"+jade.attrs({id:e.id,type:e.type||"text",name:e.name,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,value:e.value,disabled:e.disabled?"disabled":void 0,readonly:e.readonly?"readonly":void 0,autofocus:e.autofocus?"autofocus":void 0,"data-error":e.placeholder?e.placeholder:void 0,required:e.required||e.pattern?"required":void 0,min:e.min,max:e.max,pattern:e.pattern,"data-pattern-replace-exclude":e.patternReplaceExclude,tabindex:e.tabindex,"data-error-area":e.errorArea,"data-can-be-empty":e.canBeEmpty?"true":void 0,onclick:e.errorsSet?"return "+JSON.stringify(e.errorsSet):void 0,"data-group":e.group,"class":["jsUIInput__eControl","jsUIInput__eControls","bUIInput__eControl",r?"jsUIInput__ePassword":void 0]},{"class":!0,id:!0,type:!0,name:!0,autocomplete:!0,maxlength:!0,value:!0,disabled:!0,readonly:!0,autofocus:!0,"data-error":!0,required:!0,min:!0,max:!0,pattern:!0,"data-pattern-replace-exclude":!0,tabindex:!0,"data-error-area":!0,"data-can-be-empty":!0,onclick:!0,"data-group":!0})+"/></span>"),r&&(t.push('<span class="bUIInput__ePasswordEye jsUIInput__ePasswordEye"></span>'),a&&a()),t.push("</span></span></span>"),e.errorMessage&&m(e)},m=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},v=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});if(e.external)var a=void 0,n=e.external;else var i=+new Date,a="captcha_"+i,n="/captcha/?c="+i;s=[],e.modifiers&&s.push(e.modifiers),e.width&&s.push("bUICaptcha__mWidth_"+e.width),e.hidden&&s.push("bUICaptcha__mState_Hidden"),t.push("<table"+jade.attrs({cellspacing:"0",cellpadding:"0","class":["bUICaptcha",s.join(" ")]},{"class":!0,cellspacing:!0,cellpadding:!0})+'><tr><td class="bUICaptcha__eLeft">'),e.showLabel&&t.push('<span class="bUICaptcha__eLabel">'+(null==(jade.interp=r("Interface","EnterNumbersFromTheImage"))?"":jade.interp)+"</span>"),t.push("<a"+jade.attrs({href:"?",tabindex:"-1",onclick:e.external?void 0:"return false;","class":["bUICaptcha__eLinkImage"]},{href:!0,tabindex:!0,onclick:!0})+"><img"+jade.attrs({id:a,src:n,width:"128",height:"34",onclick:e.external?void 0:"this.src='"+n+"&amp;' + Math.random();",alt:r("Interface","CaptchaPlaceholder"),"class":["bUICaptcha__eImage",e.imgModifiers]},{"class":!0,id:!0,src:!0,width:!0,height:!0,onclick:!0,alt:!0})+'/></a></td><td class="bUICaptcha__eCenter"><a'+jade.attrs({href:"?",tabindex:"-1",onclick:e.external?void 0:"document.getElementById('"+a+"').src='"+n+"&amp;' + Math.random(); return false;","class":["bUICaptcha__eReload"]},{href:!0,tabindex:!0,onclick:!0})+'></a></td><td class="bUICaptcha__eRight">'),h({name:e.name||"captcha",modifiers:"bUIInput__mSize_Small",placeholder:r("Interface","CaptchaPlaceholder"),pattern:e.pattern,width:"full"==e.width||"comfort"==e.width?"full":void 0,required:e.required,errorStroke:e.errorStroke,errorMessage:!1,errorArea:e.errorArea,errorsSet:e.errorsSet,maxlength:e.maxlength||6,autocomplete:!1}),t.push("</td></tr></table>"),e.errorMessage&&m(e)},b=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},m=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},y=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a='class="bSetContacts__eLink"',s='data-resend-code-handler-id="'+e.resendCode+'"';'id="'+e.switchContactTypeId+'"','data-switch-contact-type-handler-id="'+e.switchContactType+'"';if(o=[a,s].join(" "),t.push("<div"+jade.attrs({id:e.id,"class":["bUIPopup__eFooter","bUIPopup__eFooter__mPadding_True"]},{id:!0})+'><div class="bUIPopup__eFooter__eContent">'),e.showHelper||e.text)switch(e.type){case"tel":t.push('<b class="bUIPopup__eText bUIPopup__eText__mStyle_Bold bUIPopup__eText__mColor_Red">'+(null==(jade.interp=r("User","SetContactNoSMSTitle"))?"":jade.interp)+"</b>"),e.resendCode?t.push(null==(jade.interp=r("User","SetContactNoSMSResend",{attributes:o}))?"":jade.interp):t.push(null==(jade.interp=r("User","SetContactNoSMSCalmDown"))?"":jade.interp);break;case"email":t.push('<b class="bUIPopup__eText bUIPopup__eText__mStyle_Bold bUIPopup__eText__mColor_Red">'+(null==(jade.interp=r("User","SetContactNoEmailTitle"))?"":jade.interp)+"</b>"+(null==(jade.interp=r("User","SetContactNoEmailDesc"))?"":jade.interp)),e.resendCode&&t.push(null==(jade.interp=r("User","SetContactNoEmailResend",{attributes:o}))?"":jade.interp);break;default:t.push(null==(jade.interp=e.text)?"":jade.interp)}if(e.switchContactType){if(t.push("<a"+jade.attrs({id:e.switchContactTypeId,"data-switch-contact-type-handler-id":e.switchContactType,"class":["bSetContacts__eLink"]},{id:!0,"data-switch-contact-type-handler-id":!0})+">"),e.switchContactTypeText)t.push(null==(jade.interp=e.switchContactTypeText)?"":jade.interp);else switch(e.type){case"tel":t.push(null==(jade.interp=r("User","SetContactUseEmail"))?"":jade.interp);break;case"email":t.push(null==(jade.interp=r("User","SetContactUseMobile"))?"":jade.interp)}t.push("</a>")}e.changeMobileNumber&&t.push('<a href="#" class="bSetContacts__eLink">'+(null==(jade.interp=r("User","SetContactChangeMobile"))?"":jade.interp)+"</a>"),t.push('</div><div class="bUIPopup__eFooter__eLoaderContainer">'),b({type:"black"}),t.push("</div></div>")},j=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});e.header&&t.push('<h1 class="bUIPopup__eHeader">'+(null==(jade.interp=e.header)?"":jade.interp)+"</h1>"),e.captcha&&(t.push('<div class="bExternalPageFormItem">'),v({external:e.captcha.img,pattern:"[0-9]{6}",errorStroke:!1,errorMessage:!0,width:"comfort"}),e.captcha.errorText&&m({message:e.captcha.errorText}),t.push("</div>")),e.buttonTitle&&I({id:e.buttonId,width:"full",title:e.buttonTitle,className:"bUIButton__mState_disabled"})},U=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{});if(e.header&&t.push('<h1 class="bUIPopup__eHeader">'+(null==(jade.interp=e.header)?"":jade.interp)+"</h1>"),e.styled)switch(e.type){case"tel":t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_confirmCode">'+(null==(jade.interp=e.description)?"":jade.interp)+"</div>");break;case"email":t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_confirmEmail">'+(null==(jade.interp=e.description)?"":jade.interp)+"</div>")}else t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mType_text bExternalPageFormItem__mText_identity">'),e.description?t.push(null==(jade.interp=e.description)?"":jade.interp):t.push(null==(jade.interp=r("User","SetContactConfirmCode",{identity:e.identity}))?"":jade.interp),t.push("</div>");t.push("<div"+jade.attrs({id:e.id,"class":["bExternalPageFormItem","bExternalPageFormItem__mAlign_center","bExternalPageFormItem__mType_smscode"]},{id:!0})+">"),h({id:e.inputId,name:"code",placeholder:r("User","change_mobile_confirmOldNumberCode__codePlaceholder"),autofocus:!0,width:"full",required:!0,pattern:"[0-9]{4}",maxlength:4,errorStroke:!1,errorMessage:!1,errorArea:".jsCode__Error",errorsSet:{empty:r("User","ConfirmCodeRequired"),format:r("User","InvalidSymboldInConfirmCode")}}),m({modifiers:"jsCode__Error",message:e.codeErrorText}),t.push("</div>"),j({captcha:e.captcha}),a&&a(),I({id:e.buttonId,width:"full",title:e.buttonTitle,className:"bUIButton__mState_disabled"})},P=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});switch(e.error){case l.NO_L4G_APP:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorNoL4GApp"))?"":jade.interp)+"</div>"),y({text:r("User","SetContactErrorNoL4GAppSolution")});break;case l.UNKNOWN:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorUnknown"))?"":jade.interp)+"</div>"),y({text:r("User","SetContactErrorUnknownSolution")});break;case l.DEVICE_IS_TRUSTED:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorDeviseIsTrusted"))?"":jade.interp)+"</div>");break;case l.NO_DEVICE_TO_DELETE:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorNoDeviceToDelete"))?"":jade.interp)+"</div>"),y({text:r("User","SetContactErrorNoDeviceToDeleteSolution")});break;case l.FORBIDDEN_OPERATION:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorForbidden"))?"":jade.interp)+"</div>");break;case l.UNABLE_TO_CHANGE_MOBILE:t.push('<div id="jsSetContactWidget__UnableToChangeMobile" class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","unableToChangeMobile__text",{link:p.supportUrl}))?"":jade.interp)+"</div>");break;case l.CODE_EXPIRED:t.push('<div id="jsSetContactWidget__CodeExpired" class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","codeExpired__text"))?"":jade.interp)+"</div>");break;case l.CUSTOM:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=e.errorText||r("User","SetContactErrorUnknown"))?"":jade.interp)+"</div>")}},S=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};d&&S(d);var C="",x="";if(_.identity){u=_.identity.split(":");var C=u[0],x=u[1]}if(t.push("<form"+jade.attrs({novalidate:"novalidate","data-target":"bForm_simple","data-validate-submit":"true","data-js-widgets":"block!bForm/bForm_simple","data-submit-handler-id":_.submitHandlerId},{novalidate:!0,"data-target":!0,"data-validate-submit":!0,"data-js-widgets":!0,"data-submit-handler-id":!0})+">"),_.error)P({error:_.error});else if("captcha"==_.step)switch(_.action){case c.ADD:j({header:r("User","SetContactAddDeviceTitle"),captcha:_.captcha,buttonTitle:r("User","change_mobile_confirmCode__buttonTitle")});break;case c.DELETE:j({header:r("User","SetContactDeleteDeviceTitle"),captcha:_.captcha,buttonTitle:r("User","change_mobile_confirmCode__buttonTitle")})}else if("standalone-error"==_.step)P({error:l.CUSTOM,errorText:_.identityErrorText});else switch(_.action){case c.ADD:U({header:r("User","SetContactAddDeviceTitle"),buttonTitle:r("User","SetContactAddDeviceButton"),buttonId:"uber_security_botton_add_computer",identity:x,codeErrorText:_.codeErrorText,captcha:_.captcha}),y({type:C,showHelper:!0,resendCode:_.resendCodeHandlerId});break;case c.DELETE:U({header:r("User","SetContactDeleteDeviceTitle"),buttonTitle:r("User","SetContactDeleteDeviceButton"),buttonId:"uber_security_botton_delete_computer",identity:x,codeErrorText:_.codeErrorText,captcha:_.captcha}),y({type:C,showHelper:!0,resendCode:_.resendCodeHandlerId})}return t.push("</form>"),t.join("")},e.bSetContacts_email=function(e){var t=[],a=e||{},s=a.modifiers,n=a.dataAttr,i=a.fieldAttr,r=(a.newParams,a.t),o=a.resendLinkAttrs,l=a.errors,p=a.config,d=(a.typeModifiers,a.data),_=a.state,u=a.identityParts,c=a.actions,m=a.formData,h=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},b=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{}),r="password"==e.type,o=e.errorStroke||!0;s=[],n={},i={},e.modifiers&&s.push(e.modifiers),e.placeholder&&s.push("jsUIInput__mPlaceholder"),(e.pattern||e.required)&&s.push("jsUIInput__mValidate"),e.patternReplaceExclude&&s.push("jsUIInput__mReplace"),"full"==e.width&&s.push("bUIInput__mWidth_full"),o&&s.push("jsUIInput__mHasErrorStroke"),r&&s.push("bUIInput__mType_Password","jsUIInput__mPassword"),(e.disabled||e.readonly)&&s.push("bUIInput__mEvent_Disabled"),e.dataAttributes&&function(){var t=e.dataAttributes;if("number"==typeof t.length)for(var a=0,s=t.length;a<s;a++){var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}else{var s=0;for(var a in t){s++;var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}}}.call(this),t.push("<span"+jade.attrs({"data-js-widgets":"block!bUIInput","data-target":"bUIInput","class":["jsUIInput","bUIInput",s.join(" ")]},{"class":!0,"data-js-widgets":!0,"data-target":!0})+'><span class="bUIInput__eBorder"><span class="bUIInput__eOutline jsUIInput__eOutline"><span class="bUIInput__ePlaceholderGap"><span class="bUIInput__ePlaceholder"></span><span class="bUIInput__ePlaceholderText">'),e.placeholder?t.push(null==(jade.interp=e.placeholder)?"":jade.interp):t.push("&nbsp;"),t.push("</span><input"+jade.attrs({disabled:"disabled","class":["bUIInput__eInputBg","jsUIInput__eInputBg",e.placeholder&&!e.value?"bUIInput__eInputBg__mPlaceholder_Visible":void 0]},{"class":!0,disabled:!0})+'/><span class="bUIInput__eShadow"></span>'),r&&t.push("<input"+jade.attrs({type:"text",name:e.name,disabled:"disabled",id:e.id?e.id+"__PlainText":void 0,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,required:e.required||e.pattern?"required":void 0,pattern:e.pattern,tabindex:e.tabindex,"data-group":e.group,"class":["jsUIInput__eControls","jsUIInput__ePasswordText","bUIInput__eControl","bUIInput__ePassword"]},{type:!0,name:!0,disabled:!0,id:!0,autocomplete:!0,maxlength:!0,required:!0,pattern:!0,tabindex:!0,"data-group":!0})+"/>"),t.push("<input"+jade.attrs({id:e.id,type:e.type||"text",name:e.name,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,value:e.value,disabled:e.disabled?"disabled":void 0,readonly:e.readonly?"readonly":void 0,
autofocus:e.autofocus?"autofocus":void 0,"data-error":e.placeholder?e.placeholder:void 0,required:e.required||e.pattern?"required":void 0,min:e.min,max:e.max,pattern:e.pattern,"data-pattern-replace-exclude":e.patternReplaceExclude,tabindex:e.tabindex,"data-error-area":e.errorArea,"data-can-be-empty":e.canBeEmpty?"true":void 0,onclick:e.errorsSet?"return "+JSON.stringify(e.errorsSet):void 0,"data-group":e.group,"class":["jsUIInput__eControl","jsUIInput__eControls","bUIInput__eControl",r?"jsUIInput__ePassword":void 0]},{"class":!0,id:!0,type:!0,name:!0,autocomplete:!0,maxlength:!0,value:!0,disabled:!0,readonly:!0,autofocus:!0,"data-error":!0,required:!0,min:!0,max:!0,pattern:!0,"data-pattern-replace-exclude":!0,tabindex:!0,"data-error-area":!0,"data-can-be-empty":!0,onclick:!0,"data-group":!0})+"/></span>"),r&&(t.push('<span class="bUIInput__ePasswordEye jsUIInput__ePasswordEye"></span>'),a&&a()),t.push("</span></span></span>"),e.errorMessage&&h(e)},I=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},g=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});f(e)};t.push("<!-- сама кнопка-->");var f=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),v(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),v(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var v=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),I({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},I=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},h=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},b=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{}),r="password"==e.type,o=e.errorStroke||!0;s=[],n={},i={},e.modifiers&&s.push(e.modifiers),e.placeholder&&s.push("jsUIInput__mPlaceholder"),(e.pattern||e.required)&&s.push("jsUIInput__mValidate"),e.patternReplaceExclude&&s.push("jsUIInput__mReplace"),"full"==e.width&&s.push("bUIInput__mWidth_full"),o&&s.push("jsUIInput__mHasErrorStroke"),r&&s.push("bUIInput__mType_Password","jsUIInput__mPassword"),(e.disabled||e.readonly)&&s.push("bUIInput__mEvent_Disabled"),e.dataAttributes&&function(){var t=e.dataAttributes;if("number"==typeof t.length)for(var a=0,s=t.length;a<s;a++){var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}else{var s=0;for(var a in t){s++;var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}}}.call(this),t.push("<span"+jade.attrs({"data-js-widgets":"block!bUIInput","data-target":"bUIInput","class":["jsUIInput","bUIInput",s.join(" ")]},{"class":!0,"data-js-widgets":!0,"data-target":!0})+'><span class="bUIInput__eBorder"><span class="bUIInput__eOutline jsUIInput__eOutline"><span class="bUIInput__ePlaceholderGap"><span class="bUIInput__ePlaceholder"></span><span class="bUIInput__ePlaceholderText">'),e.placeholder?t.push(null==(jade.interp=e.placeholder)?"":jade.interp):t.push("&nbsp;"),t.push("</span><input"+jade.attrs({disabled:"disabled","class":["bUIInput__eInputBg","jsUIInput__eInputBg",e.placeholder&&!e.value?"bUIInput__eInputBg__mPlaceholder_Visible":void 0]},{"class":!0,disabled:!0})+'/><span class="bUIInput__eShadow"></span>'),r&&t.push("<input"+jade.attrs({type:"text",name:e.name,disabled:"disabled",id:e.id?e.id+"__PlainText":void 0,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,required:e.required||e.pattern?"required":void 0,pattern:e.pattern,tabindex:e.tabindex,"data-group":e.group,"class":["jsUIInput__eControls","jsUIInput__ePasswordText","bUIInput__eControl","bUIInput__ePassword"]},{type:!0,name:!0,disabled:!0,id:!0,autocomplete:!0,maxlength:!0,required:!0,pattern:!0,tabindex:!0,"data-group":!0})+"/>"),t.push("<input"+jade.attrs({id:e.id,type:e.type||"text",name:e.name,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,value:e.value,disabled:e.disabled?"disabled":void 0,readonly:e.readonly?"readonly":void 0,autofocus:e.autofocus?"autofocus":void 0,"data-error":e.placeholder?e.placeholder:void 0,required:e.required||e.pattern?"required":void 0,min:e.min,max:e.max,pattern:e.pattern,"data-pattern-replace-exclude":e.patternReplaceExclude,tabindex:e.tabindex,"data-error-area":e.errorArea,"data-can-be-empty":e.canBeEmpty?"true":void 0,onclick:e.errorsSet?"return "+JSON.stringify(e.errorsSet):void 0,"data-group":e.group,"class":["jsUIInput__eControl","jsUIInput__eControls","bUIInput__eControl",r?"jsUIInput__ePassword":void 0]},{"class":!0,id:!0,type:!0,name:!0,autocomplete:!0,maxlength:!0,value:!0,disabled:!0,readonly:!0,autofocus:!0,"data-error":!0,required:!0,min:!0,max:!0,pattern:!0,"data-pattern-replace-exclude":!0,tabindex:!0,"data-error-area":!0,"data-can-be-empty":!0,onclick:!0,"data-group":!0})+"/></span>"),r&&(t.push('<span class="bUIInput__ePasswordEye jsUIInput__ePasswordEye"></span>'),a&&a()),t.push("</span></span></span>"),e.errorMessage&&h(e)},h=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},y=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});if(e.external)var a=void 0,n=e.external;else var i=+new Date,a="captcha_"+i,n="/captcha/?c="+i;s=[],e.modifiers&&s.push(e.modifiers),e.width&&s.push("bUICaptcha__mWidth_"+e.width),e.hidden&&s.push("bUICaptcha__mState_Hidden"),t.push("<table"+jade.attrs({cellspacing:"0",cellpadding:"0","class":["bUICaptcha",s.join(" ")]},{"class":!0,cellspacing:!0,cellpadding:!0})+'><tr><td class="bUICaptcha__eLeft">'),e.showLabel&&t.push('<span class="bUICaptcha__eLabel">'+(null==(jade.interp=r("Interface","EnterNumbersFromTheImage"))?"":jade.interp)+"</span>"),t.push("<a"+jade.attrs({href:"?",tabindex:"-1",onclick:e.external?void 0:"return false;","class":["bUICaptcha__eLinkImage"]},{href:!0,tabindex:!0,onclick:!0})+"><img"+jade.attrs({id:a,src:n,width:"128",height:"34",onclick:e.external?void 0:"this.src='"+n+"&amp;' + Math.random();",alt:r("Interface","CaptchaPlaceholder"),"class":["bUICaptcha__eImage",e.imgModifiers]},{"class":!0,id:!0,src:!0,width:!0,height:!0,onclick:!0,alt:!0})+'/></a></td><td class="bUICaptcha__eCenter"><a'+jade.attrs({href:"?",tabindex:"-1",onclick:e.external?void 0:"document.getElementById('"+a+"').src='"+n+"&amp;' + Math.random(); return false;","class":["bUICaptcha__eReload"]},{href:!0,tabindex:!0,onclick:!0})+'></a></td><td class="bUICaptcha__eRight">'),b({name:e.name||"captcha",modifiers:"bUIInput__mSize_Small",placeholder:r("Interface","CaptchaPlaceholder"),pattern:e.pattern,width:"full"==e.width||"comfort"==e.width?"full":void 0,required:e.required,errorStroke:e.errorStroke,errorMessage:!1,errorArea:e.errorArea,errorsSet:e.errorsSet,maxlength:e.maxlength||6,autocomplete:!1}),t.push("</td></tr></table>"),e.errorMessage&&h(e)},I=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},h=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},j=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a='class="bSetContacts__eLink"',s='data-resend-code-handler-id="'+e.resendCode+'"';'id="'+e.switchContactTypeId+'"','data-switch-contact-type-handler-id="'+e.switchContactType+'"';if(o=[a,s].join(" "),t.push("<div"+jade.attrs({id:e.id,"class":["bUIPopup__eFooter","bUIPopup__eFooter__mPadding_True"]},{id:!0})+'><div class="bUIPopup__eFooter__eContent">'),e.showHelper||e.text)switch(e.type){case"tel":t.push('<b class="bUIPopup__eText bUIPopup__eText__mStyle_Bold bUIPopup__eText__mColor_Red">'+(null==(jade.interp=r("User","SetContactNoSMSTitle"))?"":jade.interp)+"</b>"),e.resendCode?t.push(null==(jade.interp=r("User","SetContactNoSMSResend",{attributes:o}))?"":jade.interp):t.push(null==(jade.interp=r("User","SetContactNoSMSCalmDown"))?"":jade.interp);break;case"email":t.push('<b class="bUIPopup__eText bUIPopup__eText__mStyle_Bold bUIPopup__eText__mColor_Red">'+(null==(jade.interp=r("User","SetContactNoEmailTitle"))?"":jade.interp)+"</b>"+(null==(jade.interp=r("User","SetContactNoEmailDesc"))?"":jade.interp)),e.resendCode&&t.push(null==(jade.interp=r("User","SetContactNoEmailResend",{attributes:o}))?"":jade.interp);break;default:t.push(null==(jade.interp=e.text)?"":jade.interp)}if(e.switchContactType){if(t.push("<a"+jade.attrs({id:e.switchContactTypeId,"data-switch-contact-type-handler-id":e.switchContactType,"class":["bSetContacts__eLink"]},{id:!0,"data-switch-contact-type-handler-id":!0})+">"),e.switchContactTypeText)t.push(null==(jade.interp=e.switchContactTypeText)?"":jade.interp);else switch(e.type){case"tel":t.push(null==(jade.interp=r("User","SetContactUseEmail"))?"":jade.interp);break;case"email":t.push(null==(jade.interp=r("User","SetContactUseMobile"))?"":jade.interp)}t.push("</a>")}e.changeMobileNumber&&t.push('<a href="#" class="bSetContacts__eLink">'+(null==(jade.interp=r("User","SetContactChangeMobile"))?"":jade.interp)+"</a>"),t.push('</div><div class="bUIPopup__eFooter__eLoaderContainer">'),I({type:"black"}),t.push("</div></div>")},U=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});e.header&&t.push('<h1 class="bUIPopup__eHeader">'+(null==(jade.interp=e.header)?"":jade.interp)+"</h1>"),e.captcha&&(t.push('<div class="bExternalPageFormItem">'),y({external:e.captcha.img,pattern:"[0-9]{6}",errorStroke:!1,errorMessage:!0,width:"comfort"}),e.captcha.errorText&&h({message:e.captcha.errorText}),t.push("</div>")),e.buttonTitle&&g({id:e.buttonId,width:"full",title:e.buttonTitle,className:"bUIButton__mState_disabled"})},P=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{});if(e.header&&t.push('<h1 class="bUIPopup__eHeader">'+(null==(jade.interp=e.header)?"":jade.interp)+"</h1>"),e.styled)switch(e.type){case"tel":t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_confirmCode">'+(null==(jade.interp=e.description)?"":jade.interp)+"</div>");break;case"email":t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_confirmEmail">'+(null==(jade.interp=e.description)?"":jade.interp)+"</div>")}else t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mType_text bExternalPageFormItem__mText_identity">'),e.description?t.push(null==(jade.interp=e.description)?"":jade.interp):t.push(null==(jade.interp=r("User","SetContactConfirmCode",{identity:e.identity}))?"":jade.interp),t.push("</div>");t.push("<div"+jade.attrs({id:e.id,"class":["bExternalPageFormItem","bExternalPageFormItem__mAlign_center","bExternalPageFormItem__mType_smscode"]},{id:!0})+">"),b({id:e.inputId,name:"code",placeholder:r("User","change_mobile_confirmOldNumberCode__codePlaceholder"),autofocus:!0,width:"full",required:!0,pattern:"[0-9]{4}",maxlength:4,errorStroke:!1,errorMessage:!1,errorArea:".jsCode__Error",errorsSet:{empty:r("User","ConfirmCodeRequired"),format:r("User","InvalidSymboldInConfirmCode")}}),h({modifiers:"jsCode__Error",message:e.codeErrorText}),t.push("</div>"),U({captcha:e.captcha}),a&&a(),g({id:e.buttonId,width:"full",title:e.buttonTitle,className:"bUIButton__mState_disabled"})},S=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{});e.header&&t.push('<h1 class="bUIPopup__eHeader">'+(null==(jade.interp=e.header)?"":jade.interp)+"</h1>"),e.description&&t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mType_text bExternalPageFormItem__mText_identity">'+(null==(jade.interp=e.description)?"":jade.interp)+"</div>"),e.noControls?e.identityErrorText&&(t.push('<div class="bExternalPageFormItem">'),h({message:e.identityErrorText}),t.push("</div>")):(t.push("<div"+jade.attrs({id:e.id,"class":["bExternalPageFormItem"]},{id:!0})+">"),b({id:e.inputId,name:"identity",value:e.formData.identity,placeholder:e.inputPlaceholder,type:"email",autofocus:!0,width:"full",required:!0,pattern:"^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$",errorStroke:!1,errorMessage:!1,errorArea:".jsMobile__Error",errorsSet:{empty:r("User","EnterEmailAddress"),format:r("User","CheckEmail")}}),h({modifiers:"jsMobile__Error",message:e.identityErrorText}),t.push("</div>")),U({captcha:e.captcha}),a&&a(),g({id:e.buttonId,width:"full",title:e.buttonTitle,className:"bUIButton__mState_disabled"})},C=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});switch(e.error){case l.NO_L4G_APP:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorNoL4GApp"))?"":jade.interp)+"</div>"),j({text:r("User","SetContactErrorNoL4GAppSolution")});break;case l.UNKNOWN:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorUnknown"))?"":jade.interp)+"</div>"),j({text:r("User","SetContactErrorUnknownSolution")});break;case l.DEVICE_IS_TRUSTED:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorDeviseIsTrusted"))?"":jade.interp)+"</div>");break;case l.NO_DEVICE_TO_DELETE:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorNoDeviceToDelete"))?"":jade.interp)+"</div>"),j({text:r("User","SetContactErrorNoDeviceToDeleteSolution")});break;case l.FORBIDDEN_OPERATION:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorForbidden"))?"":jade.interp)+"</div>");break;case l.UNABLE_TO_CHANGE_MOBILE:t.push('<div id="jsSetContactWidget__UnableToChangeMobile" class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","unableToChangeMobile__text",{link:p.supportUrl}))?"":jade.interp)+"</div>");break;case l.CODE_EXPIRED:t.push('<div id="jsSetContactWidget__CodeExpired" class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","codeExpired__text"))?"":jade.interp)+"</div>");break;case l.CUSTOM:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=e.errorText||r("User","SetContactErrorUnknown"))?"":jade.interp)+"</div>")}},x=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};d&&x(d);var B="",w="";if(_.identity){u=_.identity.split(":");var B=u[0],w=u[1]}if(t.push("<form"+jade.attrs({novalidate:"novalidate","data-target":"bForm_simple","data-validate-submit":"true","data-js-widgets":"block!bForm/bForm_simple","data-submit-handler-id":_.submitHandlerId},{novalidate:!0,"data-target":!0,"data-validate-submit":!0,"data-js-widgets":!0,"data-submit-handler-id":!0})+">"),_.error)C({error:_.error});else switch(_.action){case c.ADD:switch(_.step){case"captcha":U({header:r("User","add_email_init__header"),captcha:_.captcha,buttonTitle:r("User","change_mobile_confirmCode__buttonTitle")});break;case"init":S({header:r("User","add_email_init__header"),inputPlaceholder:r("User","add_email_init__emailPlaceholder"),inputId:"jsSetContactWidget__AddEmail__InitEmailInput",buttonTitle:r("User","add_email_init__buttonTitle"),buttonId:"jsSetContactWidget__AddEmail__InitButton",formData:m,identityErrorText:_.identityErrorText,captcha:_.captcha});break;case"pincode":P({description:r("User","add_mobile_confirmCode__text",{mobile:w}),buttonTitle:r("User","add_email_confirmCode__buttonTitle"),type:B,codeErrorText:_.codeErrorText,captcha:_.captcha,styled:!0}),j({type:B,showHelper:!0,resendCode:_.resendCodeHandlerId});break;case"verification":t.push('<div id="jsSetContactWidget__AddEmail__LetterScreen1Text" class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_confirmEmail">'+(null==(jade.interp=r("User","add_email_letterScreen1__text",{email:w}))?"":jade.interp)+"</div>"),j({id:"jsSetContactWidget__AddEmail__LetterScreen1SendAgain",type:B,showHelper:!0,resendCode:_.resendCodeHandlerId});break;case"standalone-error":C({error:l.CUSTOM,errorText:_.identityErrorText});break;default:C({error:l.UNKNOWN})}break;case c.CHANGE:switch(_.step){case"captcha":U({header:r("User","change_email_init__header"),captcha:_.captcha,buttonTitle:r("User","change_mobile_confirmCode__buttonTitle")});break;case"init":S({header:r("User","change_email_init__header"),inputPlaceholder:r("User","change_email_init__emailPlaceholder"),inputId:"jsSetContactWidget__ChangeEmail__InitEmailInput",buttonTitle:r("User","change_email_init__buttonTitle"),buttonId:"jsSetContactWidget__ChangeEmail__InitButton",formData:m,identityErrorText:_.identityErrorText,captcha:_.captcha});break;case"pincode":P({inputId:"jsSetContactWidget__ChangeEmail__SmsCodeInput",description:r("User","change_email_confirmContact__text",{mobile:w}),buttonId:"jsSetContactWidget__ChangeEmail__SmsCodeButton",buttonTitle:r("User","change_email_confirmContact__buttonTitle"),type:B,codeErrorText:_.codeErrorText,captcha:_.captcha,styled:!0}),j({type:B,showHelper:!0,resendCode:_.resendCodeHandlerId});break;case"verification":t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_confirmEmail">'+(null==(jade.interp=r("User","change_email_letterScreen1__text",{email:w}))?"":jade.interp)+"</div>"),j({type:B,showHelper:!0,resendCode:_.resendCodeHandlerId});break;case"complete":t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_confirmEmail">'+(null==(jade.interp=r("User","change_email_letterScreen2__text1",{email:w}))?"":jade.interp)+"</div>"),j({type:B,showHelper:!0,resendCode:_.resendCodeHandlerId});break;case"standalone-error":C({error:l.CUSTOM,errorText:_.identityErrorText});break;default:C({error:l.UNKNOWN})}}return t.push("</form>"),t.join("")},e.bSetContacts_mobile=function(e){var t=[],a=e||{},s=a.modifiers,n=a.dataAttr,i=a.fieldAttr,r=(a.newParams,a.t),o=a.resendLinkAttrs,l=a.errors,p=a.config,d=(a.typeModifiers,a.data),_=a.state,u=a.identityParts,c=a.actions,m=a.formData,h=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},b=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{}),r="password"==e.type,o=e.errorStroke||!0;s=[],n={},i={},e.modifiers&&s.push(e.modifiers),e.placeholder&&s.push("jsUIInput__mPlaceholder"),(e.pattern||e.required)&&s.push("jsUIInput__mValidate"),e.patternReplaceExclude&&s.push("jsUIInput__mReplace"),"full"==e.width&&s.push("bUIInput__mWidth_full"),o&&s.push("jsUIInput__mHasErrorStroke"),r&&s.push("bUIInput__mType_Password","jsUIInput__mPassword"),(e.disabled||e.readonly)&&s.push("bUIInput__mEvent_Disabled"),e.dataAttributes&&function(){var t=e.dataAttributes;if("number"==typeof t.length)for(var a=0,s=t.length;a<s;a++){var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}else{var s=0;for(var a in t){s++;var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}}}.call(this),t.push("<span"+jade.attrs({"data-js-widgets":"block!bUIInput","data-target":"bUIInput","class":["jsUIInput","bUIInput",s.join(" ")]},{"class":!0,"data-js-widgets":!0,"data-target":!0})+'><span class="bUIInput__eBorder"><span class="bUIInput__eOutline jsUIInput__eOutline"><span class="bUIInput__ePlaceholderGap"><span class="bUIInput__ePlaceholder"></span><span class="bUIInput__ePlaceholderText">'),e.placeholder?t.push(null==(jade.interp=e.placeholder)?"":jade.interp):t.push("&nbsp;"),t.push("</span><input"+jade.attrs({disabled:"disabled","class":["bUIInput__eInputBg","jsUIInput__eInputBg",e.placeholder&&!e.value?"bUIInput__eInputBg__mPlaceholder_Visible":void 0]},{"class":!0,disabled:!0})+'/><span class="bUIInput__eShadow"></span>'),r&&t.push("<input"+jade.attrs({type:"text",name:e.name,disabled:"disabled",id:e.id?e.id+"__PlainText":void 0,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,required:e.required||e.pattern?"required":void 0,pattern:e.pattern,tabindex:e.tabindex,"data-group":e.group,"class":["jsUIInput__eControls","jsUIInput__ePasswordText","bUIInput__eControl","bUIInput__ePassword"]},{type:!0,name:!0,disabled:!0,id:!0,autocomplete:!0,maxlength:!0,required:!0,pattern:!0,tabindex:!0,"data-group":!0})+"/>"),t.push("<input"+jade.attrs({id:e.id,type:e.type||"text",name:e.name,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,value:e.value,disabled:e.disabled?"disabled":void 0,readonly:e.readonly?"readonly":void 0,autofocus:e.autofocus?"autofocus":void 0,"data-error":e.placeholder?e.placeholder:void 0,required:e.required||e.pattern?"required":void 0,min:e.min,max:e.max,pattern:e.pattern,"data-pattern-replace-exclude":e.patternReplaceExclude,tabindex:e.tabindex,"data-error-area":e.errorArea,"data-can-be-empty":e.canBeEmpty?"true":void 0,onclick:e.errorsSet?"return "+JSON.stringify(e.errorsSet):void 0,"data-group":e.group,"class":["jsUIInput__eControl","jsUIInput__eControls","bUIInput__eControl",r?"jsUIInput__ePassword":void 0]},{"class":!0,id:!0,type:!0,name:!0,autocomplete:!0,maxlength:!0,value:!0,disabled:!0,readonly:!0,autofocus:!0,"data-error":!0,required:!0,min:!0,max:!0,pattern:!0,"data-pattern-replace-exclude":!0,tabindex:!0,"data-error-area":!0,"data-can-be-empty":!0,onclick:!0,"data-group":!0})+"/></span>"),r&&(t.push('<span class="bUIInput__ePasswordEye jsUIInput__ePasswordEye"></span>'),a&&a()),t.push("</span></span></span>"),e.errorMessage&&h(e)},I=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},g=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});f(e)};t.push("<!-- сама кнопка-->");var f=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),v(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),v(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var v=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),I({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},I=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},h=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},b=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{}),r="password"==e.type,o=e.errorStroke||!0;s=[],n={},i={},e.modifiers&&s.push(e.modifiers),e.placeholder&&s.push("jsUIInput__mPlaceholder"),(e.pattern||e.required)&&s.push("jsUIInput__mValidate"),e.patternReplaceExclude&&s.push("jsUIInput__mReplace"),"full"==e.width&&s.push("bUIInput__mWidth_full"),o&&s.push("jsUIInput__mHasErrorStroke"),r&&s.push("bUIInput__mType_Password","jsUIInput__mPassword"),
(e.disabled||e.readonly)&&s.push("bUIInput__mEvent_Disabled"),e.dataAttributes&&function(){var t=e.dataAttributes;if("number"==typeof t.length)for(var a=0,s=t.length;a<s;a++){var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}else{var s=0;for(var a in t){s++;var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}}}.call(this),t.push("<span"+jade.attrs({"data-js-widgets":"block!bUIInput","data-target":"bUIInput","class":["jsUIInput","bUIInput",s.join(" ")]},{"class":!0,"data-js-widgets":!0,"data-target":!0})+'><span class="bUIInput__eBorder"><span class="bUIInput__eOutline jsUIInput__eOutline"><span class="bUIInput__ePlaceholderGap"><span class="bUIInput__ePlaceholder"></span><span class="bUIInput__ePlaceholderText">'),e.placeholder?t.push(null==(jade.interp=e.placeholder)?"":jade.interp):t.push("&nbsp;"),t.push("</span><input"+jade.attrs({disabled:"disabled","class":["bUIInput__eInputBg","jsUIInput__eInputBg",e.placeholder&&!e.value?"bUIInput__eInputBg__mPlaceholder_Visible":void 0]},{"class":!0,disabled:!0})+'/><span class="bUIInput__eShadow"></span>'),r&&t.push("<input"+jade.attrs({type:"text",name:e.name,disabled:"disabled",id:e.id?e.id+"__PlainText":void 0,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,required:e.required||e.pattern?"required":void 0,pattern:e.pattern,tabindex:e.tabindex,"data-group":e.group,"class":["jsUIInput__eControls","jsUIInput__ePasswordText","bUIInput__eControl","bUIInput__ePassword"]},{type:!0,name:!0,disabled:!0,id:!0,autocomplete:!0,maxlength:!0,required:!0,pattern:!0,tabindex:!0,"data-group":!0})+"/>"),t.push("<input"+jade.attrs({id:e.id,type:e.type||"text",name:e.name,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,value:e.value,disabled:e.disabled?"disabled":void 0,readonly:e.readonly?"readonly":void 0,autofocus:e.autofocus?"autofocus":void 0,"data-error":e.placeholder?e.placeholder:void 0,required:e.required||e.pattern?"required":void 0,min:e.min,max:e.max,pattern:e.pattern,"data-pattern-replace-exclude":e.patternReplaceExclude,tabindex:e.tabindex,"data-error-area":e.errorArea,"data-can-be-empty":e.canBeEmpty?"true":void 0,onclick:e.errorsSet?"return "+JSON.stringify(e.errorsSet):void 0,"data-group":e.group,"class":["jsUIInput__eControl","jsUIInput__eControls","bUIInput__eControl",r?"jsUIInput__ePassword":void 0]},{"class":!0,id:!0,type:!0,name:!0,autocomplete:!0,maxlength:!0,value:!0,disabled:!0,readonly:!0,autofocus:!0,"data-error":!0,required:!0,min:!0,max:!0,pattern:!0,"data-pattern-replace-exclude":!0,tabindex:!0,"data-error-area":!0,"data-can-be-empty":!0,onclick:!0,"data-group":!0})+"/></span>"),r&&(t.push('<span class="bUIInput__ePasswordEye jsUIInput__ePasswordEye"></span>'),a&&a()),t.push("</span></span></span>"),e.errorMessage&&h(e)},h=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},y=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});if(e.external)var a=void 0,n=e.external;else var i=+new Date,a="captcha_"+i,n="/captcha/?c="+i;s=[],e.modifiers&&s.push(e.modifiers),e.width&&s.push("bUICaptcha__mWidth_"+e.width),e.hidden&&s.push("bUICaptcha__mState_Hidden"),t.push("<table"+jade.attrs({cellspacing:"0",cellpadding:"0","class":["bUICaptcha",s.join(" ")]},{"class":!0,cellspacing:!0,cellpadding:!0})+'><tr><td class="bUICaptcha__eLeft">'),e.showLabel&&t.push('<span class="bUICaptcha__eLabel">'+(null==(jade.interp=r("Interface","EnterNumbersFromTheImage"))?"":jade.interp)+"</span>"),t.push("<a"+jade.attrs({href:"?",tabindex:"-1",onclick:e.external?void 0:"return false;","class":["bUICaptcha__eLinkImage"]},{href:!0,tabindex:!0,onclick:!0})+"><img"+jade.attrs({id:a,src:n,width:"128",height:"34",onclick:e.external?void 0:"this.src='"+n+"&amp;' + Math.random();",alt:r("Interface","CaptchaPlaceholder"),"class":["bUICaptcha__eImage",e.imgModifiers]},{"class":!0,id:!0,src:!0,width:!0,height:!0,onclick:!0,alt:!0})+'/></a></td><td class="bUICaptcha__eCenter"><a'+jade.attrs({href:"?",tabindex:"-1",onclick:e.external?void 0:"document.getElementById('"+a+"').src='"+n+"&amp;' + Math.random(); return false;","class":["bUICaptcha__eReload"]},{href:!0,tabindex:!0,onclick:!0})+'></a></td><td class="bUICaptcha__eRight">'),b({name:e.name||"captcha",modifiers:"bUIInput__mSize_Small",placeholder:r("Interface","CaptchaPlaceholder"),pattern:e.pattern,width:"full"==e.width||"comfort"==e.width?"full":void 0,required:e.required,errorStroke:e.errorStroke,errorMessage:!1,errorArea:e.errorArea,errorsSet:e.errorsSet,maxlength:e.maxlength||6,autocomplete:!1}),t.push("</td></tr></table>"),e.errorMessage&&h(e)},I=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},j=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",p="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var p=p+"True";else var p=p+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",p]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&I({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&I({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&I({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},h=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},U=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a='class="bSetContacts__eLink"',s='data-resend-code-handler-id="'+e.resendCode+'"';'id="'+e.switchContactTypeId+'"','data-switch-contact-type-handler-id="'+e.switchContactType+'"';if(o=[a,s].join(" "),t.push("<div"+jade.attrs({id:e.id,"class":["bUIPopup__eFooter","bUIPopup__eFooter__mPadding_True"]},{id:!0})+'><div class="bUIPopup__eFooter__eContent">'),e.showHelper||e.text)switch(e.type){case"tel":t.push('<b class="bUIPopup__eText bUIPopup__eText__mStyle_Bold bUIPopup__eText__mColor_Red">'+(null==(jade.interp=r("User","SetContactNoSMSTitle"))?"":jade.interp)+"</b>"),e.resendCode?t.push(null==(jade.interp=r("User","SetContactNoSMSResend",{attributes:o}))?"":jade.interp):t.push(null==(jade.interp=r("User","SetContactNoSMSCalmDown"))?"":jade.interp);break;case"email":t.push('<b class="bUIPopup__eText bUIPopup__eText__mStyle_Bold bUIPopup__eText__mColor_Red">'+(null==(jade.interp=r("User","SetContactNoEmailTitle"))?"":jade.interp)+"</b>"+(null==(jade.interp=r("User","SetContactNoEmailDesc"))?"":jade.interp)),e.resendCode&&t.push(null==(jade.interp=r("User","SetContactNoEmailResend",{attributes:o}))?"":jade.interp);break;default:t.push(null==(jade.interp=e.text)?"":jade.interp)}if(e.switchContactType){if(t.push("<a"+jade.attrs({id:e.switchContactTypeId,"data-switch-contact-type-handler-id":e.switchContactType,"class":["bSetContacts__eLink"]},{id:!0,"data-switch-contact-type-handler-id":!0})+">"),e.switchContactTypeText)t.push(null==(jade.interp=e.switchContactTypeText)?"":jade.interp);else switch(e.type){case"tel":t.push(null==(jade.interp=r("User","SetContactUseEmail"))?"":jade.interp);break;case"email":t.push(null==(jade.interp=r("User","SetContactUseMobile"))?"":jade.interp)}t.push("</a>")}e.changeMobileNumber&&t.push('<a href="#" class="bSetContacts__eLink">'+(null==(jade.interp=r("User","SetContactChangeMobile"))?"":jade.interp)+"</a>"),t.push('</div><div class="bUIPopup__eFooter__eLoaderContainer">'),I({type:"black"}),t.push("</div></div>")},P=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});e.header&&t.push('<h1 class="bUIPopup__eHeader">'+(null==(jade.interp=e.header)?"":jade.interp)+"</h1>"),e.captcha&&(t.push('<div class="bExternalPageFormItem">'),y({external:e.captcha.img,pattern:"[0-9]{6}",errorStroke:!1,errorMessage:!0,width:"comfort"}),e.captcha.errorText&&h({message:e.captcha.errorText}),t.push("</div>")),e.buttonTitle&&g({id:e.buttonId,width:"full",title:e.buttonTitle,className:"bUIButton__mState_disabled"})},S=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{});if(e.header&&t.push('<h1 class="bUIPopup__eHeader">'+(null==(jade.interp=e.header)?"":jade.interp)+"</h1>"),e.styled)switch(e.type){case"tel":t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_confirmCode">'+(null==(jade.interp=e.description)?"":jade.interp)+"</div>");break;case"email":t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_confirmEmail">'+(null==(jade.interp=e.description)?"":jade.interp)+"</div>")}else t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mType_text bExternalPageFormItem__mText_identity">'),e.description?t.push(null==(jade.interp=e.description)?"":jade.interp):t.push(null==(jade.interp=r("User","SetContactConfirmCode",{identity:e.identity}))?"":jade.interp),t.push("</div>");t.push("<div"+jade.attrs({id:e.id,"class":["bExternalPageFormItem","bExternalPageFormItem__mAlign_center","bExternalPageFormItem__mType_smscode"]},{id:!0})+">"),b({id:e.inputId,name:"code",placeholder:r("User","change_mobile_confirmOldNumberCode__codePlaceholder"),autofocus:!0,width:"full",required:!0,pattern:"[0-9]{4}",maxlength:4,errorStroke:!1,errorMessage:!1,errorArea:".jsCode__Error",errorsSet:{empty:r("User","ConfirmCodeRequired"),format:r("User","InvalidSymboldInConfirmCode")}}),h({modifiers:"jsCode__Error",message:e.codeErrorText}),t.push("</div>"),P({captcha:e.captcha}),a&&a(),g({id:e.buttonId,width:"full",title:e.buttonTitle,className:"bUIButton__mState_disabled"})},C=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{});e.header&&t.push('<h1 class="bUIPopup__eHeader">'+(null==(jade.interp=e.header)?"":jade.interp)+"</h1>"),e.description&&t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mType_text">'+(null==(jade.interp=e.description)?"":jade.interp)+"</div>"),e.noControls?e.identityErrorText&&(t.push('<div class="bExternalPageFormItem">'),h({message:e.identityErrorText}),t.push("</div>")):(t.push("<div"+jade.attrs({id:e.id,"class":["bExternalPageFormItem"]},{id:!0})+">"),b({id:e.inputId,name:"identity",value:e.formData.identity,placeholder:e.inputPlaceholder,type:"tel",autofocus:!0,width:"full",required:!0,pattern:"^\\+(((?=[12356]{1}|97|99)\\d{5,14})|((?!490)(?!789)(?!8)(?!9)\\d{5,14}))$",errorStroke:!1,errorMessage:!1,errorArea:".jsMobile__Error",errorsSet:{empty:r("User","EnterPhoneNumber"),format:r("User","MobileNumberInvalidFormat")}}),e.showFormatHelper&&j({content:r("User","SetContactFormatHelper"),type:"subinfo"}),h({modifiers:"jsMobile__Error",message:e.identityErrorText}),t.push("</div>")),P({captcha:e.captcha}),a&&a(),g({id:e.buttonId,width:"full",title:e.buttonTitle,className:"bUIButton__mState_disabled"})},x=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});switch(e.error){case l.NO_L4G_APP:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorNoL4GApp"))?"":jade.interp)+"</div>"),U({text:r("User","SetContactErrorNoL4GAppSolution")});break;case l.UNKNOWN:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorUnknown"))?"":jade.interp)+"</div>"),U({text:r("User","SetContactErrorUnknownSolution")});break;case l.DEVICE_IS_TRUSTED:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorDeviseIsTrusted"))?"":jade.interp)+"</div>");break;case l.NO_DEVICE_TO_DELETE:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorNoDeviceToDelete"))?"":jade.interp)+"</div>"),U({text:r("User","SetContactErrorNoDeviceToDeleteSolution")});break;case l.FORBIDDEN_OPERATION:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorForbidden"))?"":jade.interp)+"</div>");break;case l.UNABLE_TO_CHANGE_MOBILE:t.push('<div id="jsSetContactWidget__UnableToChangeMobile" class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","unableToChangeMobile__text",{link:p.supportUrl}))?"":jade.interp)+"</div>");break;case l.CODE_EXPIRED:t.push('<div id="jsSetContactWidget__CodeExpired" class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","codeExpired__text"))?"":jade.interp)+"</div>");break;case l.CUSTOM:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=e.errorText||r("User","SetContactErrorUnknown"))?"":jade.interp)+"</div>")}},B=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")};d&&B(d);var w="",k="";if(_.identity){u=_.identity.split(":");var w=u[0],k=u[1]}if(t.push("<form"+jade.attrs({novalidate:"novalidate","data-target":"bForm_simple","data-validate-submit":"true","data-js-widgets":"block!bForm/bForm_simple","data-submit-handler-id":_.submitHandlerId},{novalidate:!0,"data-target":!0,"data-validate-submit":!0,"data-js-widgets":!0,"data-submit-handler-id":!0})+">"),_.error)x({error:_.error});else switch(_.action){case c.ADD:switch(_.step){case"init":C({header:r("User","add_mobile_init__header"),inputPlaceholder:r("User","add_mobile_init__phonePlaceholder"),inputId:"jsSetContactWidget__AddMobile__InitPhoneInput",buttonTitle:r("User","add_mobile_init__buttonTitle"),buttonId:"jsSetContactWidget__AddMobile__InitButton",formData:m,identityErrorText:_.identityErrorText,captcha:_.captcha});break;case"pincode":S({description:r("User","add_mobile_confirmCode__text",{mobile:k}),inputId:"jsSetContactWidget__AddMobile__SmsCodeInput",buttonTitle:r("User","add_mobile_confirmCode__buttonTitle"),buttonId:"jsSetContactWidget__AddMobile__SmsCodeButton",type:w,codeErrorText:_.codeErrorText,captcha:_.captcha,styled:!0}),U({id:"jsSetContactWidget__AddMobile__SmsCodeSendAgain",type:w,showHelper:!0,resendCode:_.resendCodeHandlerId});break;case"complete":t.push('<div id="jsSetContactWidget__AddMobile__LetterScreen2Text" class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_confirmEmail">'+(null==(jade.interp=r("User","add_mobile_checkEmail__text1",{email:k}))?"":jade.interp)+"</div>"),U({id:"jsSetContactWidget__AddMobile__LetterScreen2SendAgain",type:w,showHelper:!0,resendCode:_.resendCodeHandlerId});break;case"standalone-error":x({error:l.CUSTOM,errorText:_.identityErrorText});break;default:x({error:l.UNKNOWN})}break;case c.CHANGE:switch(_.step){case"init":C({header:r("User","change_mobile_init__header"),inputPlaceholder:r("User","change_mobile_init__phonePlaceholder"),inputId:"jsSetContactWidget__ChangeMobile__InitPhoneInput",buttonTitle:r("User","change_mobile_init__buttonTitle"),buttonId:"jsSetContactWidget__ChangeMobile__InitButton",formData:m,identityErrorText:_.identityErrorText,captcha:_.captcha});break;case"validate-pincode":S({description:r("User","change_mobile_confirmCode__text",{newMobile:k}),inputId:"jsSetContactWidget__ChangeMobile__SmsNewCodeInput",buttonTitle:r("User","change_mobile_confirmCode__buttonTitle"),buttonId:"jsSetContactWidget__ChangeMobile__SmsNewCodeButton",type:w,codeErrorText:_.codeErrorText,captcha:_.captcha,styled:!0}),U({id:"jsSetContactWidget__ChangeMobile__SmsNewCodeSendAgain",type:w,showHelper:!0,resendCode:_.resendCodeHandlerId});break;case"confirm-pincode":S({description:r("User","change_mobile_confirmOldNumberCode__text",{oldMobile:k}),inputId:"jsSetContactWidget__ChangeMobile__SmsOldCodeInput",buttonTitle:r("User","change_mobile_confirmOldNumberCode__buttonTitle"),buttonId:"jsSetContactWidget__ChangeMobile__SmsOldCodeButton",type:w,codeErrorText:_.codeErrorText,captcha:_.captcha,styled:!0}),U({id:"jsSetContactWidget__ChangeMobile__SmsOldCodeSendAgain",type:w,showHelper:!0,resendCode:_.resendCodeHandlerId});break;case"standalone-error":x({error:l.CUSTOM,errorText:_.identityErrorText});break;default:x({error:l.UNKNOWN})}break;case c.DELETE:switch(_.step){case"init":C({header:r("User","delete_mobile_init__header"),inputPlaceholder:r("User","delete_mobile_init__phonePlaceholder"),inputId:"jsSetContactWidget__DeleteMobile__InitPhoneInput",buttonTitle:r("User","delete_mobile_init__buttonTitle"),buttonId:"jsSetContactWidget__DeleteMobile__InitButton",formData:m,identityErrorText:_.identityErrorText,captcha:_.captcha,showFormatHelper:!0});break;case"pincode":S({description:r("User","delete_mobile_confirmCode__text",{mobile:k}),inputId:"jsSetContactWidget__DeleteMobile__SmsCodeInput",buttonTitle:r("User","delete_mobile_confirmCode__buttonTitle"),buttonId:"jsSetContactWidget__DeleteMobile__SmsCodeButton",type:w,codeErrorText:_.codeErrorText,captcha:_.captcha,styled:!0}),U({id:"jsSetContactWidget__DeleteMobile__SmsCodeSendAgain",type:w,showHelper:!0,resendCode:_.resendCodeHandlerId});break;case"standalone-error":x({error:l.CUSTOM,errorText:_.identityErrorText});break;default:x({error:l.UNKNOWN})}}return t.push("</form>"),t.join("")},e.bSetContacts_ubersecurity=function(e){var t=[],a=e||{},s=a.modifiers,n=a.dataAttr,i=a.fieldAttr,r=(a.newParams,a.t),o=a.resendLinkAttrs,l=a.errors,p=a.config,d=a.typeModifiers,_=a.data,u=a.state,c=a.identityParts,m=a.actions,h=a.formData,b=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},I=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{}),r="password"==e.type,o=e.errorStroke||!0;s=[],n={},i={},e.modifiers&&s.push(e.modifiers),e.placeholder&&s.push("jsUIInput__mPlaceholder"),(e.pattern||e.required)&&s.push("jsUIInput__mValidate"),e.patternReplaceExclude&&s.push("jsUIInput__mReplace"),"full"==e.width&&s.push("bUIInput__mWidth_full"),o&&s.push("jsUIInput__mHasErrorStroke"),r&&s.push("bUIInput__mType_Password","jsUIInput__mPassword"),(e.disabled||e.readonly)&&s.push("bUIInput__mEvent_Disabled"),e.dataAttributes&&function(){var t=e.dataAttributes;if("number"==typeof t.length)for(var a=0,s=t.length;a<s;a++){var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}else{var s=0;for(var a in t){s++;var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}}}.call(this),t.push("<span"+jade.attrs({"data-js-widgets":"block!bUIInput","data-target":"bUIInput","class":["jsUIInput","bUIInput",s.join(" ")]},{"class":!0,"data-js-widgets":!0,"data-target":!0})+'><span class="bUIInput__eBorder"><span class="bUIInput__eOutline jsUIInput__eOutline"><span class="bUIInput__ePlaceholderGap"><span class="bUIInput__ePlaceholder"></span><span class="bUIInput__ePlaceholderText">'),e.placeholder?t.push(null==(jade.interp=e.placeholder)?"":jade.interp):t.push("&nbsp;"),t.push("</span><input"+jade.attrs({disabled:"disabled","class":["bUIInput__eInputBg","jsUIInput__eInputBg",e.placeholder&&!e.value?"bUIInput__eInputBg__mPlaceholder_Visible":void 0]},{"class":!0,disabled:!0})+'/><span class="bUIInput__eShadow"></span>'),r&&t.push("<input"+jade.attrs({type:"text",name:e.name,disabled:"disabled",id:e.id?e.id+"__PlainText":void 0,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,required:e.required||e.pattern?"required":void 0,pattern:e.pattern,tabindex:e.tabindex,"data-group":e.group,"class":["jsUIInput__eControls","jsUIInput__ePasswordText","bUIInput__eControl","bUIInput__ePassword"]},{type:!0,name:!0,disabled:!0,id:!0,autocomplete:!0,maxlength:!0,required:!0,pattern:!0,tabindex:!0,"data-group":!0})+"/>"),t.push("<input"+jade.attrs({id:e.id,type:e.type||"text",name:e.name,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,value:e.value,disabled:e.disabled?"disabled":void 0,readonly:e.readonly?"readonly":void 0,autofocus:e.autofocus?"autofocus":void 0,"data-error":e.placeholder?e.placeholder:void 0,required:e.required||e.pattern?"required":void 0,min:e.min,max:e.max,pattern:e.pattern,"data-pattern-replace-exclude":e.patternReplaceExclude,tabindex:e.tabindex,"data-error-area":e.errorArea,"data-can-be-empty":e.canBeEmpty?"true":void 0,onclick:e.errorsSet?"return "+JSON.stringify(e.errorsSet):void 0,"data-group":e.group,"class":["jsUIInput__eControl","jsUIInput__eControls","bUIInput__eControl",r?"jsUIInput__ePassword":void 0]},{"class":!0,id:!0,type:!0,name:!0,autocomplete:!0,maxlength:!0,value:!0,disabled:!0,readonly:!0,autofocus:!0,"data-error":!0,required:!0,min:!0,max:!0,pattern:!0,"data-pattern-replace-exclude":!0,tabindex:!0,"data-error-area":!0,"data-can-be-empty":!0,onclick:!0,"data-group":!0})+"/></span>"),r&&(t.push('<span class="bUIInput__ePasswordEye jsUIInput__ePasswordEye"></span>'),a&&a()),t.push("</span></span></span>"),e.errorMessage&&b(e)},g=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},f=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});v(e)};t.push("<!-- сама кнопка-->");var v=function(e){var a=(this.block,this.attributes||{},this.escaped||{},[]),s=e.dataAttributes||{};e.className&&a.push(e.className),e.width&&a.push("bUIButton__mWidth_"+e.width),e.disabled&&a.push("bUIButton__mState_disabled"),e.loading&&a.push("bUIButton__mState_Loading"),e.running&&a.push("bUIButton__mState_running"),e.type&&("big"==e.type?a.push("bUIButton__mType_Big"):a.push("bUIButton__eFrame_type_"+e.type)),e.shadowed&&a.push("bUIButton__mType_shadowed"),e.color&&a.push("bUIButton__mColor_"+e.color),e.compact&&a.push("bUIButton__mCompact"),e.modifiers&&a.push(e.modifiers),e.link?(t.push("<a"+jade.attrs({target:"_top",href:e.link,"data-color":e.color,"data-reload-sections":e.dataReloadSections||!1,id:e.id||!1,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,target:!0,href:!0,"data-color":!0,"data-reload-sections":!0,id:!0})+">"),y(e),t.push("</a>")):(t.push("<button"+jade.attrs({"data-target":"bButton","data-color":e.color,hidefocus:"true",disabled:!!e.disabled&&"disabled",tabindex:!!e.tabindex&&e.tabindex,id:!!e.id&&e.id,name:e.name,"data-social-auth":s["social-auth"],"data-social-type":s["social-type"],"data-ft":s.ft,"class":["bUIButton","bUIButton__mDisplay_inline","bUIButton__eFrame",a.join(" ")]},{"class":!0,"data-target":!0,"data-color":!0,hidefocus:!0,disabled:!0,tabindex:!0,id:!0,name:!0,"data-social-auth":!0,"data-social-type":!0,"data-ft":!0})+">"),y(e),t.push("</button>"))};t.push("<!-- добавляем дополнительный элемент, если нужно-->");var y=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(e.premium)var a="bUIButton__eShine__mDecoration_premium";if(e.type)var a=a+" bUIButton__eShine_type_"+e.type;if("armored"==e.color){var s=20;for(t.push('<div class="bUIButton__eBolts">');s--;)t.push('<i class="bUIButton__eBolt"></i>');t.push("</div>")}t.push("<div"+jade.attrs({"class":["bUIButton__eShine",""+a]},{"class":!0})+'><div class="bUIButton__eLabel">'),e.template?t.push(null==(jade.interp=e.template.replace("#text#",e.title))?"":jade.interp):t.push("<span"+jade.attrs({"data-text":e.title},{"data-text":!0})+">"+(null==(jade.interp=e.title)?"":jade.interp)+"</span>"),t.push("</div>"),g({mixin:"bUIButton__eLoading"}),e.runningTitle&&t.push('<div class="bUIButton__eRunningLabel"><span'+jade.attrs({"data-text":e.runningTitle},{"data-text":!0})+">"+jade.escape(null==(jade.interp=e.runningTitle)?"":jade.interp)+"</span></div>"),t.push("</div>")},g=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},b=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},I=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{}),r="password"==e.type,o=e.errorStroke||!0;s=[],n={},i={},e.modifiers&&s.push(e.modifiers),e.placeholder&&s.push("jsUIInput__mPlaceholder"),(e.pattern||e.required)&&s.push("jsUIInput__mValidate"),e.patternReplaceExclude&&s.push("jsUIInput__mReplace"),"full"==e.width&&s.push("bUIInput__mWidth_full"),o&&s.push("jsUIInput__mHasErrorStroke"),r&&s.push("bUIInput__mType_Password","jsUIInput__mPassword"),(e.disabled||e.readonly)&&s.push("bUIInput__mEvent_Disabled"),e.dataAttributes&&function(){var t=e.dataAttributes;if("number"==typeof t.length)for(var a=0,s=t.length;a<s;a++){var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}else{var s=0;for(var a in t){s++;var r=t[a];"ft"!=a?n["data-"+a]=r:i["data-ft"]=r}}}.call(this),t.push("<span"+jade.attrs({"data-js-widgets":"block!bUIInput","data-target":"bUIInput","class":["jsUIInput","bUIInput",s.join(" ")]},{"class":!0,"data-js-widgets":!0,"data-target":!0})+'><span class="bUIInput__eBorder"><span class="bUIInput__eOutline jsUIInput__eOutline"><span class="bUIInput__ePlaceholderGap"><span class="bUIInput__ePlaceholder"></span><span class="bUIInput__ePlaceholderText">'),e.placeholder?t.push(null==(jade.interp=e.placeholder)?"":jade.interp):t.push("&nbsp;"),t.push("</span><input"+jade.attrs({disabled:"disabled","class":["bUIInput__eInputBg","jsUIInput__eInputBg",e.placeholder&&!e.value?"bUIInput__eInputBg__mPlaceholder_Visible":void 0]},{"class":!0,disabled:!0})+'/><span class="bUIInput__eShadow"></span>'),r&&t.push("<input"+jade.attrs({type:"text",name:e.name,disabled:"disabled",id:e.id?e.id+"__PlainText":void 0,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,required:e.required||e.pattern?"required":void 0,pattern:e.pattern,tabindex:e.tabindex,"data-group":e.group,"class":["jsUIInput__eControls","jsUIInput__ePasswordText","bUIInput__eControl","bUIInput__ePassword"]},{type:!0,name:!0,disabled:!0,id:!0,autocomplete:!0,maxlength:!0,required:!0,pattern:!0,tabindex:!0,"data-group":!0})+"/>"),t.push("<input"+jade.attrs({id:e.id,type:e.type||"text",name:e.name,autocomplete:e.autocomplete?"on":"off",maxlength:e.maxlength,value:e.value,disabled:e.disabled?"disabled":void 0,readonly:e.readonly?"readonly":void 0,autofocus:e.autofocus?"autofocus":void 0,"data-error":e.placeholder?e.placeholder:void 0,required:e.required||e.pattern?"required":void 0,min:e.min,max:e.max,pattern:e.pattern,"data-pattern-replace-exclude":e.patternReplaceExclude,tabindex:e.tabindex,"data-error-area":e.errorArea,"data-can-be-empty":e.canBeEmpty?"true":void 0,onclick:e.errorsSet?"return "+JSON.stringify(e.errorsSet):void 0,"data-group":e.group,"class":["jsUIInput__eControl","jsUIInput__eControls","bUIInput__eControl",r?"jsUIInput__ePassword":void 0]},{"class":!0,id:!0,type:!0,name:!0,autocomplete:!0,maxlength:!0,value:!0,disabled:!0,readonly:!0,autofocus:!0,"data-error":!0,required:!0,min:!0,max:!0,pattern:!0,"data-pattern-replace-exclude":!0,tabindex:!0,"data-error-area":!0,"data-can-be-empty":!0,onclick:!0,"data-group":!0})+"/></span>"),r&&(t.push('<span class="bUIInput__ePasswordEye jsUIInput__ePasswordEye"></span>'),a&&a()),t.push("</span></span></span>"),e.errorMessage&&b(e)},b=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";
if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},j=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});if(e.external)var a=void 0,n=e.external;else var i=+new Date,a="captcha_"+i,n="/captcha/?c="+i;s=[],e.modifiers&&s.push(e.modifiers),e.width&&s.push("bUICaptcha__mWidth_"+e.width),e.hidden&&s.push("bUICaptcha__mState_Hidden"),t.push("<table"+jade.attrs({cellspacing:"0",cellpadding:"0","class":["bUICaptcha",s.join(" ")]},{"class":!0,cellspacing:!0,cellpadding:!0})+'><tr><td class="bUICaptcha__eLeft">'),e.showLabel&&t.push('<span class="bUICaptcha__eLabel">'+(null==(jade.interp=r("Interface","EnterNumbersFromTheImage"))?"":jade.interp)+"</span>"),t.push("<a"+jade.attrs({href:"?",tabindex:"-1",onclick:e.external?void 0:"return false;","class":["bUICaptcha__eLinkImage"]},{href:!0,tabindex:!0,onclick:!0})+"><img"+jade.attrs({id:a,src:n,width:"128",height:"34",onclick:e.external?void 0:"this.src='"+n+"&amp;' + Math.random();",alt:r("Interface","CaptchaPlaceholder"),"class":["bUICaptcha__eImage",e.imgModifiers]},{"class":!0,id:!0,src:!0,width:!0,height:!0,onclick:!0,alt:!0})+'/></a></td><td class="bUICaptcha__eCenter"><a'+jade.attrs({href:"?",tabindex:"-1",onclick:e.external?void 0:"document.getElementById('"+a+"').src='"+n+"&amp;' + Math.random(); return false;","class":["bUICaptcha__eReload"]},{href:!0,tabindex:!0,onclick:!0})+'></a></td><td class="bUICaptcha__eRight">'),I({name:e.name||"captcha",modifiers:"bUIInput__mSize_Small",placeholder:r("Interface","CaptchaPlaceholder"),pattern:e.pattern,width:"full"==e.width||"comfort"==e.width?"full":void 0,required:e.required,errorStroke:e.errorStroke,errorMessage:!1,errorArea:e.errorArea,errorsSet:e.errorsSet,maxlength:e.maxlength||6,autocomplete:!1}),t.push("</td></tr></table>"),e.errorMessage&&b(e)},g=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||!1),a=e.type||"white",s={yellow:"bUISpinner__mColor_Yellow",white:"bUISpinner__mColor_White",green:"bUISpinner__mColor_Green",black:"bUISpinner__mColor_Black",big:"bUISpinner__mSize_Big"},s=s[a]||"",n=e.mixin||"";t.push("<i"+jade.attrs({id:e.id,"class":["bUISpinner","jsUISpinner",s+" "+n]},{"class":!0,id:!0})+'><i class="bUISpinner__eImage"></i></i>')},U=function(a){var s=this.block,a=(this.attributes||{},this.escaped||{},a||{}),n=[],i=a.type?"bInfoMessage__mType_"+a.type:"",r="",o="";if(a.style)var r=a.style;if(a.platform)var i=i+" bInfoMessage__mPlatformIcon_True";if(a.hiding)var i=i+" bGamePanelFixed__eHiding"+(e["Layout/panel.isCompact"]?" bGamePanelFixed__eHiding__mCompact_true":"");if(a.size)var i=i+" bInfoMessage__mSize_"+a.size;var l=a.align?"text-align: "+a.align:"",p="bInfoMessage__eLink__mUnderline_";if("undefined"==typeof a.underline&&a.underline===!0)var p=p+"True";else var p=p+"False";if(l.length&&n.push(l),r.length&&n.push(r),o=n.join("; "),a.href){var i=i+" bInfoMessage__eLinkContent";t.push("<a"+jade.attrs({href:a.href,target:a.target,id:a.id,style:r,"data-reload-sections":a.dataReloadSections,"class":["bInfoMessage__eLink",p]},{"class":!0,href:!0,target:!0,id:!0,style:!0,"data-reload-sections":!0})+"><span"+jade.attrs({style:l,"class":["bInfoMessage",i]},{"class":!0,style:!0})+">"),"progress"==a.type&&g({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></a>")}else if(a.localHref){var i=i+" bInfoMessage__eLocalHref";t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+'><span class="bInfoMessage__eLocalHrefText">'),"progress"==a.type&&g({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")}else t.push("<span"+jade.attrs({style:""+o,id:a.id,"class":["bInfoMessage",i]},{"class":!0,style:!0,id:!0})+">"),a.platform&&t.push('<span class="bPageFooter__eAppOSIcon"></span>'),t.push("<span>"),"progress"==a.type&&g({type:"yellow"}),t.push("<span>"+(null==(jade.interp=a.content)?"":jade.interp)+"</span>"),s&&s(),t.push("</span></span>")},b=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a="";if(s=[],e.message)var a=e.message;e.modifiers&&s.push(e.modifiers),e.inlineBlock?s.push("bUIErrorMessage__mDisplay_InlineBlock"):s.push("bUIErrorMessage__mDisplay_Block"),!a||null!=e.visible&&!e.visible?s.push("bUIErrorMessage__mDisplay_None"):s.push("bUIErrorMessage__mVisible_True"),t.push("<div"+jade.attrs({id:e.id,"class":["bUIErrorMessage",s.join(" ")]},{"class":!0,id:!0})+">"+(null==(jade.interp=a)?"":jade.interp)+"</div>")},P=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{}),a='class="bSetContacts__eLink"',s='data-resend-code-handler-id="'+e.resendCode+'"';'id="'+e.switchContactTypeId+'"','data-switch-contact-type-handler-id="'+e.switchContactType+'"';if(o=[a,s].join(" "),t.push("<div"+jade.attrs({id:e.id,"class":["bUIPopup__eFooter","bUIPopup__eFooter__mPadding_True"]},{id:!0})+'><div class="bUIPopup__eFooter__eContent">'),e.showHelper||e.text)switch(e.type){case"tel":t.push('<b class="bUIPopup__eText bUIPopup__eText__mStyle_Bold bUIPopup__eText__mColor_Red">'+(null==(jade.interp=r("User","SetContactNoSMSTitle"))?"":jade.interp)+"</b>"),e.resendCode?t.push(null==(jade.interp=r("User","SetContactNoSMSResend",{attributes:o}))?"":jade.interp):t.push(null==(jade.interp=r("User","SetContactNoSMSCalmDown"))?"":jade.interp);break;case"email":t.push('<b class="bUIPopup__eText bUIPopup__eText__mStyle_Bold bUIPopup__eText__mColor_Red">'+(null==(jade.interp=r("User","SetContactNoEmailTitle"))?"":jade.interp)+"</b>"+(null==(jade.interp=r("User","SetContactNoEmailDesc"))?"":jade.interp)),e.resendCode&&t.push(null==(jade.interp=r("User","SetContactNoEmailResend",{attributes:o}))?"":jade.interp);break;default:t.push(null==(jade.interp=e.text)?"":jade.interp)}if(e.switchContactType){if(t.push("<a"+jade.attrs({id:e.switchContactTypeId,"data-switch-contact-type-handler-id":e.switchContactType,"class":["bSetContacts__eLink"]},{id:!0,"data-switch-contact-type-handler-id":!0})+">"),e.switchContactTypeText)t.push(null==(jade.interp=e.switchContactTypeText)?"":jade.interp);else switch(e.type){case"tel":t.push(null==(jade.interp=r("User","SetContactUseEmail"))?"":jade.interp);break;case"email":t.push(null==(jade.interp=r("User","SetContactUseMobile"))?"":jade.interp)}t.push("</a>")}e.changeMobileNumber&&t.push('<a href="#" class="bSetContacts__eLink">'+(null==(jade.interp=r("User","SetContactChangeMobile"))?"":jade.interp)+"</a>"),t.push('</div><div class="bUIPopup__eFooter__eLoaderContainer">'),g({type:"black"}),t.push("</div></div>")},S=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});if(t.push("<div"+jade.attrs({id:e.id,"class":["bUIPopup__eFooter","bUIPopup__eFooter__mPadding_True","bUIPopup__eFooter__mHighlighted"]},{id:!0})+'><div class="bUIPopup__eFooter__eContent">'),e.title&&t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mType_text"><b class="bUIPopup__eText bUIPopup__eText__mStyle_Bold bUIPopup__eText__mColor_Red">'+(null==(jade.interp=e.title)?"":jade.interp)+"</b></div>"),e.description&&t.push('<div class="bExternalPageFormItem">'+(null==(jade.interp=e.description)?"":jade.interp)+"</div>"),e.switchContactType){if(t.push("<a"+jade.attrs({id:e.switchContactTypeId,"data-switch-contact-type-handler-id":e.switchContactType,"class":["bSetContacts__eLink"]},{id:!0,"data-switch-contact-type-handler-id":!0})+">"),e.switchContactTypeText)t.push(null==(jade.interp=e.switchContactTypeText)?"":jade.interp);else switch(e.type){case"tel":t.push(null==(jade.interp=r("User","SetContactUseEmail"))?"":jade.interp);break;case"email":t.push(null==(jade.interp=r("User","SetContactUseMobile"))?"":jade.interp)}t.push("</a>")}t.push('</div><div class="bUIPopup__eFooter__eLoaderContainer">'),g({type:"black"}),t.push("</div></div>")},C=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});e.header&&t.push('<h1 class="bUIPopup__eHeader">'+(null==(jade.interp=e.header)?"":jade.interp)+"</h1>"),e.captcha&&(t.push('<div class="bExternalPageFormItem">'),j({external:e.captcha.img,pattern:"[0-9]{6}",errorStroke:!1,errorMessage:!0,width:"comfort"}),e.captcha.errorText&&b({message:e.captcha.errorText}),t.push("</div>")),e.buttonTitle&&f({id:e.buttonId,width:"full",title:e.buttonTitle,className:"bUIButton__mState_disabled"})},x=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{});if(e.header&&t.push('<h1 class="bUIPopup__eHeader">'+(null==(jade.interp=e.header)?"":jade.interp)+"</h1>"),e.styled)switch(e.type){case"tel":t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_confirmCode">'+(null==(jade.interp=e.description)?"":jade.interp)+"</div>");break;case"email":t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_confirmEmail">'+(null==(jade.interp=e.description)?"":jade.interp)+"</div>")}else t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mType_text bExternalPageFormItem__mText_identity">'),e.description?t.push(null==(jade.interp=e.description)?"":jade.interp):t.push(null==(jade.interp=r("User","SetContactConfirmCode",{identity:e.identity}))?"":jade.interp),t.push("</div>");t.push("<div"+jade.attrs({id:e.id,"class":["bExternalPageFormItem","bExternalPageFormItem__mAlign_center","bExternalPageFormItem__mType_smscode"]},{id:!0})+">"),I({id:e.inputId,name:"code",placeholder:r("User","change_mobile_confirmOldNumberCode__codePlaceholder"),autofocus:!0,width:"full",required:!0,pattern:"[0-9]{4}",maxlength:4,errorStroke:!1,errorMessage:!1,errorArea:".jsCode__Error",errorsSet:{empty:r("User","ConfirmCodeRequired"),format:r("User","InvalidSymboldInConfirmCode")}}),b({modifiers:"jsCode__Error",message:e.codeErrorText}),t.push("</div>"),C({captcha:e.captcha}),a&&a(),f({id:e.buttonId,width:"full",title:e.buttonTitle,className:"bUIButton__mState_disabled"})},B=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{});e.header&&t.push('<h1 class="bUIPopup__eHeader">'+(null==(jade.interp=e.header)?"":jade.interp)+"</h1>"),e.description&&t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mType_text">'+(null==(jade.interp=e.description)?"":jade.interp)+"</div>"),e.noControls?e.identityErrorText&&(t.push('<div class="bExternalPageFormItem">'),b({message:e.identityErrorText}),t.push("</div>")):(t.push("<div"+jade.attrs({id:e.id,"class":["bExternalPageFormItem"]},{id:!0})+">"),I({id:e.inputId,name:"identity",value:e.formData.identity,placeholder:e.inputPlaceholder,type:"tel",autofocus:!0,width:"full",required:!0,pattern:"^\\+(((?=[12356]{1}|97|99)\\d{5,14})|((?!490)(?!789)(?!8)(?!9)\\d{5,14}))$",errorStroke:!1,errorMessage:!1,errorArea:".jsMobile__Error",errorsSet:{empty:r("User","EnterPhoneNumber"),format:r("User","MobileNumberInvalidFormat")}}),e.showFormatHelper&&U({content:r("User","SetContactFormatHelper"),type:"subinfo"}),b({modifiers:"jsMobile__Error",message:e.identityErrorText}),t.push("</div>")),C({captcha:e.captcha}),a&&a(),f({id:e.buttonId,width:"full",title:e.buttonTitle,className:"bUIButton__mState_disabled"})},w=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||{});e.header&&t.push('<h1 class="bUIPopup__eHeader">'+(null==(jade.interp=e.header)?"":jade.interp)+"</h1>"),e.description&&t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mType_text bExternalPageFormItem__mText_identity">'+(null==(jade.interp=e.description)?"":jade.interp)+"</div>"),e.noControls?e.identityErrorText&&(t.push('<div class="bExternalPageFormItem">'),b({message:e.identityErrorText}),t.push("</div>")):(t.push("<div"+jade.attrs({id:e.id,"class":["bExternalPageFormItem"]},{id:!0})+">"),I({id:e.inputId,name:"identity",value:e.formData.identity,placeholder:e.inputPlaceholder,type:"email",autofocus:!0,width:"full",required:!0,pattern:"^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$",errorStroke:!1,errorMessage:!1,errorArea:".jsMobile__Error",errorsSet:{empty:r("User","EnterEmailAddress"),format:r("User","CheckEmail")}}),b({modifiers:"jsMobile__Error",message:e.identityErrorText}),t.push("</div>")),C({captcha:e.captcha}),a&&a(),f({id:e.buttonId,width:"full",title:e.buttonTitle,className:"bUIButton__mState_disabled"})},k=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});switch(e.error){case l.NO_L4G_APP:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorNoL4GApp"))?"":jade.interp)+"</div>"),P({text:r("User","SetContactErrorNoL4GAppSolution")});break;case l.UNKNOWN:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorUnknown"))?"":jade.interp)+"</div>"),P({text:r("User","SetContactErrorUnknownSolution")});break;case l.DEVICE_IS_TRUSTED:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorDeviseIsTrusted"))?"":jade.interp)+"</div>");break;case l.NO_DEVICE_TO_DELETE:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorNoDeviceToDelete"))?"":jade.interp)+"</div>"),P({text:r("User","SetContactErrorNoDeviceToDeleteSolution")});break;case l.FORBIDDEN_OPERATION:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","SetContactErrorForbidden"))?"":jade.interp)+"</div>");break;case l.UNABLE_TO_CHANGE_MOBILE:t.push('<div id="jsSetContactWidget__UnableToChangeMobile" class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","unableToChangeMobile__text",{link:p.supportUrl}))?"":jade.interp)+"</div>");break;case l.CODE_EXPIRED:t.push('<div id="jsSetContactWidget__CodeExpired" class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=r("User","codeExpired__text"))?"":jade.interp)+"</div>");break;case l.CUSTOM:t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_warning">'+(null==(jade.interp=e.errorText||r("User","SetContactErrorUnknown"))?"":jade.interp)+"</div>")}},G=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});d={newWindow:"bUIIcons__eIcon__mType_NewWindow",newWindowGrey:"bUIIcons__eIcon__mType_NewWindowGrey",questionBlack:"bUIIcons__eIcon__mType_QuestionBlack",questionBlackHoverGrey:"bUIIcons__eIcon__mType_QuestionBlackHoverGrey",questionGrey:"bUIIcons__eIcon__mType_QuestionGrey",questionGreyBig:"bUIIcons__eIcon__mType_QuestionGreyBig"},s=[],e.mixin&&s.push(e.mixin),e.type&&s.push(d[e.type]||"ModifierNotFound"),t.push("<span"+jade.attrs({"class":["jsUIIcons__eIcon","bUIIcons__eIcon",s.join(" ")]},{"class":!0})+"></span>")},T=function(e){var a=this.block,e=(this.attributes||{},this.escaped||{},e||!1),s=e.arrow||"bottom",n=e.modifiers||"",i={right:"bUIHint__mArrow_Right",bottom:"bUIHint__mArrow_Bottom",top:"bUIHint__mArrow_Top",left:"bUIHint__mArrow_Left"},i=i[s]||"";if(e.opened)var n=n+" bUIHint__mState_Open";var n=n+" "+i;t.push("<span"+jade.attrs({id:e.id,"class":["bUIHint__ePopup","jsUIHint__ePopup",n]},{"class":!0,id:!0})+">"),e.withoutCloseBtn||t.push('<span class="bUIHint__eClose jsUIHint__eClose">&times;</span>'),t.push('<span class="bUIHint__eArrow jsUIHint__eArrow"></span>'),e&&e.escapedContent?t.push(""+jade.escape(null==(jade.interp=e.content)?"":jade.interp)):t.push(""+(null==(jade.interp=e.content)?"":jade.interp)),a&&a(),t.push("</span>")},L=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});s=[],e.mixin&&s.push(e.mixin),e.parentContext?s.push("bUIHint__mContext_Parent"):s.push("jsUIHint__mContext_Preceding"),t.push("<span"+jade.attrs({"data-js-widgets":"block!bUIHint","class":["jsUIHint","bUIIcon","bUIHint",s.join(" ")]},{"class":!0,"data-js-widgets":!0})+">"),T({opened:e.opened||!1,mixin:e.hintMixin,content:e.content,arrow:e.arrowSide}),G(e),t.push("</span>")};_&&T(_);var A=function(e){var e=(this.block,this.attributes||{},this.escaped||{},e||{});e.hint?(t.push("<div"+jade.attrs({"class":["bUICheckbox__eHintWrapper",e.hint.wrapperMixin]},{"class":!0})+">"),M(e,!0),L({type:"questionGreyBig",content:e.hint.content,mixin:(e.hint.mixin?e.hint.mixin+" ":"")+"bUICheckbox__eHintHandler",arrowSide:e.hint.arrowSide||"bottom",parentContext:!0}),t.push("</div>")):M(e)},M=function(e,a){var e=(this.block,this.attributes||{},this.escaped||{},e||{});s=[],e.type&&"example"==e.type&&s.push("bUICheckbox__mType_Example"),e.mixin&&s.push(e.mixin),t.push("<label"+jade.attrs({"class":["jsUICheckbox","bUICheckbox",s.join(" ")]},{"class":!0})+">"),e.designed?(t.push("<span"+jade.attrs({"class":["jsUICheckbox__eFakeCheckbox","bUICheckbox__eFakeCheckbox",e.checked?"bUICheckbox__eFakeCheckbox__mChecked_True":void 0]},{"class":!0})+'><span class="bUICheckbox__eInputWrap">'),H(e),t.push("</span></span>")):H(e),e.text&&t.push('<span class="bUICheckbox__eLabel">'+(null==(jade.interp=e.text)?"":jade.interp)+"</span>"),t.push("</label>")},H=function(e){this.block,this.attributes||{},this.escaped||{};t.push("<input"+jade.attrs({type:"checkbox",name:e.inputName,value:e.inputValue,id:e.id,tabindex:e.tabindex,checked:e.checked?"checked":void 0,disabled:e.disabled?"disabled":void 0,required:e.required?"required":void 0,"data-group":e.group,"data-js-widgets":"block!bUICheckbox","class":["jsUICheckbox__eInput","bUICheckbox__eInput"]},{type:!0,name:!0,value:!0,id:!0,tabindex:!0,checked:!0,disabled:!0,required:!0,"data-group":!0,"data-js-widgets":!0})+"/>")},E="",F="";if(u.identity){c=u.identity.split(":");var E=c[0],F=c[1]}if(t.push("<form"+jade.attrs({novalidate:"novalidate","data-target":"bForm_simple","data-validate-submit":"true","data-js-widgets":"block!bForm/bForm_simple","data-submit-handler-id":u.submitHandlerId},{novalidate:!0,"data-target":!0,"data-validate-submit":!0,"data-js-widgets":!0,"data-submit-handler-id":!0})+">"),u.error)k({error:u.error});else switch(u.action){case m.DELETE:"captcha"==u.step?C({header:r("User","SetContactDeleteUbersecurityTitle"),captcha:u.captcha,buttonTitle:r("User","change_mobile_confirmCode__buttonTitle")}):"standalone-error"==u.step?k({error:l.CUSTOM,errorText:u.identityErrorText}):(x({header:r("User","SetContactDeleteUbersecurityTitle"),buttonTitle:r("User","SetContactDeleteUbersecurityButton"),buttonId:"uber_security_botton_switch_off",identity:F,codeErrorText:u.codeErrorText,captcha:u.captcha}),P({type:E,showHelper:!0,resendCode:u.resendCodeHandlerId}));break;case m.ADD:switch(u.step){case"captcha":C({header:r("User","SetContactAddUbersecurityTitle"),captcha:u.captcha,buttonTitle:r("User","change_mobile_confirmCode__buttonTitle")});break;case"mobile":B({header:r("User","SetContactAddUbersecurityWithMobileTitle"),description:r("User","SetContactAddUbersecurityWithMobileDesc"),inputPlaceholder:r("User","add_mobile_init__phonePlaceholder"),buttonTitle:r("User","SetContactAddUbersecurityWithMobileButton"),buttonId:"uber_security_botton_send_sms_code",formData:h,identityErrorText:u.identityErrorText,captcha:u.captcha}),P({switchContactType:u.switchContactTypeHandlerId,switchContactTypeId:"uber_security_link_use_mail",type:"tel"});break;case"email":w({header:r("User","SetContactAddUbersecurityWithEmailTitle"),description:r("User","SetContactAddUbersecurityWithEmailDesc",{identity:F}),inputPlaceholder:r("User","add_email_init__emailPlaceholder"),buttonTitle:r("User","SetContactAddUbersecurityWithEmailButton"),buttonId:"uber_security_botton_send_mail_code",noControls:!0,identityErrorText:u.identityErrorText,captcha:u.captcha}),S({title:r("User","SetContactAddUbersecurityWithEmailWarningTitle"),description:r("User","SetContactAddUbersecurityWithEmailWarningDesc"),switchContactTypeText:r("User","SetContactAddUbersecurityWithEmailSwitchToMobile"),switchContactType:u.switchContactTypeHandlerId,type:"email"});break;case"pincode":x.call({block:function(){u.canAddDevice&&!u.codeErrorText&&(t.push('<div class="bExternalPageFormItem">'),A({text:r("User","AddAppBindRememberComputer"),id:"jsAppBindWidget__RememberComputer",inputName:"add_to_trusted",inputValue:"1",designed:!0,inlineBlock:!0,hint:{content:r("User","AddAppBindRememberComputerHint"),mixin:"jsAppBind_rememberComputer_hintHandler",wrapperMixin:"bUICheckbox__eHintWrapper__mType_unfettered bUICheckbox__eHintWrapper__mType_left",arrowSide:"left"}}),t.push("</div>"))}},{header:r("User","SetContactAddUbersecurityTitle"),buttonTitle:r("User","SetContactAddUbersecurityButton"),buttonId:"uber_security_botton_switch_on",identity:F,codeErrorText:u.codeErrorText,captcha:u.captcha}),P({type:E,showHelper:!0,resendCode:u.resendCodeHandlerId});break;case"complete":t.push('<div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text bExternalPageFormItem__mText_confirmEmail">'+(null==(jade.interp=r("User","SetContactAddUbersecurityWithEmailConfirmLinkSent",{identity:F}))?"":jade.interp)+'</div><div class="bExternalPageFormItem bExternalPageFormItem__mAlign_center bExternalPageFormItem__mType_text">'+(null==(jade.interp=r("User","SetContactAddUbersecurityWithEmailConfirmLinkDesc"))?"":jade.interp)+"</div>"),P({type:"email",showHelper:!0,resendCode:u.resendCodeHandlerId});break;case"standalone-error":k({error:l.CUSTOM,errorText:u.identityErrorText});break;default:k({error:l.UNKNOWN})}}return t.push("</form>"),t.join("")},e}(this.jade.templates);