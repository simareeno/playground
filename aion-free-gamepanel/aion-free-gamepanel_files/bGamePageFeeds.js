(function(){define(["packages/jquery","external!vk-sdk"],function(e,t){return{domEvents:{"click .bGamePageFeeds__eSwitch":"switchFeed"},init:function(){return this.$win=e(window),t.then(this.turnOn.bind(this))},turnOn:function(){if("undefined"!=typeof VK&&null!==VK&&null!=VK.Widgets)return this.$win.on("resize.gamePageFeed",function(e){return function(){return e.initVk()}}(this)),this.$win.triggerHandler("resize.gamePageFeed")},turnOff:function(){return this.$win.off(".gamePageFeed")},classes:{switchActive:"bTabSwitcher__eButton__mState_active",widgetActive:"bGamePageFeeds__eFeed__mState_active"},initVk:function(t){var i;return null==t&&(t=1),i=e(".bGamePageFeeds__eFeed[data-type=vk]"),i.each(function(){var i,s,n,a,r,d;return d=this.id+"_widget",a=e("#"+d),r=this.getAttribute("data-vk-const-wide"),s=a.find("iframe"),i=e(".bGamePageFeeds__eContainer").width()+2,s.remove(),VK.Widgets.Group(d,{mode:2,wide:t,width:i,height:"745"},this.getAttribute("data-groupid")),a.css("width",i+"px"),n=setInterval(function(){if(s=a.find("iframe"),s.length){if(s.css("width")!==i+"px")return s.css("width",i+"px");if(null!=n)return clearInterval(n)}},100)})},switchFeed:function(t){var i,s;return s=e(t.target),i=s.data("enable"),!s.hasClass(this.classes.switchActive)&&(e(".bGamePageFeeds__eSwitch").removeClass(this.classes.switchActive),s.addClass(this.classes.switchActive),e(".bGamePageFeeds__eFeed").removeClass(this.classes.widgetActive),e("#"+i).addClass(this.classes.widgetActive))}}})}).call(this);
//# sourceMappingURL=bGamePageFeeds.js.map
